/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],Array(243).concat([function(t,e,n){"use strict";n.r(e),n.d(e,"createDecorator",(function(){return _})),n.d(e,"mixins",(function(){return v}));var r=n(5);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function h(t,e){d(t,e),Object.getOwnPropertyNames(e.prototype).forEach((function(n){d(t.prototype,e.prototype,n)})),Object.getOwnPropertyNames(e).forEach((function(n){d(t,e,n)}))}function d(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,e,n):Reflect.getOwnMetadata(r,e);n?Reflect.defineMetadata(r,o,t,n):Reflect.defineMetadata(r,o,t)}))}var y={__proto__:[]}instanceof Array;function _(t){return function(e,n,r){var o="function"==typeof e?e:e.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(e){return t(e,n,r)}))}}function v(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.default.extend({mixins:e})}function x(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var r in t.$options.props)t.hasOwnProperty(r)||n.push(r);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var r={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(r[t]=data[t])})),r}var m=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(m.indexOf(t)>-1)e[t]=n[t];else{var r=Object.getOwnPropertyDescriptor(n,t);void 0!==r.value?"function"==typeof r.value?(e.methods||(e.methods={}))[t]=r.value:(e.mixins||(e.mixins=[])).push({data:function(){return c({},t,r.value)}}):(r.get||r.set)&&((e.computed||(e.computed={}))[t]={get:r.get,set:r.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return x(this,t)}});var o=t.__decorators__;o&&(o.forEach((function(t){return t(e)})),delete t.__decorators__);var f=Object.getPrototypeOf(t.prototype),d=f instanceof r.default?f.constructor:r.default,y=d.extend(e);return A(y,t,d),l()&&h(y,t),y}var S={prototype:!0,arguments:!0,callee:!0,caller:!0};function A(t,e,n){Object.getOwnPropertyNames(e).forEach((function(r){if(!S[r]){var c=Object.getOwnPropertyDescriptor(t,r);if(!c||c.configurable){var f,l,h=Object.getOwnPropertyDescriptor(e,r);if(!y){if("cid"===r)return;var d=Object.getOwnPropertyDescriptor(n,r);if(f=h.value,l=o(f),null!=f&&("object"===l||"function"===l)&&d&&d.value===h.value)return}0,Object.defineProperty(t,r,h)}}}))}function T(t){return"function"==typeof t?w(t):function(e){return w(e,t)}}T.registerHooks=function(t){m.push.apply(m,f(t))},e.default=T},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(300),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();t.exports=c},,function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){!function(t,e,n,r,o,c){"use strict";function f(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=f(e),h=f(n);h.default.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave","asyncData","fetch","fetchOnServer","head","key","layout","loading","middleware","scrollToTop","transition","validate","watchQuery","meta"]);var d=/\B([A-Z])/g,y=function(t){return t.replace(d,"-$1").toLowerCase()};Object.defineProperty(t,"Vue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"mixins",{enumerable:!0,get:function(){return n.mixins}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return r.Module}}),Object.defineProperty(t,"MutationAction",{enumerable:!0,get:function(){return r.MutationAction}}),Object.defineProperty(t,"VuexAction",{enumerable:!0,get:function(){return r.Action}}),Object.defineProperty(t,"VuexModule",{enumerable:!0,get:function(){return r.VuexModule}}),Object.defineProperty(t,"VuexMutation",{enumerable:!0,get:function(){return r.Mutation}}),Object.defineProperty(t,"getModule",{enumerable:!0,get:function(){return r.getModule}}),Object.defineProperty(t,"Action",{enumerable:!0,get:function(){return o.Action}}),Object.defineProperty(t,"Getter",{enumerable:!0,get:function(){return o.Getter}}),Object.defineProperty(t,"Mutation",{enumerable:!0,get:function(){return o.Mutation}}),Object.defineProperty(t,"State",{enumerable:!0,get:function(){return o.State}}),Object.defineProperty(t,"namespace",{enumerable:!0,get:function(){return o.namespace}}),Object.defineProperty(t,"Emit",{enumerable:!0,get:function(){return c.Emit}}),Object.defineProperty(t,"Inject",{enumerable:!0,get:function(){return c.Inject}}),Object.defineProperty(t,"InjectReactive",{enumerable:!0,get:function(){return c.InjectReactive}}),Object.defineProperty(t,"Model",{enumerable:!0,get:function(){return c.Model}}),Object.defineProperty(t,"Prop",{enumerable:!0,get:function(){return c.Prop}}),Object.defineProperty(t,"PropSync",{enumerable:!0,get:function(){return c.PropSync}}),Object.defineProperty(t,"Provide",{enumerable:!0,get:function(){return c.Provide}}),Object.defineProperty(t,"ProvideReactive",{enumerable:!0,get:function(){return c.ProvideReactive}}),Object.defineProperty(t,"Ref",{enumerable:!0,get:function(){return c.Ref}}),Object.defineProperty(t,"Watch",{enumerable:!0,get:function(){return c.Watch}}),t.NextTick=function(t){return function(e,n,r){var o=r.value;r.value=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!1!==o.apply(this,e)){if("function"!=typeof this[t])throw new TypeError("must be a method name");this.$nextTick(this[t])}}}},t.Off=function(t,e){return function(n,r,o){r=y(r);var c=o.value;o.value=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(!1!==c.apply(this,n))if(e){if("function"!=typeof this[e])throw new TypeError("must be a method name");this.$off(t||r,this[e])}else t?this.$off(t||r):this.$off()}}},t.On=function(t){return n.createDecorator((function(e,n){var r=y(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$on(t||r,e.methods[n])}}))},t.Once=function(t){return n.createDecorator((function(e,n){var r=y(n);"function"!=typeof e.created&&(e.created=function(){});var o=e.created;e.created=function(){o(),void 0!==e.methods&&this.$once(t||r,e.methods[n])}}))},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(5),n(243),n(335),n(475),n(467))},function(t,e,n){"use strict";function r(t,p){return(r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t})(t,p)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(22);function o(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(360),o=n(363);t.exports=function(object,t){var e=o(object,t);return r(e)?e:void 0}},function(t,e,n){var r=n(255),o=n(343),c=n(344),f=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?o(t):c(t)}},function(t,e,n){var r=n(246).Symbol;t.exports=r},function(t,e,n){var r=n(282),o=n(279);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(244),o=n(283),c=n(354),f=n(378);t.exports=function(t,object){return r(t)?t:o(t,object)?[t]:c(f(t))}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(265);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(299),o=n(393),c=n(256);t.exports=function(object){return c(object)?r(object,!0):o(object)}},function(t,e,n){var r=n(287),o=n(288);t.exports=function(source,t,object,e){var n=!object;object||(object={});for(var c=-1,f=t.length;++c<f;){var l=t[c],h=e?e(object[l],source[l],l,object,source):void 0;void 0===h&&(h=source[l]),n?o(object,l,h):r(object,l,h)}return object}},function(t,e,n){var r=n(299),o=n(347),c=n(256);t.exports=function(object){return c(object)?r(object):o(object)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(257),o=n(259);t.exports=function(object,path){for(var t=0,e=(path=r(path,object)).length;null!=object&&t<e;)object=object[o(path[t++])];return t&&t==e?object:void 0}},function(t,e,n){var r=n(254),o=n(252);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(342),o=n(252),c=Object.prototype,f=c.hasOwnProperty,l=c.propertyIsEnumerable,h=r(function(){return arguments}())?r:function(t){return o(t)&&f.call(t,"callee")&&!l.call(t,"callee")};t.exports=h},function(t,e,n){(function(t){var r=n(246),o=n(345),c=e&&!e.nodeType&&e,f=c&&"object"==typeof t&&t&&!t.nodeType&&t,l=f&&f.exports===c?r.Buffer:void 0,h=(l?l.isBuffer:void 0)||o;t.exports=h}).call(this,n(277)(t))},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(253)(Object,"create");t.exports=r},function(t,e,n){var r=n(368),o=n(369),c=n(370),f=n(371),l=n(372);function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=r,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=f,h.prototype.set=l,t.exports=h},function(t,e,n){var r=n(258);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(374);t.exports=function(map,t){var data=map.__data__;return r(t)?data["string"==typeof t?"string":"hash"]:data.map}},function(t,e,n){var r=n(271),o=n(398),c=n(399),f=n(400),l=n(401),h=n(402);function d(t){var data=this.__data__=new r(t);this.size=data.size}d.prototype.clear=o,d.prototype.delete=c,d.prototype.get=f,d.prototype.has=l,d.prototype.set=h,t.exports=d},function(t,e,n){var r=n(414),o=n(285),c=n(415),f=n(416),l=n(417),h=n(254),d=n(302),y=d(r),_=d(o),v=d(c),x=d(f),m=d(l),w=h;(r&&"[object DataView]"!=w(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=w(new o)||c&&"[object Promise]"!=w(c.resolve())||f&&"[object Set]"!=w(new f)||l&&"[object WeakMap]"!=w(new l))&&(w=function(t){var e=h(t),n="[object Object]"==e?t.constructor:void 0,r=n?d(n):"";if(r)switch(r){case y:return"[object DataView]";case _:return"[object Map]";case v:return"[object Promise]";case x:return"[object Set]";case m:return"[object WeakMap]"}return e}),t.exports=w},function(t,e,n){var r=n(339),o=n(349)(r);t.exports=o},,function(t,e,n){var r=n(346),o=n(269),c=n(280),f=c&&c.isTypedArray,l=f?o(f):r;t.exports=l},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(300),o=e&&!e.nodeType&&e,c=o&&"object"==typeof t&&t&&!t.nodeType&&t,f=c&&c.exports===o&&r.process,l=function(){try{var t=c&&c.require&&c.require("util").types;return t||f&&f.binding&&f.binding("util")}catch(t){}}();t.exports=l}).call(this,n(277)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(254),o=n(245);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(244),o=n(265),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;t.exports=function(t,object){if(r(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!o(t))||(f.test(t)||!c.test(t)||null!=object&&t in Object(object))}},function(t,e,n){var r=n(357),o=n(373),c=n(375),f=n(376),l=n(377);function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=r,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=f,h.prototype.set=l,t.exports=h},function(t,e,n){var r=n(253)(n(246),"Map");t.exports=r},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(288),o=n(258),c=Object.prototype.hasOwnProperty;t.exports=function(object,t,e){var n=object[t];c.call(object,t)&&o(n,e)&&(void 0!==e||t in object)||r(object,t,e)}},function(t,e,n){var r=n(303);t.exports=function(object,t,e){"__proto__"==t&&r?r(object,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):object[t]=e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(263),o=n(306),c=n(308);t.exports=function(t,e){return c(o(t,e,r),t+"")}},function(t,e,n){var r=n(413),o=n(317),c=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols,l=f?function(object){return null==object?[]:(object=Object(object),r(f(object),(function(symbol){return c.call(object,symbol)})))}:o;t.exports=l},function(t,e,n){var r=n(314);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(301)(Object.getPrototypeOf,Object);t.exports=r},,,function(t,e,n){var r=n(297),o=n(276),c=n(350),f=n(244);t.exports=function(t,e){return(f(t)?r:o)(t,c(e))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(340)();t.exports=r},function(t,e,n){var r=n(341),o=n(266),c=n(244),f=n(267),l=n(268),h=n(278),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=c(t),y=!n&&o(t),_=!n&&!y&&f(t),v=!n&&!y&&!_&&h(t),x=n||y||_||v,m=x?r(t.length,String):[],w=m.length;for(var S in t)!e&&!d.call(t,S)||x&&("length"==S||_&&("offset"==S||"parent"==S)||v&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||l(S,w))||m.push(S);return m}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(44))},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(253),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(381),o=n(382);t.exports=function(object,path){return null!=object&&o(object,path,r)}},function(t,e,n){var r=n(383),o=n(306),c=n(308);t.exports=function(t){return c(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(307),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var c=arguments,f=-1,l=o(c.length-e,0),h=Array(l);++f<l;)h[f]=c[e+f];f=-1;for(var d=Array(e+1);++f<e;)d[f]=c[f];return d[e]=n(h),r(t,this,d)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(386),o=n(388)(r);t.exports=o},function(t,e,n){var r=n(258),o=n(256),c=n(268),f=n(245);t.exports=function(t,e,object){if(!f(object))return!1;var n=typeof e;return!!("number"==n?o(object)&&c(e,object.length):"string"==n&&e in object)&&r(object[e],t)}},function(t,e,n){var r=n(395),o=n(276),c=n(311),f=n(424),l=n(244);t.exports=function(t,e,n){var h=l(t)?r:f,d=arguments.length<3;return h(t,c(e,4),n,d,o)}},function(t,e,n){var r=n(396),o=n(419),c=n(263),f=n(244),l=n(421);t.exports=function(t){return"function"==typeof t?t:null==t?c:"object"==typeof t?f(t)?o(t[0],t[1]):r(t):l(t)}},function(t,e,n){var r=n(403),o=n(252);t.exports=function t(e,n,c,f,l){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,c,f,t,l))}},function(t,e,n){var r=n(404),o=n(407),c=n(408);t.exports=function(t,e,n,f,l,h){var d=1&n,y=t.length,_=e.length;if(y!=_&&!(d&&_>y))return!1;var v=h.get(t),x=h.get(e);if(v&&x)return v==e&&x==t;var m=-1,w=!0,S=2&n?new r:void 0;for(h.set(t,e),h.set(e,t);++m<y;){var A=t[m],T=e[m];if(f)var P=d?f(T,A,m,e,t,h):f(A,T,m,t,e,h);if(void 0!==P){if(P)continue;w=!1;break}if(S){if(!o(e,(function(t,e){if(!c(S,e)&&(A===t||l(A,t,n,f,h)))return S.push(e)}))){w=!1;break}}else if(A!==T&&!l(A,T,n,f,h)){w=!1;break}}return h.delete(t),h.delete(e),w}},function(t,e,n){var r=n(246).Uint8Array;t.exports=r},function(t,e,n){var r=n(316),o=n(291),c=n(262);t.exports=function(object){return r(object,c,o)}},function(t,e,n){var r=n(289),o=n(244);t.exports=function(object,t,e){var n=t(object);return o(object)?n:r(n,e(object))}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(245);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(object){return null!=object&&(object[t]===e&&(void 0!==e||t in Object(object)))}}},function(t,e,n){var r=n(274),o=n(321),c=n(298),f=n(428),l=n(245),h=n(260),d=n(327);t.exports=function t(object,source,e,n,y){object!==source&&c(source,(function(c,h){if(y||(y=new r),l(c))f(object,source,h,e,t,n,y);else{var _=n?n(d(object,h),c,h+"",object,source,y):void 0;void 0===_&&(_=c),o(object,h,_)}}),h)}},function(t,e,n){var r=n(288),o=n(258);t.exports=function(object,t,e){(void 0!==e&&!o(object[t],e)||void 0===e&&!(t in object))&&r(object,t,e)}},function(t,e,n){(function(t){var r=n(246),o=e&&!e.nodeType&&e,c=o&&"object"==typeof t&&t&&!t.nodeType&&t,f=c&&c.exports===o?r.Buffer:void 0,l=f?f.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=l?l(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(277)(t))},function(t,e,n){var r=n(292);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e){t.exports=function(source,t){var e=-1,n=source.length;for(t||(t=Array(n));++e<n;)t[e]=source[e];return t}},function(t,e,n){var r=n(429),o=n(293),c=n(281);t.exports=function(object){return"function"!=typeof object.constructor||c(object)?{}:r(o(object))}},function(t,e,n){var r=n(254),o=n(293),c=n(252),f=Function.prototype,l=Object.prototype,h=f.toString,d=l.hasOwnProperty,y=h.call(Object);t.exports=function(t){if(!c(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=d.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&h.call(n)==y}},function(t,e){t.exports=function(object,t){if(("constructor"!==t||"function"!=typeof object[t])&&"__proto__"!=t)return object[t]}},function(t,e,n){var r=n(286),o=n(437),c=n(451),f=n(257),l=n(261),h=n(455),d=n(305),y=n(330),_=d((function(object,t){var e={};if(null==object)return e;var n=!1;t=r(t,(function(path){return path=f(path,object),n||(n=path.length>1),path})),l(object,y(object),e),n&&(e=o(e,7,h));for(var d=t.length;d--;)c(e,t[d]);return e}));t.exports=_},function(t,e,n){var r=n(289),o=n(293),c=n(291),f=n(317),l=Object.getOwnPropertySymbols?function(object){for(var t=[];object;)r(t,c(object)),object=o(object);return t}:f;t.exports=l},function(t,e,n){var r=n(316),o=n(329),c=n(260);t.exports=function(object){return r(object,c,o)}},,,,,function(t,e,n){"use strict";function r(t,source){for(var e=function(e){Object.defineProperty(t,e,{get:function(){return source[e]}})},n=0,r=Object.keys(source||{});n<r.length;n++){e(r[n])}}function o(t){if(!t._vmdModuleName)throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");return"vuexModuleDecorators/"+t._vmdModuleName}n.r(e),n.d(e,"Action",(function(){return S})),n.d(e,"Module",(function(){return x})),n.d(e,"Mutation",(function(){return A})),n.d(e,"MutationAction",(function(){return P})),n.d(e,"VuexModule",(function(){return c})),n.d(e,"config",(function(){return m})),n.d(e,"getModule",(function(){return f}));var c=function(t){this.actions=t.actions,this.mutations=t.mutations,this.state=t.state,this.getters=t.getters,this.namespaced=t.namespaced,this.modules=t.modules};function f(t,e){var n=o(t);if(e&&e.getters[n])return e.getters[n];if(t._statics)return t._statics;var r=t._genStatic;if(!r)throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })");var c=r(e);return e?e.getters[n]=c:t._statics=c,c}var l=["actions","getters","mutations","modules","state","namespaced","commit"];function h(t,e,n,r){return new(n||(n=Promise))((function(o,c){function f(t){try{h(r.next(t))}catch(t){c(t)}}function l(t){try{h(r.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(f,l)}h((r=r.apply(t,e||[])).next())}))}function d(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(f){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&c[0]?n.return:c[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,c[1])).done)return r;switch(n=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(6===c[0]&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=body.call(t,o)}catch(t){c=[6,t],n=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,f])}}}function y(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e}function _(t,e){Object.getOwnPropertyNames(e.prototype).forEach((function(n){var o=Object.getOwnPropertyDescriptor(e.prototype,n);o.get&&t.getters&&(t.getters[n]=function(t,e,n,c){var f={context:{state:t,getters:e,rootState:n,rootGetters:c}};return r(f,t),r(f,e),o.get.call(f)})}))}function v(t){return function(e){var n=e,r=function(){return function(t){var e=new t.prototype.constructor({}),s={};return Object.keys(e).forEach((function(t){if(-1===l.indexOf(t))e.hasOwnProperty(t)&&"function"!=typeof e[t]&&(s[t]=e[t]);else if(void 0!==e[t])throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")})),s}(n)};n.state||(n.state=t&&t.stateFactory?r:r()),n.getters||(n.getters={}),n.namespaced||(n.namespaced=t&&t.namespaced);for(var o=Object.getPrototypeOf(n);"VuexModule"!==o.name&&""!==o.name;)_(n,o),o=Object.getPrototypeOf(o);_(n,n);var c=t;return c.name&&(Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||c.store};if(!e.store)throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)");return function(t,e,n){var r=e.stateFactory?t.state():t.state;Object.keys(r).forEach((function(t){r.hasOwnProperty(t)&&-1===["undefined","function"].indexOf(typeof r[t])&&Object.defineProperty(n,t,{get:function(){for(var path=e.name.split("/"),data=n.store.state,r=0,o=path;r<o.length;r++){data=data[o[r]]}return data[t]}})}))}(n,c,e),n.getters&&function(t,e,n){Object.keys(t.getters).forEach((function(r){t.namespaced?Object.defineProperty(n,r,{get:function(){return n.store.getters[e.name+"/"+r]}}):Object.defineProperty(n,r,{get:function(){return n.store.getters[r]}})}))}(n,c,e),n.mutations&&function(t,e,n){Object.keys(t.mutations).forEach((function(r){t.namespaced?n[r]=function(){for(var t,o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];(t=n.store).commit.apply(t,y([e.name+"/"+r],o))}:n[r]=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=n.store).commit.apply(t,y([r],e))}}))}(n,c,e),n.actions&&function(t,e,n){Object.keys(t.actions).forEach((function(r){t.namespaced?n[r]=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return h(this,void 0,void 0,(function(){var o;return d(this,(function(c){return[2,(o=n.store).dispatch.apply(o,y([e.name+"/"+r],t))]}))}))}:n[r]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h(this,void 0,void 0,(function(){var e;return d(this,(function(o){return[2,(e=n.store).dispatch.apply(e,y([r],t))]}))}))}}))}(n,c,e),e}}),Object.defineProperty(e,"_vmdModuleName",{value:c.name})),c.dynamic&&function(t,e){if(!e.name)throw new Error("Name of module not provided in decorator options");if(!e.store)throw new Error("Store not provided in decorator options when using dynamic option");e.store.registerModule(e.name,t,{preserveState:e.preserveState||!1})}(n,c),e}}function x(t){if("function"!=typeof t)return v(t);v({})(t)}var m={};function w(t){var e=t||{},n=e.commit,c=void 0===n?void 0:n,l=e.rawError,y=void 0===l?!!m.rawError:l,_=e.root,v=void 0!==_&&_;return function(t,e,n){var l=t.constructor;l.hasOwnProperty("actions")||(l.actions=Object.assign({},l.actions));var _=n.value,x=function(t,n){return h(this,void 0,void 0,(function(){var h,v,x,m,w;return d(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),h=null,l._genStatic?(v=o(l),(x=t.rootGetters[v]?t.rootGetters[v]:f(l)).context=t,[4,_.call(x,n)]):[3,2];case 1:return h=d.sent(),[3,4];case 2:return r(m={context:t},t.state),r(m,t.getters),[4,_.call(m,n)];case 3:h=d.sent(),d.label=4;case 4:return c&&t.commit(c,h),[2,h];case 5:throw w=d.sent(),y?w:new Error('ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access this.someMutation() or this.someGetter inside an @Action? \nThat works only in dynamic modules. \nIf not dynamic use this.context.commit("mutationName", payload) and this.context.getters["getterName"]\n'+new Error("Could not perform action "+e.toString()).stack+"\n"+w.stack);case 6:return[2]}}))}))};l.actions[e]=v?{root:v,handler:x}:x}}function S(t,e,n){if(!e&&!n)return w(t);w()(t,e,n)}function A(t,e,n){var r=t.constructor;r.hasOwnProperty("mutations")||(r.mutations=Object.assign({},r.mutations));var o=n.value;r.mutations[e]=function(t,e){o.call(t,e)}}function T(t){return function(e,n,r){var o=e.constructor;o.hasOwnProperty("mutations")||(o.mutations=Object.assign({},o.mutations)),o.hasOwnProperty("actions")||(o.actions=Object.assign({},o.actions));var c=r.value,f=function(e,r){return h(this,void 0,void 0,(function(){var o,f;return d(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,c.call(e,r)];case 1:return o=l.sent(),e.commit(n,o),[3,3];case 2:if(f=l.sent(),t.rawError)throw f;return console.error("Could not perform action "+n.toString()),console.error(f),[2,Promise.reject(f)];case 3:return[2]}}))}))};o.actions[n]=t.root?{root:!0,handler:f}:f,o.mutations[n]=function(e,n){t.mutate||(t.mutate=Object.keys(n));for(var r=0,o=t.mutate;r<o.length;r++){var c=o[r];if(!e.hasOwnProperty(c)||!n.hasOwnProperty(c))throw new Error("ERR_MUTATE_PARAMS_NOT_IN_PAYLOAD\n          In @MutationAction, mutate: ['a', 'b', ...] array keys must\n          match with return type = {a: {}, b: {}, ...} and must\n          also be in state.");e[c]=n[c]}}}}function P(t,e,n){if(!e&&!n)return T(t);T({})(t,e,n)}},,,,function(t,e,n){var r=n(298),o=n(262);t.exports=function(object,t){return object&&r(object,t,o)}},function(t,e){t.exports=function(t){return function(object,e,n){for(var r=-1,o=Object(object),c=n(object),f=c.length;f--;){var l=c[t?f:++r];if(!1===e(o[l],l,o))break}return object}}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(254),o=n(252);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e,n){var r=n(255),o=Object.prototype,c=o.hasOwnProperty,f=o.toString,l=r?r.toStringTag:void 0;t.exports=function(t){var e=c.call(t,l),n=t[l];try{t[l]=void 0;var r=!0}catch(t){}var o=f.call(t);return r&&(e?t[l]=n:delete t[l]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(254),o=n(279),c=n(252),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,t.exports=function(t){return c(t)&&o(t.length)&&!!f[r(t)]}},function(t,e,n){var r=n(281),o=n(348),c=Object.prototype.hasOwnProperty;t.exports=function(object){if(!r(object))return o(object);var t=[];for(var e in Object(object))c.call(object,e)&&"constructor"!=e&&t.push(e);return t}},function(t,e,n){var r=n(301)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(256);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var c=n.length,f=e?c:-1,l=Object(n);(e?f--:++f<c)&&!1!==o(l[f],f,l););return n}}},function(t,e,n){var r=n(263);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(352),o=n(305)((function(object,t){return null==object?{}:r(object,t)}));t.exports=o},function(t,e,n){var r=n(353),o=n(304);t.exports=function(object,t){return r(object,t,(function(t,path){return o(object,path)}))}},function(t,e,n){var r=n(264),o=n(380),c=n(257);t.exports=function(object,t,e){for(var n=-1,f=t.length,l={};++n<f;){var path=t[n],h=r(object,path);e(h,path)&&o(l,c(path,object),h)}return l}},function(t,e,n){var r=n(355),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,f=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(c,"$1"):n||t)})),e}));t.exports=f},function(t,e,n){var r=n(356);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(284);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],c=n.cache;if(c.has(o))return c.get(o);var f=t.apply(this,r);return n.cache=c.set(o,f)||c,f};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(358),o=n(271),c=n(285);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},function(t,e,n){var r=n(359),o=n(364),c=n(365),f=n(366),l=n(367);function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=r,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=f,h.prototype.set=l,t.exports=h},function(t,e,n){var r=n(270);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(282),o=n(361),c=n(245),f=n(302),l=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,y=h.toString,_=d.hasOwnProperty,v=RegExp("^"+y.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!c(t)||o(t))&&(r(t)?v:l).test(f(t))}},function(t,e,n){var r,o=n(362),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!c&&c in t}},function(t,e,n){var r=n(246)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(object,t){return null==object?void 0:object[t]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(270),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;if(r){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(data,t)?data[t]:void 0}},function(t,e,n){var r=n(270),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;return r?void 0!==data[t]:o.call(data,t)}},function(t,e,n){var r=n(270);t.exports=function(t,e){var data=this.__data__;return this.size+=this.has(t)?0:1,data[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(272),o=Array.prototype.splice;t.exports=function(t){var data=this.__data__,e=r(data,t);return!(e<0)&&(e==data.length-1?data.pop():o.call(data,e,1),--this.size,!0)}},function(t,e,n){var r=n(272);t.exports=function(t){var data=this.__data__,e=r(data,t);return e<0?void 0:data[e][1]}},function(t,e,n){var r=n(272);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(272);t.exports=function(t,e){var data=this.__data__,n=r(data,t);return n<0?(++this.size,data.push([t,e])):data[n][1]=e,this}},function(t,e,n){var r=n(273);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(273);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(273);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(273);t.exports=function(t,e){var data=r(this,t),n=data.size;return data.set(t,e),this.size+=data.size==n?0:1,this}},function(t,e,n){var r=n(379);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(255),o=n(286),c=n(244),f=n(265),l=r?r.prototype:void 0,h=l?l.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(c(e))return o(e,t)+"";if(f(e))return h?h.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e,n){var r=n(287),o=n(257),c=n(268),f=n(245),l=n(259);t.exports=function(object,path,t,e){if(!f(object))return object;for(var n=-1,h=(path=o(path,object)).length,d=h-1,y=object;null!=y&&++n<h;){var _=l(path[n]),v=t;if("__proto__"===_||"constructor"===_||"prototype"===_)return object;if(n!=d){var x=y[_];void 0===(v=e?e(x,_,y):void 0)&&(v=f(x)?x:c(path[n+1])?[]:{})}r(y,_,v),y=y[_]}return object}},function(t,e){t.exports=function(object,t){return null!=object&&t in Object(object)}},function(t,e,n){var r=n(257),o=n(266),c=n(244),f=n(268),l=n(279),h=n(259);t.exports=function(object,path,t){for(var e=-1,n=(path=r(path,object)).length,d=!1;++e<n;){var y=h(path[e]);if(!(d=null!=object&&t(object,y)))break;object=object[y]}return d||++e!=n?d:!!(n=null==object?0:object.length)&&l(n)&&f(y,n)&&(c(object)||o(object))}},function(t,e,n){var r=n(384);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(289),o=n(385);t.exports=function t(e,n,c,f,l){var h=-1,d=e.length;for(c||(c=o),l||(l=[]);++h<d;){var y=e[h];n>0&&c(y)?n>1?t(y,n-1,c,f,l):r(l,y):f||(l[l.length]=y)}return l}},function(t,e,n){var r=n(255),o=n(266),c=n(244),f=r?r.isConcatSpreadable:void 0;t.exports=function(t){return c(t)||o(t)||!!(f&&t&&t[f])}},function(t,e,n){var r=n(387),o=n(303),c=n(263),f=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:c;t.exports=f},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),c=16-(o-r);if(r=o,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},,,,function(t,e,n){var r=n(290),o=n(258),c=n(309),f=n(260),l=Object.prototype,h=l.hasOwnProperty,d=r((function(object,t){object=Object(object);var e=-1,n=t.length,r=n>2?t[2]:void 0;for(r&&c(t[0],t[1],r)&&(n=1);++e<n;)for(var source=t[e],d=f(source),y=-1,_=d.length;++y<_;){var v=d[y],x=object[v];(void 0===x||o(x,l[v])&&!h.call(object,v))&&(object[v]=source[v])}return object}));t.exports=d},function(t,e,n){var r=n(245),o=n(281),c=n(394),f=Object.prototype.hasOwnProperty;t.exports=function(object){if(!r(object))return c(object);var t=o(object),e=[];for(var n in object)("constructor"!=n||!t&&f.call(object,n))&&e.push(n);return e}},function(t,e){t.exports=function(object){var t=[];if(null!=object)for(var e in Object(object))t.push(e);return t}},function(t,e){t.exports=function(t,e,n,r){var o=-1,c=null==t?0:t.length;for(r&&c&&(n=t[++o]);++o<c;)n=e(n,t[o],o,t);return n}},function(t,e,n){var r=n(397),o=n(418),c=n(319);t.exports=function(source){var t=o(source);return 1==t.length&&t[0][2]?c(t[0][0],t[0][1]):function(object){return object===source||r(object,source,t)}}},function(t,e,n){var r=n(274),o=n(312);t.exports=function(object,source,t,e){var n=t.length,c=n,f=!e;if(null==object)return!c;for(object=Object(object);n--;){var data=t[n];if(f&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++n<c;){var l=(data=t[n])[0],h=object[l],d=data[1];if(f&&data[2]){if(void 0===h&&!(l in object))return!1}else{var y=new r;if(e)var _=e(h,d,l,object,source,y);if(!(void 0===_?o(d,h,3,e,y):_))return!1}}return!0}},function(t,e,n){var r=n(271);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var data=this.__data__,e=data.delete(t);return this.size=data.size,e}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(271),o=n(285),c=n(284);t.exports=function(t,e){var data=this.__data__;if(data instanceof r){var n=data.__data__;if(!o||n.length<199)return n.push([t,e]),this.size=++data.size,this;data=this.__data__=new c(n)}return data.set(t,e),this.size=data.size,this}},function(t,e,n){var r=n(274),o=n(313),c=n(409),f=n(412),l=n(275),h=n(244),d=n(267),y=n(278),_="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(object,t,e,n,x,m){var w=h(object),S=h(t),A=w?"[object Array]":l(object),T=S?"[object Array]":l(t),P=(A="[object Arguments]"==A?_:A)==_,C=(T="[object Arguments]"==T?_:T)==_,M=A==T;if(M&&d(object)){if(!d(t))return!1;w=!0,P=!1}if(M&&!P)return m||(m=new r),w||y(object)?o(object,t,e,n,x,m):c(object,t,A,e,n,x,m);if(!(1&e)){var E=P&&v.call(object,"__wrapped__"),L=C&&v.call(t,"__wrapped__");if(E||L){var O=E?object.value():object,k=L?t.value():t;return m||(m=new r),x(O,k,e,n,m)}}return!!M&&(m||(m=new r),f(object,t,e,n,x,m))}},function(t,e,n){var r=n(284),o=n(405),c=n(406);function f(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}f.prototype.add=f.prototype.push=o,f.prototype.has=c,t.exports=f},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(255),o=n(314),c=n(258),f=n(313),l=n(410),h=n(411),d=r?r.prototype:void 0,y=d?d.valueOf:void 0;t.exports=function(object,t,e,n,r,d,_){switch(e){case"[object DataView]":if(object.byteLength!=t.byteLength||object.byteOffset!=t.byteOffset)return!1;object=object.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=t.byteLength||!d(new o(object),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+object,+t);case"[object Error]":return object.name==t.name&&object.message==t.message;case"[object RegExp]":case"[object String]":return object==t+"";case"[object Map]":var v=l;case"[object Set]":var x=1&n;if(v||(v=h),object.size!=t.size&&!x)return!1;var m=_.get(object);if(m)return m==t;n|=2,_.set(object,t);var w=f(v(object),v(t),n,r,d,_);return _.delete(object),w;case"[object Symbol]":if(y)return y.call(object)==y.call(t)}return!1}},function(t,e){t.exports=function(map){var t=-1,e=Array(map.size);return map.forEach((function(n,r){e[++t]=[r,n]})),e}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(315),o=Object.prototype.hasOwnProperty;t.exports=function(object,t,e,n,c,f){var l=1&e,h=r(object),d=h.length;if(d!=r(t).length&&!l)return!1;for(var y=d;y--;){var _=h[y];if(!(l?_ in t:o.call(t,_)))return!1}var v=f.get(object),x=f.get(t);if(v&&x)return v==t&&x==object;var m=!0;f.set(object,t),f.set(t,object);for(var w=l;++y<d;){var S=object[_=h[y]],A=t[_];if(n)var T=l?n(A,S,_,t,object,f):n(S,A,_,object,t,f);if(!(void 0===T?S===A||c(S,A,e,n,f):T)){m=!1;break}w||(w="constructor"==_)}if(m&&!w){var P=object.constructor,C=t.constructor;P==C||!("constructor"in object)||!("constructor"in t)||"function"==typeof P&&P instanceof P&&"function"==typeof C&&C instanceof C||(m=!1)}return f.delete(object),f.delete(t),m}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,c=[];++n<r;){var f=t[n];e(f,n,t)&&(c[o++]=f)}return c}},function(t,e,n){var r=n(253)(n(246),"DataView");t.exports=r},function(t,e,n){var r=n(253)(n(246),"Promise");t.exports=r},function(t,e,n){var r=n(253)(n(246),"Set");t.exports=r},function(t,e,n){var r=n(253)(n(246),"WeakMap");t.exports=r},function(t,e,n){var r=n(318),o=n(262);t.exports=function(object){for(var t=o(object),e=t.length;e--;){var n=t[e],c=object[n];t[e]=[n,c,r(c)]}return t}},function(t,e,n){var r=n(312),o=n(420),c=n(304),f=n(283),l=n(318),h=n(319),d=n(259);t.exports=function(path,t){return f(path)&&l(t)?h(d(path),t):function(object){var e=o(object,path);return void 0===e&&e===t?c(object,path):r(t,e,3)}}},function(t,e,n){var r=n(264);t.exports=function(object,path,t){var e=null==object?void 0:r(object,path);return void 0===e?t:e}},function(t,e,n){var r=n(422),o=n(423),c=n(283),f=n(259);t.exports=function(path){return c(path)?r(f(path)):o(path)}},function(t,e){t.exports=function(t){return function(object){return null==object?void 0:object[t]}}},function(t,e,n){var r=n(264);t.exports=function(path){return function(object){return r(object,path)}}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,c){n=r?(r=!1,t):e(n,t,o,c)})),n}},function(t,e,n){t.exports=function(){"use strict";function t(t){var e=this;e.d3=window.d3?window.d3:n(466),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function e(n){this.internal=new t(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function t(e,n,r){Object.keys(e).forEach((function(o){n[o]=e[o].bind(r),Object.keys(e[o]).length>0&&t(e[o],n[o],r)}))}(e.prototype,this,this)}var r=function(t){return Math.ceil(t)+.5},o=function(t){return 10*Math.ceil(t/10)},c=function(t){return t[1]-t[0]},f=function(t,e,n){return y(t[e])?t[e]:n},l=function(path){var t=h(path),e=[path.pathSegList.getItem(0),path.pathSegList.getItem(1)];return{x:e[0].x,y:Math.min(e[0].y,e[1].y),width:t.width,height:t.height}},h=function(element){try{return element.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},d=function(t){return Array.isArray(t)},y=function(t){return void 0!==t},_=function(t){return null==t||m(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},v=function(t){return"function"==typeof t},x=function(t){return"number"==typeof t},m=function(t){return"string"==typeof t},w=function(t){return void 0===t},S=function(t){return t||0===t},A=function(t){return!_(t)},T=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},P=function(t){var e=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf("MSIE ");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e)),10):(e=t.indexOf("Trident/"))>0&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10))}();return void 0===t?!!e:t===e};function C(component,t){this.component=component,this.params=t||{},this.d3=component.d3,this.scale=this.d3.scaleLinear(),this.range,this.orient="bottom",this.innerTickSize=6,this.outerTickSize=this.params.withOuterTick?6:0,this.tickPadding=3,this.tickValues=null,this.tickFormat,this.tickArguments,this.tickOffset=0,this.tickCulling=!0,this.tickCentered,this.tickTextCharSize,this.tickTextRotate=this.params.tickTextRotate,this.tickLength,this.axis=this.generateAxis()}C.prototype.axisX=function(t,e,n){t.attr("transform",(function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"}))},C.prototype.axisY=function(t,e){t.attr("transform",(function(t){return"translate(0,"+Math.ceil(e(t))+")"}))},C.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},C.prototype.generateTicks=function(t){var i,e,n=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(e=t.domain(),i=Math.ceil(e[0]);i<e[1];i++)n.push(i);return n.length>0&&n[0]>0&&n.unshift(n[0]-(n[1]-n[0])),n},C.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},C.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},C.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},C.prototype.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text((function(t){return e.textFormatted(t)})).each((function(t){var r=h(this),text=e.textFormatted(t),o=r.height,c=text?r.width/text.length:void 0;o&&c&&(n.h=o,n.w=c)})).text(""),e.tickTextCharSize=n,n},C.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},C.prototype.tspanData=function(t,i,e){var n=this.params.tickMultiline?this.splitTickText(t,e):[].concat(this.textFormatted(t));return this.params.tickMultiline&&this.params.tickMultilineMax>0&&(n=this.ellipsify(n,this.params.tickMultilineMax)),n.map((function(s){return{index:i,splitted:s,length:n.length}}))},C.prototype.splitTickText=function(t,e){var n,r,o,c=this,f=c.textFormatted(t),l=c.params.tickWidth;return"[object Array]"===Object.prototype.toString.call(f)?f:((!l||l<=0)&&(l=c.isVertical()?95:c.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,text){r=void 0;for(var i=1;i<text.length;i++)if(" "===text.charAt(i)&&(r=i),n=text.substr(0,i+1),o=c.tickTextCharSize.w*n.length,l<o)return t(e.concat(text.substr(0,r||i)),text.slice(r?r+1:i));return e.concat(text)}([],f+""))},C.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),r=3,i=e-1;i>=0;i--){var o=n[i].length;if(n[i]=n[i].substr(0,o-r).padEnd(o,"."),(r-=o)<=0)break}return n},C.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},C.prototype.lineY2=function(t){var e=this.scale(t)+(this.tickCentered?0:this.tickOffset);return this.range[0]<e&&e<this.range[1]?this.innerTickSize:0},C.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},C.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},C.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},C.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},C.prototype.tspanDy=function(t,i){var e=this.tickTextCharSize.h;return 0===i&&(e=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),e},C.prototype.generateAxis=function(){var t=this,e=t.d3,n=t.params;function r(g,o){var c;return g.each((function(){var f,l,h,g=r.g=e.select(this),d=this.__chart__||t.scale,y=this.__chart__=t.copyScale(),_=t.tickValues?t.tickValues:t.generateTicks(y),v=g.selectAll(".tick").data(_,y),x=v.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),m=v.exit().remove(),w=v.merge(x);n.isCategory?(t.tickOffset=Math.ceil((y(1)-y(0))/2),l=t.tickCentered?0:t.tickOffset,h=t.tickCentered?t.tickOffset:0):t.tickOffset=l=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(g.select(".tick"));var S=w.select("line").merge(x.append("line")),A=w.select("text").merge(x.append("text")),T=w.selectAll("text").selectAll("tspan").data((function(e,i){return t.tspanData(e,i,y)})),P=T.enter().append("tspan").merge(T).text((function(t){return t.splitted}));T.exit().remove();var path=g.selectAll(".domain").data([0]),C=path.enter().append("path").merge(path).attr("class","domain");switch(t.orient){case"bottom":f=t.axisX,S.attr("x1",l).attr("x2",l).attr("y2",(function(e,i){return t.lineY2(e,i)})),A.attr("x",0).attr("y",(function(e,i){return t.textY(e,i)})).attr("transform",(function(e,i){return t.textTransform(e,i)})).style("text-anchor",(function(e,i){return t.textTextAnchor(e,i)})),P.attr("x",0).attr("dy",(function(e,i){return t.tspanDy(e,i)})).attr("dx",(function(e,i){return t.tspanDx(e,i)})),C.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":f=t.axisX,S.attr("x1",l).attr("x2",l).attr("y2",(function(e,i){return-1*t.lineY2(e,i)})),A.attr("x",0).attr("y",(function(e,i){return-1*t.textY(e,i)-(n.isCategory?2:t.tickLength-2)})).attr("transform",(function(e,i){return t.textTransform(e,i)})).style("text-anchor",(function(e,i){return t.textTextAnchor(e,i)})),P.attr("x",0).attr("dy",(function(e,i){return t.tspanDy(e,i)})).attr("dx",(function(e,i){return t.tspanDx(e,i)})),C.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":f=t.axisY,S.attr("x2",-t.innerTickSize).attr("y1",h).attr("y2",h),A.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),P.attr("x",-t.tickLength).attr("dy",(function(e,i){return t.tspanDy(e,i)})),C.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":f=t.axisY,S.attr("x2",t.innerTickSize).attr("y1",h).attr("y2",h),A.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),P.attr("x",t.tickLength).attr("dy",(function(e,i){return t.tspanDy(e,i)})),C.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(y.rangeBand){var M=y,E=M.rangeBand()/2;d=y=function(t){return M(t)+E}}else d.rangeBand?d=y:m.call(f,y,t.tickOffset);x.call(f,d,t.tickOffset),c=(o?w.transition(o):w).style("opacity",1).call(f,y,t.tickOffset)})),c}return r.scale=function(e){return arguments.length?(t.scale=e,r):t.scale},r.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",r):t.orient},r.tickFormat=function(e){return arguments.length?(t.tickFormat=e,r):t.tickFormat},r.tickCentered=function(e){return arguments.length?(t.tickCentered=e,r):t.tickCentered},r.tickOffset=function(){return t.tickOffset},r.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(r.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/r.g.selectAll("line").size())==1/0?0:e},r.ticks=function(){return arguments.length?(t.tickArguments=arguments,r):t.tickArguments},r.tickCulling=function(e){return arguments.length?(t.tickCulling=e,r):t.tickCulling},r.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return r},r};var M={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},E=function(t){this.owner=t,this.d3=t.d3,this.internal=C},L=E;L.prototype.init=function(){var t=this.owner,e=t.config,main=t.main;t.axes.x=main.append("g").attr("class",M.axis+" "+M.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",M.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=main.append("g").attr("class",M.axis+" "+M.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",M.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=main.append("g").attr("class",M.axis+" "+M.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",M.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},L.prototype.getXAxis=function(t,e,n,r,o,c,f){var l=this.owner,h=l.config,d={isCategory:l.isCategorized(),withOuterTick:o,tickMultiline:h.axis_x_tick_multiline,tickMultilineMax:h.axis_x_tick_multiline?Number(h.axis_x_tick_multilineMax):0,tickWidth:h.axis_x_tick_width,tickTextRotate:f?0:h.axis_x_tick_rotate,withoutTransition:c},y=new this.internal(this,d).axis.scale(t).orient(e);return l.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map((function(t){return l.parseDate(t)}))),y.tickFormat(n).tickValues(r),l.isCategorized()&&(y.tickCentered(h.axis_x_tick_centered),_(h.axis_x_tick_culling)&&(h.axis_x_tick_culling=!1)),y},L.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,o=r.config;return(o.axis_x_tick_fit||o.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),o.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},L.prototype.getYAxis=function(t,e,n,r,o,c,f){var l=this.owner,h=l.config,d=h["axis_"+t+"_tick_format"];!d&&l.isAxisNormalized(t)&&(d=function(t){return t+"%"});var y=new this.internal(this,{withOuterTick:o,withoutTransition:c,tickTextRotate:f?0:h.axis_y_tick_rotate}).axis.scale(e).orient(n);return d&&y.tickFormat(d),l.isTimeSeriesY()?y.ticks(h.axis_y_tick_time_type,h.axis_y_tick_time_interval):y.tickValues(r),y},L.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},L.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return e.axis_x_tick_format&&(v(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),v(n)?function(e){return n.call(t,e)}:n},L.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},L.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},L.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},L.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},L.prototype.getLabelOptionByAxisId=function(t){var option,e=this.owner.config;return"y"===t?option=e.axis_y_label:"y2"===t?option=e.axis_y2_label:"x"===t&&(option=e.axis_x_label),option},L.prototype.getLabelText=function(t){var option=this.getLabelOptionByAxisId(t);return m(option)?option:option?option.text:null},L.prototype.setLabelText=function(t,text){var e=this.owner.config,option=this.getLabelOptionByAxisId(t);m(option)?"y"===t?e.axis_y_label=text:"y2"===t?e.axis_y2_label=text:"x"===t&&(e.axis_x_label=text):option&&(option.text=text)},L.prototype.getLabelPosition=function(t,e){var option=this.getLabelOptionByAxisId(t),n=option&&"object"==typeof option&&option.position?option.position:e;return{isInner:n.indexOf("inner")>=0,isOuter:n.indexOf("outer")>=0,isLeft:n.indexOf("left")>=0,isCenter:n.indexOf("center")>=0,isRight:n.indexOf("right")>=0,isTop:n.indexOf("top")>=0,isMiddle:n.indexOf("middle")>=0,isBottom:n.indexOf("bottom")>=0}},L.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},L.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},L.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},L.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},L.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},L.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},L.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},L.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},L.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},L.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},L.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},L.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},L.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},L.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},L.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},L.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},L.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},L.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},L.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},L.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},L.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},L.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},L.prototype.getMaxTickWidth=function(t,e){var n,r,o,c,f=this.owner,l=0;return e&&f.currentMaxTickWidths[t]||(f.svg&&(n=f.filterTargetsToShow(f.data.targets),"y"===t?(r=f.y.copy().domain(f.getYDomain(n,"y")),o=this.getYAxis(t,r,f.yOrient,f.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=f.y2.copy().domain(f.getYDomain(n,"y2")),o=this.getYAxis(t,r,f.y2Orient,f.y2AxisTickValues,!1,!0,!0)):(r=f.x.copy().domain(f.getXDomain(n)),o=this.getXAxis(r,f.xOrient,f.xAxisTickFormat,f.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,o)),(c=f.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(o).each((function(){f.d3.select(this).selectAll("text").each((function(){var t=h(this);l<t.width&&(l=t.width)})),c.remove()}))),f.currentMaxTickWidths[t]=l<=0?f.currentMaxTickWidths[t]:l),f.currentMaxTickWidths[t]},L.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+M.axisX+" ."+M.axisXLabel),r=e.main.select("."+M.axisY+" ."+M.axisYLabel),o=e.main.select("."+M.axisY2+" ."+M.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},L.prototype.getPadding=function(t,e,n,r){var p="number"==typeof t?t:t[e];return S(p)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(p,r):n},L.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},L.prototype.generateTickValues=function(t,e,n){var r,o,c,f,l,i,h,d=t;if(e)if(1===(r=v(e)?e():e))d=[t[0]];else if(2===r)d=[t[0],t[t.length-1]];else if(r>2){for(f=r-2,o=t[0],l=((c=t[t.length-1])-o)/(f+1),d=[o],i=0;i<f;i++)h=+o+l*(i+1),d.push(n?new Date(h):h);d.push(c)}return n||(d=d.sort((function(a,b){return a-b}))),d},L.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},L.prototype.redraw=function(t,e){var n=this.owner,r=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,r),n.axes.y.style("opacity",e?0:1).call(n.yAxis,r),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,r),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,r)};var O={version:"0.7.20",chart:{fn:e.prototype,internal:{fn:t.prototype,axis:{fn:E.prototype,internal:{fn:C.prototype}}}},generate:function(t){return new e(t)}};function k(t,e,n){var r=[.01,10];function o(t){return n(e(t))}return e||(e=t.scaleLinear()).range(r),n||((n=t.scaleLog()).domain(r),n.nice()),o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain()},o.range=function(t){return arguments.length?(n.range(t),o):n.range()},o.ticks=function(t){return function(a,b,t){var e,n,r,o;if(arguments.length<3)t=10;else if(0===t)return[];o=(b-a)/(n=t-1),r=a,(e=new Array(t))[0]=Math.pow(10,r);for(var i=1;i<n;i++)r+=o,e[i]=Math.pow(10,r);return e[n]=Math.pow(10,b),e}(-2,1,t||10).map((function(t){return e.invert(t)}))},o.copy=function(){return k(t,e.copy(),n.copy())},o}function V(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}t.prototype.beforeInit=function(){},t.prototype.afterInit=function(){},t.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},t.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},t.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},t.prototype.initWithData=function(data){var defs,main,t=this,e=t.d3,n=t.config,r=!0;t.axis=new E(t),n.bindto?"function"==typeof n.bindto.node?t.selectChart=n.bindto:t.selectChart=e.select(n.bindto):t.selectChart=e.selectAll([]),t.selectChart.empty()&&(t.selectChart=e.select(document.createElement("div")).style("opacity",0),t.observeInserted(t.selectChart),r=!1),t.selectChart.html("").classed("c3",!0),t.data.xs={},t.data.targets=t.convertDataToTargets(data),n.data_filter&&(t.data.targets=t.data.targets.filter(n.data_filter)),n.data_hide&&t.addHiddenTargetIds(!0===n.data_hide?t.mapToIds(t.data.targets):n.data_hide),n.legend_hide&&t.addHiddenLegendIds(!0===n.legend_hide?t.mapToIds(t.data.targets):n.legend_hide),t.isStanfordGraphType()&&t.initStanfordData(),t.updateSizes(),t.updateScales(),t.x.domain(e.extent(t.getXDomain(t.data.targets))),t.y.domain(t.getYDomain(t.data.targets,"y")),t.y2.domain(t.getYDomain(t.data.targets,"y2")),t.subX.domain(t.x.domain()),t.subY.domain(t.y.domain()),t.subY2.domain(t.y2.domain()),t.orgXDomain=t.x.domain(),t.svg=t.selectChart.append("svg").style("overflow","hidden").on("mouseenter",(function(){return n.onmouseover.call(t)})).on("mouseleave",(function(){return n.onmouseout.call(t)})),t.config.svg_classname&&t.svg.attr("class",t.config.svg_classname),defs=t.svg.append("defs"),t.clipChart=t.appendClip(defs,t.clipId),t.clipXAxis=t.appendClip(defs,t.clipIdForXAxis),t.clipYAxis=t.appendClip(defs,t.clipIdForYAxis),t.clipGrid=t.appendClip(defs,t.clipIdForGrid),t.clipSubchart=t.appendClip(defs,t.clipIdForSubchart),t.updateSvgSize(),main=t.main=t.svg.append("g").attr("transform",t.getTranslate("main")),t.initPie&&t.initPie(),t.initDragZoom&&t.initDragZoom(),n.subchart_show&&t.initSubchart&&t.initSubchart(),t.initTooltip&&t.initTooltip(),t.initLegend&&t.initLegend(),t.initTitle&&t.initTitle(),t.initZoom&&t.initZoom(),t.isStanfordGraphType()&&t.drawColorScale(),n.subchart_show&&t.initSubchartBrush&&t.initSubchartBrush(),main.append("text").attr("class",M.text+" "+M.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),t.initRegion(),t.initGrid(),main.append("g").attr("clip-path",t.clipPath).attr("class",M.chart),n.grid_lines_front&&t.initGridLines(),t.initStanfordElements(),t.initEventRect(),t.initChartElements(),t.axis.init(),t.updateTargets(t.data.targets),n.axis_x_selection&&t.brush.selectionAsValue(t.getDefaultSelection()),r&&(t.updateDimension(),t.config.oninit.call(t),t.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),t.bindResize(),t.bindWindowFocus(),t.api.element=t.selectChart.node()},t.prototype.smoothLines=function(t,e){var n=this;"grid"===e&&t.each((function(){var g=n.d3.select(this),t=g.attr("x1"),e=g.attr("x2"),r=g.attr("y1"),o=g.attr("y2");g.attr({x1:Math.ceil(t),x2:Math.ceil(e),y1:Math.ceil(r),y2:Math.ceil(o)})}))},t.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:n,c=t.hasArcType(),f=e.axis_rotated||c?0:t.getHorizontalAxisHeight("x"),l=e.axis_rotated||c?0:t.getHorizontalAxisHeight("x",!0),h=e.subchart_show&&!c?e.subchart_size_height+l:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:c?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:h+(c?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:c?0:t.getCurrentPaddingRight(),bottom:f+h+o+t.getCurrentPaddingBottom(),left:c?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-h-o,right:NaN,bottom:l+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&c&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},t.prototype.updateTargets=function(t){var e=this,n=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),n.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},t.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+M.target).filter((function(e){return t.isTargetToShow(e.id)})).transition().duration(t.config.transition_duration).style("opacity",1)},t.prototype.redraw=function(t,e){var n,r,o,c,l,h,d,y,_,v,x,m,w,S,A,T,P,C,E,L,O,k,V,G,R,I,i,N,D,j,F,z=this,main=z.main,X=z.d3,B=z.config,Y=z.getShapeIndices(z.isAreaType),H=z.getShapeIndices(z.isBarType),U=z.getShapeIndices(z.isLineType),W=z.hasArcType(),Q=z.filterTargetsToShow(z.data.targets),$=z.xv.bind(z);if(n=f(t=t||{},"withY",!0),r=f(t,"withSubchart",!0),o=f(t,"withTransition",!0),h=f(t,"withTransform",!1),d=f(t,"withUpdateXDomain",!1),y=f(t,"withUpdateOrgXDomain",!1),_=f(t,"withTrimXDomain",!0),w=f(t,"withUpdateXAxis",d),v=f(t,"withLegend",!1),x=f(t,"withEventRect",!0),m=f(t,"withDimension",!0),c=f(t,"withTransitionForExit",o),l=f(t,"withTransitionForAxis",o),E=o?B.transition_duration:0,L=c?E:0,O=l?E:0,e=e||z.axis.generateTransitions(O),v&&B.legend_show?z.updateLegend(z.mapToIds(z.data.targets),t,e):m&&z.updateDimension(!0),z.isCategorized()&&0===Q.length&&z.x.domain([0,z.axes.x.selectAll(".tick").size()]),Q.length?(z.updateXDomain(Q,d,y,_),B.axis_x_tick_values||(I=z.axis.updateXAxisTickValues(Q))):(z.xAxis.tickValues([]),z.subXAxis.tickValues([])),B.zoom_rescale&&!t.flow&&(D=z.x.orgDomain()),z.y.domain(z.getYDomain(Q,"y",D)),z.y2.domain(z.getYDomain(Q,"y2",D)),!B.axis_y_tick_values&&B.axis_y_tick_count&&z.yAxis.tickValues(z.axis.generateTickValues(z.y.domain(),B.axis_y_tick_count)),!B.axis_y2_tick_values&&B.axis_y2_tick_count&&z.y2Axis.tickValues(z.axis.generateTickValues(z.y2.domain(),B.axis_y2_tick_count)),z.axis.redraw(O,W),z.axis.updateLabels(o),(d||w)&&Q.length)if(B.axis_x_tick_culling&&I){for(i=1;i<I.length;i++)if(I.length/i<B.axis_x_tick_culling_max){N=i;break}z.svg.selectAll("."+M.axisX+" .tick text").each((function(t){var e=I.indexOf(t);e>=0&&X.select(this).style("display",e%N?"none":"block")}))}else z.svg.selectAll("."+M.axisX+" .tick text").style("display","block");S=z.generateDrawArea?z.generateDrawArea(Y,!1):void 0,A=z.generateDrawBar?z.generateDrawBar(H):void 0,T=z.generateDrawLine?z.generateDrawLine(U,!1):void 0,P=z.generateXYForText(Y,H,U,!0),C=z.generateXYForText(Y,H,U,!1),z.updateCircleY(),j=(z.config.axis_rotated?z.circleY:z.circleX).bind(z),F=(z.config.axis_rotated?z.circleX:z.circleY).bind(z),n&&(z.subY.domain(z.getYDomain(Q,"y")),z.subY2.domain(z.getYDomain(Q,"y2"))),z.updateXgridFocus(),main.select("text."+M.text+"."+M.empty).attr("x",z.width/2).attr("y",z.height/2).text(B.data_empty_label_text).transition().style("opacity",Q.length?0:1),x&&z.redrawEventRect(),z.updateGrid(E),z.updateStanfordElements(E),z.updateRegion(E),z.updateBar(L),z.updateLine(L),z.updateArea(L),z.updateCircle(j,F),z.hasDataLabel()&&z.updateText(P,C,L),z.redrawTitle&&z.redrawTitle(),z.redrawArc&&z.redrawArc(E,L,h),B.subchart_show&&z.redrawSubchart&&z.redrawSubchart(r,e,E,L,Y,H,U),z.isStanfordGraphType()&&z.drawColorScale(),main.selectAll("."+M.selectedCircles).filter(z.isBarType.bind(z)).selectAll("circle").remove(),t.flow&&(G=z.generateFlow({targets:Q,flow:t.flow,duration:t.flow.duration,drawBar:A,drawLine:T,drawArea:S,cx:j,cy:F,xv:$,xForText:P,yForText:C})),E&&z.isTabVisible()?(R=X.transition().duration(E),k=[],[z.redrawBar(A,!0,R),z.redrawLine(T,!0,R),z.redrawArea(S,!0,R),z.redrawCircle(j,F,!0,R),z.redrawText(P,C,t.flow,!0,R),z.redrawRegion(!0,R),z.redrawGrid(!0,R)].forEach((function(t){t.forEach((function(t){k.push(t)}))})),V=z.generateWait(),k.forEach((function(t){V.add(t)})),V((function(){G&&G(),B.onrendered&&B.onrendered.call(z)}))):(z.redrawBar(A),z.redrawLine(T),z.redrawArea(S),z.redrawCircle(j,F),z.redrawText(P,C,t.flow),z.redrawRegion(),z.redrawGrid(),G&&G(),B.onrendered&&B.onrendered.call(z)),z.mapToIds(z.data.targets).forEach((function(t){z.withoutFadeIn[t]=!0}))},t.prototype.updateAndRedraw=function(t){var e,n=this,r=n.config;(t=t||{}).withTransition=f(t,"withTransition",!0),t.withTransform=f(t,"withTransform",!1),t.withLegend=f(t,"withLegend",!1),t.withUpdateXDomain=f(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=f(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=f(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},t.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||A(t.data_xs))},t.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},t.prototype.getTranslate=function(t){var e,n,o=this,c=o.config;return"main"===t?(e=r(o.margin.left),n=r(o.margin.top)):"context"===t?(e=r(o.margin2.left),n=r(o.margin2.top)):"legend"===t?(e=o.margin3.left,n=o.margin3.top):"x"===t?(e=0,n=c.axis_rotated?0:o.height):"y"===t?(e=0,n=c.axis_rotated?o.height:0):"y2"===t?(e=c.axis_rotated?0:o.width,n=c.axis_rotated?1:0):"subx"===t?(e=0,n=c.axis_rotated?0:o.height2):"arc"===t&&(e=o.arcWidth/2,n=o.arcHeight/2-(o.hasType("gauge")?6:0)),"translate("+e+","+n+")"},t.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},t.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},t.prototype.opacityForCircle=function(t){var e=(v(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return S(t.value)?this.isScatterType(t)?.5:e:0},t.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},t.prototype.xx=function(t){return t?this.x(t.x):null},t.prototype.xvCustom=function(t,e){var n=this,r=e?t[e]:t.value;return n.isTimeSeries()?r=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(r=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(r))},t.prototype.yvCustom=function(t,e){var n=t.axis&&"y2"===t.axis?this.y2:this.y,r=e?t[e]:t.value;return Math.ceil(n(r))},t.prototype.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},t.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},t.prototype.subxx=function(t){return t?this.subX(t.x):null},t.prototype.transformMain=function(t,e){var n,r,o,c=this;e&&e.axisX?n=e.axisX:(n=c.main.select("."+M.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=c.main.select("."+M.axisY),t&&(r=r.transition())),e&&e.axisY2?o=e.axisY2:(o=c.main.select("."+M.axisY2),t&&(o=o.transition())),(t?c.main.transition():c.main).attr("transform",c.getTranslate("main")),n.attr("transform",c.getTranslate("x")),r.attr("transform",c.getTranslate("y")),o.attr("transform",c.getTranslate("y2")),c.main.select("."+M.chartArcs).attr("transform",c.getTranslate("arc"))},t.prototype.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},t.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+M.brush+" .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},t.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},t.prototype.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver((function(r){r.forEach((function(r){"childList"===r.type&&r.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval((function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))}),10))}))}))).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},t.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add((function(){e.onresize.call(t)})),e.resize_auto&&t.resizeFunction.add((function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout((function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()}),100)})),t.resizeFunction.add((function(){e.onresized.call(t)})),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.addEventListener("resize",t.resizeIfElementDisplayed,!1)},t.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},t.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},t.prototype.generateResize=function(){var t=[];function e(){t.forEach((function(t){t()}))}return e.add=function(e){t.push(e)},e.remove=function(e){for(var i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}},e},t.prototype.endall=function(t,e){var n=0;t.each((function(){++n})).on("end",(function(){--n||e.apply(this,arguments)}))},t.prototype.generateWait=function(){var t=this,e=[],n=function(n){var r=setInterval((function(){if(t.isTabVisible()){var o=0;e.forEach((function(t){if(t.empty())o+=1;else try{t.transition()}catch(t){o+=1}})),o===e.length&&(clearInterval(r),n&&n())}}),50)};return n.add=function(t){e.push(t)},n},t.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"==typeof t?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},t.prototype.isTabVisible=function(){return!document.hidden},t.prototype.getPathBox=l,t.prototype.CLASS=M,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,o,c,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=o,this._x2=c,this._y2=f},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,o,c,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=o,this._x2=c,this._y2=f},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=o},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=o},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,o,c,f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=o,this._angle=c,this._largeArcFlag=f,this._sweepFlag=l},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,o,c,f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=o,this._angle=c,this._largeArcFlag=f,this._sweepFlag=l},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,o,c){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,r,o,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,o,c){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,r,o,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,o,c,f){return new window.SVGPathSegArcAbs(void 0,t,e,n,r,o,c,f)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,o,c,f){return new window.SVGPathSegArcRel(void 0,t,e,n,r,o,c,f)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach((function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,o=1,c=1,f=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var l=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=l)for(var h=this._currentIndex-1,d=1;h>=l;)e+=d*(this._string.charAt(h--)-"0"),d*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=f&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,c=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var y=e+r;if(y*=o,t&&(y*=Math.pow(10,c*t)),f!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),y}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var o=new n,source=new r(t);if(!source.initialCommandIsMoveTo())return[];for(;source.hasMoreData();){var c=source.parseSegment();if(!c)return[];o.appendSegment(c)}return o.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},writable:!0,configurable:!0}),e.prototype.axis=function(){},e.prototype.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach((function(n){e.axis.setLabelText(n,t[n])})),e.axis.updateLabels())},e.prototype.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"==typeof t?(S(t.x)&&(n.axis_x_max=t.x),S(t.y)&&(n.axis_y_max=t.y),S(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"==typeof t?(S(t.x)&&(n.axis_x_min=t.x),S(t.y)&&(n.axis_y_min=t.y),S(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};y(t.max)&&this.axis.max(t.max),y(t.min)&&this.axis.min(t.min)},e.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};y(t.y)&&(e.config.axis_y_type=t.y),y(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},e.prototype.category=function(i,t){var e=this.internal,n=e.config;return arguments.length>1&&(n.axis_x_categories[i]=t,e.redraw()),n.axis_x_categories[i]},e.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},e.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},e.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},e.prototype.destroy=function(){var t=this.internal;return window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.removeEventListener("resize",t.resizeIfElementDisplayed),t.resizeFunction.remove(),t.unbindWindowFocus(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach((function(e){t[e]=null})),null},e.prototype.color=function(t){return this.internal.color(t)},e.prototype.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter((function(e){return[].concat(t).indexOf(e.id)>=0}))},e.prototype.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},e.prototype.data.values=function(t,e){void 0===e&&(e=!0);var n=null;if(t){var r=this.data(t);r&&d(r)&&(n=r.reduce((function(t,n){var r=n.values.map((function(t){return t.value}));return e?t=t.concat(r):t.push(r),t}),[]))}return n},e.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},e.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},e.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},e.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},e.prototype.donut=function(){},e.prototype.donut.padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},e.prototype.flow=function(t){var e,data,n,r,o,c,f,l=this.internal,h=[],d=l.getMaxDataCount(),_=0,v=0;if(t.json)data=l.convertJsonToData(t.json,t.keys);else if(t.rows)data=l.convertRowsToData(t.rows);else{if(!t.columns)return;data=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(data,!0),l.data.targets.forEach((function(t){var i,n,r=!1;for(i=0;i<e.length;i++)if(t.id===e[i].id){for(r=!0,t.values[t.values.length-1]&&(v=t.values[t.values.length-1].index+1),_=e[i].values.length,n=0;n<_;n++)e[i].values[n].index=v+n,l.isTimeSeries()||(e[i].values[n].x=v+n);t.values=t.values.concat(e[i].values),e.splice(i,1);break}r||h.push(t.id)})),l.data.targets.forEach((function(t){var i,e;for(i=0;i<h.length;i++)if(t.id===h[i])for(v=t.values[t.values.length-1].index+1,e=0;e<_;e++)t.values.push({id:t.id,index:v+e,x:l.isTimeSeries()?l.getOtherTargetX(v+e):v+e,value:null})})),l.data.targets.length&&e.forEach((function(t){var i,e=[];for(i=l.data.targets[0].values[0].index;i<v;i++)e.push({id:t.id,index:i,x:l.isTimeSeries()?l.getOtherTargetX(i):i,value:null});t.values.forEach((function(t){t.index+=v,l.isTimeSeries()||(t.x+=v)})),t.values=e.concat(t.values)})),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),o=(r=l.data.targets[0]).values[0],y(t.to)?(_=0,f=l.isTimeSeries()?l.parseDate(t.to):t.to,r.values.forEach((function(t){t.x<f&&_++}))):y(t.length)&&(_=t.length),d?1===d&&l.isTimeSeries()&&(c=(r.values[r.values.length-1].x-o.x)/2,n=[new Date(+o.x-c),new Date(+o.x+c)],l.updateXDomain(null,!0,!0,!1,n)):(c=l.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,n=[o.x-c,o.x],l.updateXDomain(null,!0,!0,!1,n)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:_,duration:S(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:d>1,withTrimXDomain:!1,withUpdateXAxis:!0})},t.prototype.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var o,f,l,h,d,y,_,v,x,m,w,S=t.targets,A=t.flow,T=t.drawBar,P=t.drawLine,C=t.drawArea,E=t.cx,L=t.cy,O=t.xv,k=t.xForText,V=t.yForText,G=t.duration,R=A.index,I=A.length,N=e.getValueOnIndex(e.data.targets[0].values,R),D=e.getValueOnIndex(e.data.targets[0].values,R+I),j=e.x.domain(),F=A.duration||G,z=A.done||function(){},X=e.generateWait();e.flowing=!0,e.data.targets.forEach((function(t){t.values.splice(0,I)})),l=e.updateXDomain(S,!0,!0),e.updateXGrid&&e.updateXGrid(!0),h=e.xgrid||r.selectAll([]),d=e.xgridLines||r.selectAll([]),y=e.mainRegion||r.selectAll([]),_=e.mainText||r.selectAll([]),v=e.mainBar||r.selectAll([]),x=e.mainLine||r.selectAll([]),m=e.mainArea||r.selectAll([]),w=e.mainCircle||r.selectAll([]),A.orgDataCount?o=1===A.orgDataCount||(N&&N.x)===(D&&D.x)||e.isTimeSeries()?e.x(j[0])-e.x(l[0]):e.x(N.x)-e.x(D.x):1!==e.data.targets[0].values.length?o=e.x(j[0])-e.x(l[0]):e.isTimeSeries()?(N=e.getValueOnIndex(e.data.targets[0].values,0),D=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),o=e.x(N.x)-e.x(D.x)):o=c(l)/2,f="translate("+o+",0) scale("+c(j)/c(l)+",1)",e.hideXGridFocus();var B=r.transition().ease(r.easeLinear).duration(F);X.add(e.xAxis(e.axes.x,B)),X.add(v.transition(B).attr("transform",f)),X.add(x.transition(B).attr("transform",f)),X.add(m.transition(B).attr("transform",f)),X.add(w.transition(B).attr("transform",f)),X.add(_.transition(B).attr("transform",f)),X.add(y.filter(e.isRegionOnX).transition(B).attr("transform",f)),X.add(h.transition(B).attr("transform",f)),X.add(d.transition(B).attr("transform",f)),X((function(){var i,t=[],r=[];if(I){for(i=0;i<I;i++)t.push("."+M.shape+"-"+(R+i)),r.push("."+M.text+"-"+(R+i));e.svg.selectAll("."+M.shapes).selectAll(t).remove(),e.svg.selectAll("."+M.texts).selectAll(r).remove(),e.svg.select("."+M.xgrid).remove()}h.attr("transform",null).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),d.attr("transform",null),d.select("line").attr("x1",n.axis_rotated?0:O).attr("x2",n.axis_rotated?e.width:O),d.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",O),v.attr("transform",null).attr("d",T),x.attr("transform",null).attr("d",P),m.attr("transform",null).attr("d",C),w.attr("transform",null).attr("cx",E).attr("cy",L),_.attr("transform",null).attr("x",k).attr("y",V).style("fill-opacity",e.opacityForText.bind(e)),y.attr("transform",null),y.filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),z(),e.flowing=!1}))}},e.prototype.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(M.focused,!0).classed(M.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(e){return t.indexOf(e)<0}))},e.prototype.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(M.focused,!1).classed(M.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter((function(e){return t.indexOf(e)<0})),e.defocusedTargetIds=t},e.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(M.focused,!1).classed(M.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter((function(){return e.d3.select(this).classed(M.legendItemFocused)})).classed(M.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},e.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},e.prototype.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},e.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},e.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},e.prototype.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},e.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},e.prototype.groups=function(t){var e=this.internal,n=e.config;return w(t)||(n.data_groups=t,e.redraw()),n.data_groups},e.prototype.legend=function(){},e.prototype.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},e.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},e.prototype.load=function(t){var n=this.internal,r=n.config;t.xs&&n.addXs(t.xs),"names"in t&&e.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){r.data_classes[e]=t.classes[e]})),"categories"in t&&n.isCategorized()&&(r.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){r.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){r.data_colors[e]=t.colors[e]})),"cacheIds"in t&&n.hasCaches(t.cacheIds)?n.load(n.getCaches(t.cacheIds),t.done):t.unload?n.unload(n.mapToTargetIds(!0===t.unload?null:t.unload),(function(){n.loadFromArgs(t)})):n.loadFromArgs(t)},e.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()}))},e.prototype.pie=function(){},e.prototype.pie.padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},e.prototype.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.remove=function(t){var e,n,r,o=this.internal,c=o.config;return e=f(t=t||{},"duration",c.transition_duration),n=f(t,"classes",[M.region]),r=o.main.select("."+M.regions).selectAll(n.map((function(t){return"."+t}))),(e?r.transition().duration(e):r).style("opacity",0).remove(),c.regions=c.regions.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){n.indexOf(t)>=0&&(e=!0)})),!e)})),c.regions},e.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+M.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+M.shape).filter((function(){return n.select(this).classed(M.SELECTED)})).nodes().map((function(t){var data=t.__data__;return data.data?data.data:data}))},e.prototype.select=function(t,e,n){var r=this.internal,o=r.d3,c=r.config;c.data_selection_enabled&&r.main.selectAll("."+M.shapes).selectAll("."+M.shape).each((function(f,i){var l=o.select(this),h=f.data?f.data.id:f.id,d=r.getToggle(this,f).bind(r),_=c.data_selection_grouped||!t||t.indexOf(h)>=0,v=!e||e.indexOf(i)>=0,x=l.classed(M.SELECTED);l.classed(M.line)||l.classed(M.area)||(_&&v?c.data_selection_isselectable(f)&&!x&&d(!0,l.classed(M.SELECTED,!0),f,i):y(n)&&n&&x&&d(!1,l.classed(M.SELECTED,!1),f,i))}))},e.prototype.unselect=function(t,e){var n=this.internal,r=n.d3,o=n.config;o.data_selection_enabled&&n.main.selectAll("."+M.shapes).selectAll("."+M.shape).each((function(c,i){var f=r.select(this),l=c.data?c.data.id:c.id,h=n.getToggle(this,c).bind(n),d=o.data_selection_grouped||!t||t.indexOf(l)>=0,y=!e||e.indexOf(i)>=0,_=f.classed(M.SELECTED);f.classed(M.line)||f.classed(M.area)||d&&y&&o.data_selection_isselectable(c)&&_&&h(!1,f.classed(M.SELECTED,!1),c,i)}))},e.prototype.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("display",P()?"block":"initial","important").style("opacity",1,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",1)})),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",0),n.style("display","none")})),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach((function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)}))},e.prototype.subchart=function(){},e.prototype.subchart.isShown=function(){return this.internal.config.subchart_show},e.prototype.subchart.show=function(){var t=this.internal;t.config.subchart_show||(t.config.subchart_show=!0,t.initSubchart(),t.updateDimension(),t.initSubchartBrush(),t.updateTargetsForSubchart(t.getTargets()),t.mapToIds(t.data.targets).forEach((function(e){t.withoutFadeIn[e]=!1})),t.updateAndRedraw(),t.showTargets())},e.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},e.prototype.tooltip=function(){},e.prototype.tooltip.show=function(t){var e,data,n=this.internal,r={};t.mouse?r=t.mouse:(t.data?data=t.data:void 0!==t.x&&(e=t.id?n.data.targets.filter((function(e){return e.id===t.id})):n.data.targets,data=n.filterByX(e,t.x).slice(0,1)[0]),r=data?n.getMousePosition(data):null),n.dispatchEvent("mousemove",r),n.config.tooltip_onshow.call(n,data)},e.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},e.prototype.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},t.prototype.transformTo=function(t,e,n){var r=this,o=!r.hasArcType(),c=n||{withTransitionForAxis:o};c.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(c)},e.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map((function(t){return e.parseDate(t)}))),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()},e.prototype.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},e.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},e.prototype.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=r.max([e.orgXDomain[1],t])},e.prototype.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=r.min([e.orgXDomain[0],t])},e.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};y(t.max)&&this.domain.max(t.max),y(t.min)&&this.domain.min(t.min)},t.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value((function(t){return t.values.reduce((function(a,b){return a+b.value}),0)}));var n=t.getOrderFunction();if(n&&(t.isOrderAsc()||t.isOrderDesc())){var r=n;n=function(t,e){return-1*r(t,e)}}t.pie.sort(n||null)},t.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,r=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(r<=t.radius-t.innerRadius?t.radius-t.innerRadius:r<=t.radius?r:t.radius)},t.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},t.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},t.prototype.updateAngle=function(t){var e,n,r,o,c=this,f=c.config,l=!1,h=0;return f?(c.pie(c.filterTargetsToShow(c.data.targets)).forEach((function(e){l||e.data.id!==t.data.id||(l=!0,(t=e).index=h),h++})),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),c.isGaugeType(t.data)&&(e=f.gauge_min,n=f.gauge_max,r=Math.PI*(f.gauge_fullCircle?2:1)/(n-e),o=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=f.gauge_startingAngle,t.endAngle=t.startAngle+r*o),l?t:null):null},t.prototype.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,r=t.d3.arc().outerRadius((function(r){return e?t.radius-n*r.index:t.radius})).innerRadius((function(r){return e?t.radius-n*(r.index+1):t.innerRadius})),o=function(e,n){var o;return n?r(e):(o=t.updateAngle(e))?r(o):"M 0 0"};return o.centroid=r.centroid,o},t.prototype.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),r=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,o=Math.min(e.radiusExpanded*t-e.radius,.8*r-100*(1-t)),c=e.d3.arc().outerRadius((function(c){return n?e.radius-r*c.index+o:e.radiusExpanded*t})).innerRadius((function(t){return n?e.radius-r*(t.index+1):e.innerRadius}));return function(t){var n=e.updateAngle(t);return n?c(n):"M 0 0"}},t.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},t.prototype.transformForArcLabel=function(t){var e,n,r,o,c,f=this,l=f.config,h=f.updateAngle(t),d="",y=f.hasType("gauge");if(h&&!y)e=this.svgArc.centroid(h),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],o=Math.sqrt(n*n+r*r),d="translate("+n*(c=f.hasType("donut")&&l.donut_label_ratio?v(l.donut_label_ratio)?l.donut_label_ratio(t,f.radius,o):l.donut_label_ratio:f.hasType("pie")&&l.pie_label_ratio?v(l.pie_label_ratio)?l.pie_label_ratio(t,f.radius,o):l.pie_label_ratio:f.radius&&o?(36/f.radius>.375?1.175-36/f.radius:.8)*f.radius/o:0)+","+r*c+")";else if(h&&y&&f.filterTargetsToShow(f.data.targets).length>1){var _=Math.sin(h.endAngle-Math.PI/2);d="translate("+(n=Math.cos(h.endAngle-Math.PI/2)*(f.radiusExpanded+25))+","+(r=_*(f.radiusExpanded+15-Math.abs(10*_))+3)+")"}return d},t.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},t.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},t.prototype.textForArcLabel=function(t){var e,n,r,o,c,f=this;return f.shouldShowArcLabel()?(n=(e=f.updateAngle(t))?e.value:null,r=f.getRatio("arc",e),o=t.data.id,f.hasType("gauge")||f.meetsArcLabelThreshold(r)?(c=f.getArcLabelFormat())?c(n,r,o):f.defaultArcValueFormat(n,r):""):""},t.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},t.prototype.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval((function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))}),10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+M.chartArc)).each((function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each((function(t){n.isDonutType(t.data)}))})))},t.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+M.chartArc)).selectAll("path").transition().duration((function(t){return e.expandDuration(t.data.id)})).attr("d",e.svgArc),e.svg.selectAll("."+M.arc))},t.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},t.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},t.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},t.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},t.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},t.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},t.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},t.prototype.updateTargetsForArc=function(t){var e,n=this,main=n.main,r=n.classChartArc.bind(n),o=n.classArcs.bind(n),c=n.classFocus.bind(n);(e=main.select("."+M.chartArcs).selectAll("."+M.chartArc).data(n.pie(t)).attr("class",(function(t){return r(t)+c(t.data)})).enter().append("g").attr("class",r)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},t.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+M.chart).append("g").attr("class",M.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",M.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},t.prototype.redrawArc=function(t,e,n){var r,o,c,f,l=this,h=l.d3,d=l.config,main=l.main,y=l.hasType("gauge");if(o=(r=main.selectAll("."+M.arcs).selectAll("."+M.arc).data(l.arcData.bind(l))).enter().append("path").attr("class",l.classArc.bind(l)).style("fill",(function(t){return l.color(t.data)})).style("cursor",(function(t){return d.interaction_enabled&&d.data_selection_isselectable(t)?"pointer":null})).each((function(t){l.isGaugeType(t.data)&&(t.startAngle=t.endAngle=d.gauge_startingAngle),this._current=t})).merge(r),y&&(f=(c=main.selectAll("."+M.arcs).selectAll("."+M.arcLabelLine).data(l.arcData.bind(l))).enter().append("rect").attr("class",(function(t){return M.arcLabelLine+" "+M.target+" "+M.target+"-"+t.data.id})).merge(c),1===l.filterTargetsToShow(l.data.targets).length?f.style("display","none"):f.style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data)})).style("display",d.gauge_labelLine_show?"":"none").each((function(t){var e=0,n=0,r=0,o="";if(l.hiddenTargetIds.indexOf(t.data.id)<0){var c=l.updateAngle(t),f=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(c.index+1),d=c.endAngle-Math.PI/2,y=l.radius-f,_=d-(0===y?0:1/y);e=l.radiusExpanded-l.radius+f,n=Math.cos(_)*y,r=Math.sin(_)*y,o="rotate("+180*d/Math.PI+", "+n+", "+r+")"}h.select(this).attr("x",n).attr("y",r).attr("width",e).attr("height",2).attr("transform",o).style("stroke-dasharray","0, "+(e+2)+", 0")}))),o.attr("transform",(function(t){return!l.isGaugeType(t.data)&&n?"scale(0)":""})).on("mouseover",d.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.expandArc(e.data.id),l.api.focus(e.data.id),l.toggleFocusLegend(e.data.id,!0),l.config.data_onmouseover(n,this))}:null).on("mousemove",d.interaction_enabled?function(t){var e,n=l.updateAngle(t);n&&(e=[l.convertToArcData(n)],l.showTooltip(e,this))}:null).on("mouseout",d.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.unexpandArc(e.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(n,this))}:null).on("click",d.interaction_enabled?function(t,i){var e,n=l.updateAngle(t);n&&(e=l.convertToArcData(n),l.toggleShape&&l.toggleShape(this,e,i),l.config.data_onclick.call(l.api,e,this))}:null).each((function(){l.transiting=!0})).transition().duration(t).attrTween("d",(function(t){var e,n=l.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=h.interpolate(this._current,n),this._current=e(0),function(n){if(null===l.config)return"M 0 0";var r=e(n);return r.data=t.data,l.getArc(r,!0)}):function(){return"M 0 0"}})).attr("transform",n?"scale(1)":"").style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data.id)})).call(l.endall,(function(){l.transiting=!1})),r.exit().transition().duration(e).style("opacity",0).remove(),main.selectAll("."+M.chartArc).select("text").style("opacity",0).attr("class",(function(t){return l.isGaugeType(t.data)?M.gaugeValue:""})).text(l.textForArcLabel.bind(l)).attr("transform",l.transformForArcLabel.bind(l)).style("font-size",(function(t){return l.isGaugeType(t.data)&&1===l.filterTargetsToShow(l.data.targets).length?Math.round(l.radius/5)+"px":""})).transition().duration(t).style("opacity",(function(t){return l.isTargetToShow(t.data.id)&&l.isArcType(t.data)?1:0})),main.select("."+M.chartArcsTitle).style("opacity",l.hasType("donut")||y?1:0),y){var _=0,v=l.arcs.select("g."+M.chartArcsBackground).selectAll("path."+M.chartArcsBackground).data(l.data.targets);v.enter().append("path").attr("class",(function(t,i){return M.chartArcsBackground+" "+M.chartArcsBackground+"-"+i})).merge(v).attr("d",(function(t){if(l.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:d.gauge_max}],startAngle:d.gauge_startingAngle,endAngle:-1*d.gauge_startingAngle*(d.gauge_fullCircle?Math.PI:1),index:_++};return l.getArc(e,!0,!0)})),v.exit().remove(),l.arcs.select("."+M.chartArcsGaugeUnit).attr("dy",".75em").text(d.gauge_label_show?d.gauge_units:""),l.arcs.select("."+M.chartArcsGaugeMin).attr("dx",-1*(l.innerRadius+(l.radius-l.innerRadius)/(d.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(d.gauge_label_show?l.textForGaugeMinMax(d.gauge_min,!1):""),l.arcs.select("."+M.chartArcsGaugeMax).attr("dx",l.innerRadius+(l.radius-l.innerRadius)/(d.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(d.gauge_label_show?l.textForGaugeMinMax(d.gauge_max,!0):"")}},t.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",M.chartArcsBackground),t.append("text").attr("class",M.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",M.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",M.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},t.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},t.prototype.addToCache=function(t,e){this.cache["$"+t]=e},t.prototype.getFromCache=function(t){return this.cache["$"+t]},t.prototype.resetCache=function(){var t=this;Object.keys(this.cache).filter((function(t){return/^\$/.test(t)})).forEach((function(e){delete t.cache[e]}))},t.prototype.hasCaches=function(t){for(var i=0;i<t.length;i++)if(!(t[i]in this.cache))return!1;return!0},t.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},t.prototype.getCaches=function(t){var i,e=[];for(i=0;i<t.length;i++)t[i]in this.cache&&e.push(this.cloneTarget(this.cache[t[i]]));return e},t.prototype.categoryName=function(i){var t=this.config;return i<t.axis_x_categories.length?t.axis_x_categories[i]:i},t.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},t.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},t.prototype.classText=function(t){return this.generateClass(M.text,t.index)},t.prototype.classTexts=function(t){return this.generateClass(M.texts,t.id)},t.prototype.classShape=function(t){return this.generateClass(M.shape,t.index)},t.prototype.classShapes=function(t){return this.generateClass(M.shapes,t.id)},t.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(M.line,t.id)},t.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(M.lines,t.id)},t.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(M.circle,t.index)},t.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(M.circles,t.id)},t.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(M.bar,t.index)},t.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(M.bars,t.id)},t.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(M.arc,t.data.id)},t.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(M.arcs,t.data.id)},t.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(M.area,t.id)},t.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(M.areas,t.id)},t.prototype.classRegion=function(t,i){return this.generateClass(M.region,i)+" "+("class"in t?t.class:"")},t.prototype.classEvent=function(t){return this.generateClass(M.eventRect,t.index)},t.prototype.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+M.target+"-"+e),this.generateClass(M.target,t)+n},t.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},t.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?M.focused:"")},t.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?M.defocused:"")},t.prototype.classChartText=function(t){return M.chartText+this.classTarget(t.id)},t.prototype.classChartLine=function(t){return M.chartLine+this.classTarget(t.id)},t.prototype.classChartBar=function(t){return M.chartBar+this.classTarget(t.id)},t.prototype.classChartArc=function(t){return M.chartArc+this.classTarget(t.data.id)},t.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},t.prototype.selectorTarget=function(t,e){return(e||"")+"."+M.target+this.getTargetSelectorSuffix(t)},t.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map((function(t){return n.selectorTarget(t,e)})):null},t.prototype.selectorLegend=function(t){return"."+M.legendItem+this.getTargetSelectorSuffix(t)},t.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map((function(t){return e.selectorLegend(t)})):null},t.prototype.getClipPath=function(t){return"url("+(P(9)?"":document.URL.split("#")[0])+"#"+t+")"},t.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},t.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},t.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},t.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},t.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},t.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},t.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},t.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return t?this.width+2+e+n:this.margin.left+20},t.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},t.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},t.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},t.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},t.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},t.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,pattern=A(t.color_pattern)?t.color_pattern:e.schemeCategory10,r=t.data_color,o=[];return function(t){var e,c=t.id||t.data&&t.data.id||t;return n[c]instanceof Function?e=n[c](t):n[c]?e=n[c]:(o.indexOf(c)<0&&o.push(c),e=pattern[o.indexOf(c)%pattern.length],n[c]=e),r instanceof Function?r(e,t):e}},t.prototype.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,r="value"===n.unit,o=n.values&&n.values.length?n.values:[],c=n.max||100;return A(n)&&A(e)?function(t){var i,n=e[e.length-1];for(i=0;i<o.length;i++)if((r?t:100*t/c)<o[i]){n=e[i];break}return n}:null},t.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach((function(e){t[e]=this.additionalConfig[e]}),this),t},t.prototype.additionalConfig={},t.prototype.loadConfig=function(t){var e,n,r,o=this.config;Object.keys(o).forEach((function(c){e=t,n=c.split("_"),r=function t(){var r=n.shift();return r&&e&&"object"==typeof e&&r in e?(e=e[r],t()):r?void 0:e}(),y(r)&&(o[c]=r)}))},t.prototype.convertUrlToData=function(t,e,n,r,o){var c,f,l=this,h=e||"csv";"json"===h?(c=l.d3.json,f=l.convertJsonToData):"tsv"===h?(c=l.d3.tsv,f=l.convertXsvToData):(c=l.d3.csv,f=l.convertXsvToData),c(t,n).then((function(data){o.call(l,f.call(l,data,r))})).catch((function(t){throw t}))},t.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=null,n))}),{})]}:{keys:e,rows:[].concat(t)}},t.prototype.convertJsonToData=function(t,e){var n,data,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach((function(t){var e=[];n.forEach((function(n){var o=r.findValueInJson(t,n);w(o)&&(o=null),e.push(o)})),o.push(e)})),data=r.convertRowsToData(o)):(Object.keys(t).forEach((function(e){o.push([e].concat(t[e]))})),data=r.convertColumnsToData(o)),data},t.prototype.findValueInJson=function(object,path){if(path in object)return object[path];for(var t=(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<t.length;++i){var e=t[i];if(!(e in object))return;object=object[e]}return object},t.prototype.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(w(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return{keys:n,rows:e}},t.prototype.convertColumnsToData=function(t){for(var e=[],n=[],i=0;i<t.length;i++){for(var r=t[i][0],o=1;o<t[i].length;o++){if(w(e[o-1])&&(e[o-1]={}),w(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");e[o-1][r]=t[i][o]}n.push(r)}return{keys:n,rows:e}},t.prototype.convertDataToTargets=function(data,t){var e,n,r,o,c,f=this,l=f.config;if(d(data)?o=Object.keys(data[0]):(o=data.keys,data=data.rows),r=o.filter(f.isX,f),f.isStanfordGraphType()){if(c=o.filter(f.isEpochs,f),n=o.filter(f.isNotXAndNotEpochs,f),1!==r.length||1!==c.length||1!==n.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else n=o.filter(f.isNotX,f);return n.forEach((function(e){var n=f.getXKey(e);f.isCustomX()||f.isTimeSeries()?r.indexOf(n)>=0?f.data.xs[e]=(t&&f.data.xs[e]?f.data.xs[e]:[]).concat(data.map((function(t){return t[n]})).filter(S).map((function(t,i){return f.generateTargetX(t,e,i)}))):l.data_x?f.data.xs[e]=f.getOtherTargetXs():A(l.data_xs)&&(f.data.xs[e]=f.getXValuesOfXKey(n,f.data.targets)):f.data.xs[e]=data.map((function(t,i){return i}))})),n.forEach((function(t){if(!f.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')})),(e=n.map((function(t,e){var n=l.data_idConverter(t);return{id:n,id_org:t,values:data.map((function(r,i){var o,h,d=r[f.getXKey(t)],y=null===r[t]||isNaN(r[t])?null:+r[t];return f.isCustomX()&&f.isCategorized()&&!w(d)?(0===e&&0===i&&(l.axis_x_categories=[]),-1===(o=l.axis_x_categories.indexOf(d))&&(o=l.axis_x_categories.length,l.axis_x_categories.push(d))):o=f.generateTargetX(d,t,i),(w(r[t])||f.data.xs[t].length<=i)&&(o=void 0),h={x:o,value:y,id:n},f.isStanfordGraphType()&&(h.epochs=r[c]),h})).filter((function(t){return y(t.x)}))}}))).forEach((function(t){var i;l.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),i=0,t.values.forEach((function(t){t.index=i++})),f.data.xs[t.id].sort((function(t,e){return t-e}))})),f.hasNegativeValue=f.hasNegativeValueInTargets(e),f.hasPositiveValue=f.hasPositiveValueInTargets(e),l.data_type&&f.setTargetType(f.mapToIds(e).filter((function(t){return!(t in l.data_types)})),l.data_type),e.forEach((function(t){f.addCache(t.id_org,t)})),e},t.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},t.prototype.isX=function(t){var e,n,r,o=this.config;return o.data_x&&t===o.data_x||A(o.data_xs)&&(e=o.data_xs,n=t,r=!1,Object.keys(e).forEach((function(t){e[t]===n&&(r=!0)})),r)},t.prototype.isNotX=function(t){return!this.isX(t)},t.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},t.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},t.prototype.isAxisNormalized=function(t){var e=this;return!!e.isStackNormalized()&&e.data.targets.filter((function(n){return e.axis.getId(n.id)===t})).some((function(t){return e.isTargetNormalized(t.id)}))},t.prototype.isTargetNormalized=function(t){return this.isStackNormalized()&&this.config.data_groups.some((function(e){return e.includes(t)}))},t.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:A(e.data_xs)?e.data_xs[t]:null},t.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];var r={y:[],y2:[]};return e.data.targets.filter((function(t){return e.isTargetNormalized(t.id)})).filter((function(t){return e.isTargetToShow(t.id)})).forEach((function(t){var n=r[e.axis.getId(t.id)];t.values.forEach((function(t,i){n[i]||(n[i]=0),n[i]+=x(t.value)?t.value:0}))})),e.addToCache("getTotalPerIndex",r),r[t]},t.prototype.getTotalDataSum=function(){var t=this,e=t.getFromCache("getTotalDataSum");if(void 0!==e)return e;var n,r=(n=t.data.targets.filter((function(e){return t.isTargetToShow(e.id)})).map((function(t){return t.values})),Array.isArray(n)?[].concat.apply([],n):[]).map((function(t){return t.value})).reduce((function(p,t){return p+t}),0);return t.addToCache("getTotalDataSum",r),r},t.prototype.getXValuesOfXKey=function(t,e){var n,r=this;return(e&&A(e)?r.mapToIds(e):[]).forEach((function(e){r.getXKey(e)===t&&(n=r.data.xs[e])})),n},t.prototype.getXValue=function(t,i){return t in this.data.xs&&this.data.xs[t]&&S(this.data.xs[t][i])?this.data.xs[t][i]:i},t.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},t.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},t.prototype.addXs=function(t){var e=this;Object.keys(t).forEach((function(n){e.config.data_xs[n]=t[n]}))},t.prototype.addName=function(data){var t;return data&&(t=this.config.data_names[data.id],data.name=void 0!==t?t:data.id),data},t.prototype.getValueOnIndex=function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},t.prototype.updateTargetX=function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(r,i){r.x=n.generateTargetX(e[i],t.id,i)})),n.data.xs[t.id]=e}))},t.prototype.updateTargetXs=function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},t.prototype.generateTargetX=function(t,e,n){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?S(t)?+t:r.getXValue(e,n):n},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},t.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,(function(t){return t.values.length}))},t.prototype.mapToIds=function(t){return t.map((function(t){return t.id}))},t.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},t.prototype.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},t.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},t.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},t.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},t.prototype.filterTargetsToShow=function(t){var e=this;return t.filter((function(t){return e.isTargetToShow(t.id)}))},t.prototype.getTargets=function(){return this.data.targets},t.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map((function(t){return t.values.map((function(t){return+t.x}))})))).values();return(e=this.isTimeSeries()?e.map((function(t){return new Date(+t)})):e.map((function(t){return+t}))).sort((function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}))},t.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var i=0;i<t.length;i++)this.hiddenTargetIds.indexOf(t[i])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[i]));this.resetCache()},t.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter((function(e){return t.indexOf(e)<0})),this.resetCache()},t.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var i=0;i<t.length;i++)this.hiddenLegendIds.indexOf(t[i])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[i]))},t.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter((function(e){return t.indexOf(e)<0}))},t.prototype.getValuesAsIdKeyed=function(t){var e={};return t.forEach((function(t){e[t.id]=[],t.values.forEach((function(n){e[t.id].push(n.value)}))})),e},t.prototype.checkValueInTargets=function(t,e){var i,n,r,o=Object.keys(t);for(i=0;i<o.length;i++)for(r=t[o[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},t.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},t.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},t.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},t.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},t.prototype.getOrderFunction=function(){var t=this.config,e=this.isOrderAsc(),n=this.isOrderDesc();if(e||n){var r=function(p,t){return p+Math.abs(t.value)};return function(t,n){var o=t.values.reduce(r,0),c=n.values.reduce(r,0);return e?c-o:o-c}}if(v(t.data_order))return t.data_order;if(d(t.data_order)){var o=t.data_order;return function(t,e){return o.indexOf(t.id)-o.indexOf(e.id)}}},t.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},t.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map((function(t){return t.values.filter((function(t){return t.index===e}))})))},t.prototype.filterByX=function(t,e){return this.d3.merge(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},t.prototype.filterRemoveNull=function(data){return data.filter((function(t){return S(t.value)}))},t.prototype.filterByXDomain=function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},t.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!A(t.data_labels))},t.prototype.getDataLabelLength=function(t,e,n){var r=this,o=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return r.dataLabelFormat(t.id)(t)})).each((function(t,i){o[i]=1.3*h(this)[n]})).remove(),o},t.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},t.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},t.prototype.findClosestFromTargets=function(t,e){var n=this,r=t.map((function(t){return n.findClosest(t.values,e,n.config.tooltip_horizontal?n.horizontalDistance.bind(n):n.dist.bind(n),n.config.point_sensitivity)})).filter((function(t){return t}));return 0===r.length?void 0:1===r.length?r[0]:n.findClosest(r,e,n.dist.bind(n))},t.prototype.findClosestFromTargetsByX=function(t,e){var n,r;return t.forEach((function(t){t.values.forEach((function(t){var o=Math.abs(e-t.x);(void 0===r||o<r)&&(n=t,r=o)}))})),n},t.prototype.findClosest=function(t,e,n,r){void 0===r&&(r=1/0);var o,c=this;return t.filter((function(t){return t&&c.isBarType(t.id)})).forEach((function(t){if(!o){var n=c.main.select("."+M.bars+c.getTargetSelectorSuffix(t.id)+" ."+M.bar+"-"+t.index).node();c.isWithinBar(e,n)&&(o=t)}})),t.filter((function(t){return t&&!c.isBarType(t.id)})).forEach((function(t){var c=n(t,e);c<r&&(r=c,o=t)})),o},t.prototype.dist=function(data,t){var e=this.config,n=e.axis_rotated?1:0,r=e.axis_rotated?0:1,o=this.circleY(data,data.index),c=this.x(data.x);return Math.sqrt(Math.pow(c-t[n],2)+Math.pow(o-t[r],2))},t.prototype.horizontalDistance=function(data,t){var e=this.config.axis_rotated?1:0,n=this.x(data.x);return Math.abs(n-t[e])},t.prototype.convertValuesToStep=function(t){var i,e=[].concat(t);if(!this.isCategorized())return t;for(i=t.length+1;0<i;i--)e[i]=e[i-1];return e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id},e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id},e},t.prototype.getRatio=function(t,e,n){void 0===n&&(n=!1);var r=this,o=r.api,c=0;if(e&&o.data.shown.call(o).length)if(c=e.ratio||e.value,"arc"===t)if(r.hasType("gauge"))c=(e.endAngle-e.startAngle)/(Math.PI*(r.config.gauge_fullCircle?2:1));else{var f=r.getTotalDataSum();c=e.value/f}else"index"===t&&(f=r.getTotalPerIndex(r.axis.getId(e.id)),e.ratio=x(e.value)&&f&&f[e.index]>0?e.value/f[e.index]:0,c=e.ratio);return n&&c?100*c:c},t.prototype.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach((function(t){n[t]=e[t]})),this.redraw({withLegend:!0})),n},t.prototype.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach((function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)})),n.data.targets.forEach((function(e){for(var i=0;i<t.length;i++)if(e.id===t[i].id){e.values=t[i].values,t.splice(i,1);break}})),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},t.prototype.loadFromArgs=function(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,(function(data){e.load(e.convertDataToTargets(data),t)})):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},t.prototype.unload=function(t,e){var n=this;n.resetCache(),e||(e=function(){}),(t=t.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==t.length?(n.svg.selectAll(t.map((function(t){return n.selectorTarget(t)}))).transition().style("opacity",0).remove().call(n.endall,e),t.forEach((function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+M.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))}))):e()},t.prototype.getYDomainMin=function(t){var e,n,r,o,c,f,l=this,h=l.config,d=l.mapToIds(t),y=l.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(f=l.hasNegativeValueInTargets(t),e=0;e<h.data_groups.length;e++)if(0!==(o=h.data_groups[e].filter((function(t){return d.indexOf(t)>=0}))).length)for(r=o[0],f&&y[r]&&y[r].forEach((function(t,i){y[r][i]=t<0?t:0})),n=1;n<o.length;n++)c=o[n],y[c]&&y[c].forEach((function(t,i){l.axis.getId(c)!==l.axis.getId(r)||!y[r]||f&&+t>0||(y[r][i]+=+t)}));return l.d3.min(Object.keys(y).map((function(t){return l.d3.min(y[t])})))},t.prototype.getYDomainMax=function(t){var e,n,r,o,c,f,l=this,h=l.config,d=l.mapToIds(t),y=l.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(f=l.hasPositiveValueInTargets(t),e=0;e<h.data_groups.length;e++)if(0!==(o=h.data_groups[e].filter((function(t){return d.indexOf(t)>=0}))).length)for(r=o[0],f&&y[r]&&y[r].forEach((function(t,i){y[r][i]=t>0?t:0})),n=1;n<o.length;n++)c=o[n],y[c]&&y[c].forEach((function(t,i){l.axis.getId(c)!==l.axis.getId(r)||!y[r]||f&&+t<0||(y[r][i]+=+t)}));return l.d3.max(Object.keys(y).map((function(t){return l.d3.max(y[t])})))},t.prototype.getYDomain=function(t,e,n){var r=this,o=r.config;if(r.isAxisNormalized(e))return[0,100];var f,l,h,d,y,_,v,x,m,w,T=t.filter((function(t){return r.axis.getId(t.id)===e})),P=n?r.filterByXDomain(T,n):T,C="y2"===e?o.axis_y2_min:o.axis_y_min,M="y2"===e?o.axis_y2_max:o.axis_y_max,E=r.getYDomainMin(P),L=r.getYDomainMax(P),O="y2"===e?o.axis_y2_center:o.axis_y_center,k=r.hasType("bar",P)&&o.bar_zerobased||r.hasType("area",P)&&o.area_zerobased,V="y2"===e?o.axis_y2_inverted:o.axis_y_inverted,G=r.hasDataLabel()&&o.axis_rotated,R=r.hasDataLabel()&&!o.axis_rotated;if(E=S(C)?C:S(M)?E<M?E:M-10:E,L=S(M)?M:S(C)?C<L?L:C+10:L,0===P.length)return"y2"===e?r.y2.domain():r.y.domain();if(isNaN(E)&&(E=0),isNaN(L)&&(L=E),E===L&&(E<0?L=0:E=0),m=E>=0&&L>=0,w=E<=0&&L<=0,(S(C)&&m||S(M)&&w)&&(k=!1),k&&(m&&(E=0),w&&(L=0)),h=d=.1*(l=Math.abs(L-E)),void 0!==O&&(L=O+(y=Math.max(Math.abs(E),Math.abs(L))),E=O-y),G)_=r.getDataLabelLength(E,L,"width"),v=c(r.y.range()),h+=l*((x=[_[0]/v,_[1]/v])[1]/(1-x[0]-x[1])),d+=l*(x[0]/(1-x[0]-x[1]));else if(R){_=r.getDataLabelLength(E,L,"height");var I=r.getY(o["axis_"+e+"_type"],[0,o.axis_rotated?r.width:r.height],[0,l]);h+=I(_[1]),d+=I(_[0])}return"y"===e&&A(o.axis_y_padding)&&(h=r.axis.getPadding(o.axis_y_padding,"top",h,l),d=r.axis.getPadding(o.axis_y_padding,"bottom",d,l)),"y2"===e&&A(o.axis_y2_padding)&&(h=r.axis.getPadding(o.axis_y2_padding,"top",h,l),d=r.axis.getPadding(o.axis_y2_padding,"bottom",d,l)),k&&(m&&(d=E),w&&(h=-L)),f=[E-d,L+h],V?f.reverse():f},t.prototype.getXDomainMin=function(t){var e=this,n=e.config;return y(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,(function(t){return e.d3.min(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainMax=function(t){var e=this,n=e.config;return y(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,(function(t){return e.d3.max(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainPadding=function(t){var e,n,r,o,c=this.config,f=t[1]-t[0];return n=this.isCategorized()?0:this.hasType("bar")?(e=this.getMaxDataCount())>1?f/(e-1)/2:.5:.01*f,"object"==typeof c.axis_x_padding&&A(c.axis_x_padding)?(r=S(c.axis_x_padding.left)?c.axis_x_padding.left:n,o=S(c.axis_x_padding.right)?c.axis_x_padding.right:n):r=o="number"==typeof c.axis_x_padding?c.axis_x_padding:n,{left:r,right:o}},t.prototype.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],o=n[1],c=e.getXDomainPadding(n),f=0,l=0;return r-o!=0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),o=new Date(1.5*o.getTime())):(r=0===r?1:.5*r,o=0===o?-1:1.5*o)),(r||0===r)&&(f=e.isTimeSeries()?new Date(r.getTime()-c.left):r-c.left),(o||0===o)&&(l=e.isTimeSeries()?new Date(o.getTime()+c.right):o+c.right),[f,l]},t.prototype.updateXDomain=function(t,e,n,r,o){var c=this,f=c.config;return n&&(c.x.domain(o||c.d3.extent(c.getXDomain(t))),c.orgXDomain=c.x.domain(),f.zoom_enabled&&c.zoom.update(),c.subX.domain(c.x.domain()),c.brush&&c.brush.updateScale(c.subX)),e&&c.x.domain(o||(!c.brush||c.brush.empty()?c.orgXDomain:c.brush.selectionAsValue())),r&&c.x.domain(c.trimXDomain(c.x.orgDomain())),c.x.domain()},t.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},t.prototype.drag=function(t){var e,n,r,o,c,f,h,d,y=this,_=y.config,main=y.main,v=y.d3;y.hasArcType()||_.data_selection_enabled&&_.data_selection_multiple&&(e=y.dragStart[0],n=y.dragStart[1],r=t[0],o=t[1],c=Math.min(e,r),f=Math.max(e,r),h=_.data_selection_grouped?y.margin.top:Math.min(n,o),d=_.data_selection_grouped?y.height:Math.max(n,o),main.select("."+M.dragarea).attr("x",c).attr("y",h).attr("width",f-c).attr("height",d-h),main.selectAll("."+M.shapes).selectAll("."+M.shape).each((function(t,i){if(_.data_selection_isselectable(t)){var e,n,r,o,x,m,w=v.select(this),S=w.classed(M.SELECTED),A=w.classed(M.INCLUDED),T=!1;if(w.classed(M.circle))e=1*w.attr("cx"),n=1*w.attr("cy"),x=y.togglePoint,T=c<e&&e<f&&h<n&&n<d;else{if(!w.classed(M.bar))return;e=(m=l(this)).x,n=m.y,r=m.width,o=m.height,x=y.togglePath,T=!(f<e||e+r<c||d<n||n+o<h)}T^A&&(w.classed(M.INCLUDED,!A),w.classed(M.SELECTED,!S),x.call(y,!S,w,t,i))}})))},t.prototype.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+M.chart).append("rect").attr("class",M.dragarea).style("opacity",.1),e.dragging=!0)},t.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+M.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+M.shape).classed(M.INCLUDED,!1),t.dragging=!1)},t.prototype.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,o,c){return("y2"===e.axis.getId(c)?r:n).call(e,t,o)}},t.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},t.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},t.prototype.defaultValueFormat=function(t){return S(t)?+t:""},t.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},t.prototype.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return S(t)?+t:""};return"function"==typeof e.format?e.format:"object"==typeof e.format?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},t.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",M.grid),e.grid_x_show&&t.grid.append("g").attr("class",M.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",M.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",M.xgridFocus).append("line").attr("class",M.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},t.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",M.grid+" "+M.gridLines),t.gridLines.append("g").attr("class",M.xgridLines),t.gridLines.append("g").attr("class",M.ygridLines),t.xgridLines=e.selectAll([])},t.prototype.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,o=e.generateGridData(n.grid_x_type,e.x),c=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-c},y2:function(t){return e.x(t)-c}}:{x1:function(t){return e.x(t)+c},x2:function(t){return e.x(t)+c},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var f=e.main.select("."+M.xgrids).selectAll("."+M.xgrid).data(o),l=f.enter().append("line").attr("class",M.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=l.merge(f),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),f.exit().remove()},t.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),r=t.main.select("."+M.ygrids).selectAll("."+M.ygrid).data(n),o=r.enter().append("line").attr("class",M.ygrid);t.ygrid=o.merge(r),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),r.exit().remove(),t.smoothLines(t.ygrid,"grid")},t.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},t.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},t.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},t.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},t.prototype.updateGrid=function(t){var e,n,r,o,c=this,main=c.main,f=c.config,l=c.xv.bind(c),h=c.yv.bind(c),d=c.xGridTextX.bind(c),y=c.yGridTextX.bind(c);c.grid.style("visibility",c.hasArcType()?"hidden":"visible"),main.select("line."+M.xgridFocus).style("visibility","hidden"),f.grid_x_show&&c.updateXGrid(),(n=(e=main.select("."+M.xgridLines).selectAll("."+M.xgridLine).data(f.grid_x_lines)).enter().append("g").attr("class",(function(t){return M.xgridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",f.axis_rotated?0:l).attr("x2",f.axis_rotated?c.width:l).attr("y1",f.axis_rotated?l:0).attr("y2",f.axis_rotated?l:c.height).style("opacity",0),n.append("text").attr("text-anchor",c.gridTextAnchor).attr("transform",f.axis_rotated?"":"rotate(-90)").attr("x",f.axis_rotated?y:d).attr("y",l).attr("dx",c.gridTextDx).attr("dy",-5).style("opacity",0),c.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),f.grid_y_show&&c.updateYGrid(),(o=(r=main.select("."+M.ygridLines).selectAll("."+M.ygridLine).data(f.grid_y_lines)).enter().append("g").attr("class",(function(t){return M.ygridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",f.axis_rotated?h:0).attr("x2",f.axis_rotated?h:c.width).attr("y1",f.axis_rotated?0:h).attr("y2",f.axis_rotated?c.height:h).style("opacity",0),o.append("text").attr("text-anchor",c.gridTextAnchor).attr("transform",f.axis_rotated?"rotate(-90)":"").attr("x",f.axis_rotated?d:y).attr("y",h).attr("dx",c.gridTextDx).attr("dy",-5).style("opacity",0),c.ygridLines=o.merge(r),c.ygridLines.select("line").transition().duration(t).attr("x1",f.axis_rotated?h:0).attr("x2",f.axis_rotated?h:c.width).attr("y1",f.axis_rotated?0:h).attr("y2",f.axis_rotated?c.height:h).style("opacity",1),c.ygridLines.select("text").transition().duration(t).attr("x",f.axis_rotated?c.xGridTextX.bind(c):c.yGridTextX.bind(c)).attr("y",h).text((function(t){return t.text})).style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawGrid=function(t,e){var n=this,r=n.config,o=n.xv.bind(n),c=n.xgridLines.select("line"),f=n.xgridLines.select("text");return[(t?c.transition(e):c).attr("x1",r.axis_rotated?0:o).attr("x2",r.axis_rotated?n.width:o).attr("y1",r.axis_rotated?o:0).attr("y2",r.axis_rotated?o:n.height).style("opacity",1),(t?f.transition(e):f).attr("x",r.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",o).text((function(t){return t.text})).style("opacity",1)]},t.prototype.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter((function(t){return t&&S(t.value)})),o=e.main.selectAll("line."+M.xgridFocus),c=e.xx.bind(e);n.tooltip_show&&(e.hasType("stanford")||e.hasArcType()||(o.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",c).attr(n.axis_rotated?"y2":"x2",c),e.smoothLines(o,"grid")))},t.prototype.hideXGridFocus=function(){this.main.select("line."+M.xgridFocus).style("visibility","hidden")},t.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+M.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},t.prototype.generateGridData=function(t,e){var n,r,o,i,c=[],f=this.main.select("."+M.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),o=n[1].getFullYear(),i=r;i<=o;i++)c.push(new Date(i+"-01-01 00:00:00"));else(c=e.ticks(10)).length>f&&(c=c.filter((function(t){return(""+t).indexOf(".")<0})));return c},t.prototype.getGridFilterToRemove=function(t){return t?function(line){var e=!1;return[].concat(t).forEach((function(param){("value"in param&&line.value===param.value||"class"in param&&line.class===param.class)&&(e=!0)})),e}:function(){return!0}},t.prototype.removeGridLines=function(t,e){var n=this.config,r=this.getGridFilterToRemove(t),o=function(line){return!r(line)},c=e?M.xgridLines:M.ygridLines,f=e?M.xgridLine:M.ygridLine;this.main.select("."+c).selectAll("."+f).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(o):n.grid_y_lines=n.grid_y_lines.filter(o)},t.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+M.chart).append("g").attr("class",M.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+M.eventRects).append("rect").attr("class",M.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},t.prototype.redrawEventRect=function(){var t=this,e=t.d3,n=t.config;function r(){t.svg.select("."+M.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}var o=function(e,r){return r&&(t.isBarType(r.id)||t.dist(r,e)<n.point_sensitivity)},c=function(e){return e?t.addName(Object.assign({},e)):null};t.main.select("."+M.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null),t.eventRect.attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).on("mouseout",n.interaction_enabled?function(){n&&(t.hasArcType()||(t.mouseover&&(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),r()))}:null).on("mousemove",n.interaction_enabled?function(){if(!t.dragging){var f=t.getTargetsToShow();if(!t.hasArcType(f)){var l,h=e.mouse(this),d=c(t.findClosestFromTargets(f,h)),y=o(h,d);if(!t.mouseover||d&&d.id===t.mouseover.id&&d.index===t.mouseover.index||(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),d&&!t.mouseover&&(n.data_onmouseover.call(t.api,d),t.mouseover=d),t.svg.select("."+M.eventRect).style("cursor",y?"pointer":null),!n.tooltip_grouped||t.hasType("stanford",f))d&&(l=[d]);else{var _=void 0;if(d)_=d;else{var v=n.axis_rotated?h[1]:h[0];_=t.findClosestFromTargetsByX(f,t.x.invert(v))}_&&(l=t.filterByX(f,_.x))}if(!l||0===l.length)return r();l=l.map(c),t.showTooltip(l,this),n.point_focus_expand_enabled&&(t.unexpandCircles(),l.forEach((function(e){t.expandCircles(e.index,e.id,!1)}))),t.unexpandBars(),l.forEach((function(e){t.expandBars(e.index,e.id,!1)})),t.showXGridFocus(l)}}}:null).on("click",n.interaction_enabled?function(){var r=t.getTargetsToShow();if(!t.hasArcType(r)){var f=e.mouse(this),l=c(t.findClosestFromTargets(r,f));if(o(f,l)&&((!n.data_selection_grouped||t.isStanfordType(l)?[l]:t.filterByX(r,l.x)).forEach((function(e){t.main.selectAll("."+M.shapes+t.getTargetSelectorSuffix(e.id)).selectAll("."+M.shape+"-"+e.index).each((function(){(n.data_selection_grouped||t.isWithinShape(this,e))&&t.toggleShape(this,e,e.index)}))})),l)){var h=t.main.selectAll("."+M.shapes+t.getTargetSelectorSuffix(l.id)).select("."+M.shape+"-"+l.index);n.data_onclick.call(t.api,l,h.node())}}}:null).call(n.interaction_enabled&&n.data_selection_draggable&&t.drag?e.drag().on("drag",(function(){t.drag(e.mouse(this))})).on("start",(function(){t.dragstart(e.mouse(this))})).on("end",(function(){t.dragend()})):function(){})},t.prototype.getMousePosition=function(data){return[this.x(data.x),this.getYScale(data.id)(data.value)]},t.prototype.dispatchEvent=function(t,e){var n="."+M.eventRect,r=this.main.select(n).node(),o=r.getBoundingClientRect(),c=o.left+(e?e[0]:0),f=o.top+(e?e[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(t,!0,!0,window,0,c,f,c,f,!1,!1,!1,!1,0,null),r.dispatchEvent(l)},t.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},t.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},t.prototype.updateSizeForLegend=function(t,e){var n=this,r=n.config,o={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?o.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?o.left:0}},t.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},t.prototype.updateLegendStep=function(t){this.legendStep=t},t.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},t.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},t.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},t.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},t.prototype.opacityForLegend=function(t){return t.classed(M.legendItemHidden)?null:1},t.prototype.opacityForUnfocusedLegend=function(t){return t.classed(M.legendItemHidden)?null:.3},t.prototype.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+M.legendItem).filter((function(e){return t.indexOf(e)>=0})).classed(M.legendItemFocused,e).transition().duration(100).style("opacity",(function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))}))},t.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+M.legendItem).classed(M.legendItemFocused,!1).transition().duration(100).style("opacity",(function(){return t.opacityForLegend(e.select(this))}))},t.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",(function(){return e.opacityForLegend(e.d3.select(this))}))},t.prototype.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&_(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},t.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},t.prototype.updateLegend=function(t,e,n){var r,o,c,l,h,d,_,v,x,m,w,S,A,T,P,C,E=this,L=E.config,O=0,k=0,V=L.legend_item_tile_width+5,G=0,R={},I={},N={},D=[0],j={},F=0;function z(e,n,r){var o,c,f=0===r,l=r===t.length-1,h=function(t,e){return E.legendItemTextBox[e]||(E.legendItemTextBox[e]=E.getTextRect(t.textContent,M.legendItem,t)),E.legendItemTextBox[e]}(e,n),d=h.width+V+(!l||E.isLegendRight||E.isLegendInset?10:0)+L.legend_padding,y=h.height+4,_=E.isLegendRight||E.isLegendInset?y:d,v=E.isLegendRight||E.isLegendInset?E.getLegendHeight():E.getLegendWidth();function x(t,e){e||(o=(v-G-_)/2)<10&&(o=(v-_)/2,G=0,F++),j[t]=F,D[F]=E.isLegendInset?10:o,R[t]=G,G+=_}f&&(G=0,F=0,O=0,k=0),!L.legend_show||E.isLegendToShow(n)?(I[n]=d,N[n]=y,(!O||d>=O)&&(O=d),(!k||y>=k)&&(k=y),c=E.isLegendRight||E.isLegendInset?k:O,L.legend_equally?(Object.keys(I).forEach((function(t){I[t]=O})),Object.keys(N).forEach((function(t){N[t]=k})),(o=(v-c*t.length)/2)<10?(G=0,F=0,t.forEach((function(t){x(t)}))):x(n,!0)):x(n)):I[n]=N[n]=j[n]=R[n]=0}t=t.filter((function(t){return!y(L.data_names[t])||null!==L.data_names[t]})),w=f(e=e||{},"withTransition",!0),S=f(e,"withTransitionForTransform",!0),E.isLegendInset&&(F=L.legend_inset_step?L.legend_inset_step:t.length,E.updateLegendStep(F)),E.isLegendRight?(r=function(t){return O*j[t]},l=function(t){return D[j[t]]+R[t]}):E.isLegendInset?(r=function(t){return O*j[t]+10},l=function(t){return D[j[t]]+R[t]}):(r=function(t){return D[j[t]]+R[t]},l=function(t){return k*j[t]}),o=function(t,i){return r(t,i)+4+L.legend_item_tile_width},h=function(t,i){return l(t,i)+9},c=function(t,i){return r(t,i)},d=function(t,i){return l(t,i)-5},_=function(t,i){return r(t,i)-2},v=function(t,i){return r(t,i)-2+L.legend_item_tile_width},x=function(t,i){return l(t,i)+4},(m=E.legend.selectAll("."+M.legendItem).data(t).enter().append("g").attr("class",(function(t){return E.generateClass(M.legendItem,t)})).style("visibility",(function(t){return E.isLegendToShow(t)?"visible":"hidden"})).style("cursor",(function(){return L.interaction_enabled?"pointer":"auto"})).on("click",L.interaction_enabled?function(t){L.legend_item_onclick?L.legend_item_onclick.call(E,t):E.d3.event.altKey?(E.api.hide(),E.api.show(t)):(E.api.toggle(t),E.isTargetToShow(t)?E.api.focus(t):E.api.revert())}:null).on("mouseover",L.interaction_enabled?function(t){L.legend_item_onmouseover?L.legend_item_onmouseover.call(E,t):(E.d3.select(this).classed(M.legendItemFocused,!0),!E.transiting&&E.isTargetToShow(t)&&E.api.focus(t))}:null).on("mouseout",L.interaction_enabled?function(t){L.legend_item_onmouseout?L.legend_item_onmouseout.call(E,t):(E.d3.select(this).classed(M.legendItemFocused,!1),E.api.revert())}:null)).append("text").text((function(t){return y(L.data_names[t])?L.data_names[t]:t})).each((function(t,i){z(this,t,i)})).style("pointer-events","none").attr("x",E.isLegendRight||E.isLegendInset?o:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:h),m.append("rect").attr("class",M.legendItemEvent).style("fill-opacity",0).attr("x",E.isLegendRight||E.isLegendInset?c:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:d),m.append("line").attr("class",M.legendItemTile).style("stroke",E.color).style("pointer-events","none").attr("x1",E.isLegendRight||E.isLegendInset?_:-200).attr("y1",E.isLegendRight||E.isLegendInset?-200:x).attr("x2",E.isLegendRight||E.isLegendInset?v:-200).attr("y2",E.isLegendRight||E.isLegendInset?-200:x).attr("stroke-width",L.legend_item_tile_height),C=E.legend.select("."+M.legendBackground+" rect"),E.isLegendInset&&O>0&&0===C.size()&&(C=E.legend.insert("g","."+M.legendItem).attr("class",M.legendBackground).append("rect")),A=E.legend.selectAll("text").data(t).text((function(t){return y(L.data_names[t])?L.data_names[t]:t})).each((function(t,i){z(this,t,i)})),(w?A.transition():A).attr("x",o).attr("y",h),T=E.legend.selectAll("rect."+M.legendItemEvent).data(t),(w?T.transition():T).attr("width",(function(t){return I[t]})).attr("height",(function(t){return N[t]})).attr("x",c).attr("y",d),P=E.legend.selectAll("line."+M.legendItemTile).data(t),(w?P.transition():P).style("stroke",E.levelColor?function(t){return E.levelColor(E.cache[t].values.reduce((function(t,e){return t+e.value}),0))}:E.color).attr("x1",_).attr("y1",x).attr("x2",v).attr("y2",x),C&&(w?C.transition():C).attr("height",E.getLegendHeight()-12).attr("width",O*(F+1)+10),E.legend.selectAll("."+M.legendItem).classed(M.legendItemHidden,(function(t){return!E.isTargetToShow(t)})),E.updateLegendItemWidth(O),E.updateLegendItemHeight(k),E.updateLegendStep(F),E.updateSizes(),E.updateScales(),E.updateSvgSize(),E.transformAll(S,n),E.legendHasRendered=!0},t.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",M.regions)},t.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var r=e.main.select("."+M.regions).selectAll("."+M.region).data(n.regions),g=r.enter().append("g");g.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",(function(t){return S(t.opacity)?t.opacity:.1})),g.append("text").text(e.labelRegion.bind(e)),e.mainRegion=g.merge(r).attr("class",e.classRegion.bind(e)),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawRegion=function(t,e){var n=this,r=n.mainRegion,o=n.mainRegion.selectAll("text");return[(t?r.transition(e):r).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",(function(t){return S(t.opacity)?t.opacity:.1})),(t?o.transition(e):o).attr("x",n.labelOffsetX.bind(n)).attr("y",n.labelOffsetY.bind(n)).attr("transform",n.labelTransform.bind(n)).attr("style","text-anchor: left;")]},t.prototype.regionX=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?r(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionY=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?r(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionWidth=function(t){var e,n=this,r=n.config,o=n.regionX(t),c="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?c(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<o?0:e-o},t.prototype.regionHeight=function(t){var e,n=this,r=n.config,o=this.regionY(t),c="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?c(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<o?0:e-o},t.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},t.prototype.labelRegion=function(t){return"label"in t?t.label:""},t.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},t.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+n:this.regionX(t)+e},t.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+n},t.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},t.prototype.getX=function(t,e,n,r){var o,c=this.getScale(t,e,this.isTimeSeries()),f=n?c.domain(n):c;for(o in this.isCategorized()?(r=r||function(){return 0},c=function(t,e){var n=f(t)+r(t);return e?n:Math.ceil(n)}):c=function(t,e){var n=f(t);return e?n:Math.ceil(n)},f)c[o]=f[o];return c.orgDomain=function(){return f.domain()},this.isCategorized()&&(c.domain=function(t){return arguments.length?(f.domain(t),c):[(t=this.orgDomain())[0],t[1]+1]}),c},t.prototype.getY=function(t,e,n){var r;if("timeseries"===t||"time"===t)r=this.d3.scaleTime();else if("log"===t)r=k(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error('Invalid Y axis type: "'+t+'"');r=this.d3.scaleLinear()}return e&&r.domain(e),n&&r.range(n),r},t.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},t.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},t.prototype.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),(function(){return t.xAxis.tickOffset()})),t.y=t.getY(e.axis_y_type,n?e.axis_y_default:t.y.domain(),[t.yMin,t.yMax]),t.y2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.y2.domain(),[t.yMin,t.yMax]),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,(function(e){return e%1?0:t.subXAxis.tickOffset()})),t.subY=t.getY(e.axis_y_type,n?e.axis_y_default:t.subY.domain(),[t.subYMin,t.subYMax]),t.subY2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.subY2.domain(),[t.subYMin,t.subYMax]),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis("y",t.y,t.yOrient,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis("y2",t.y2,t.y2Orient,t.y2AxisTickValues,e.axis_y2_tick_outer),n||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},t.prototype.selectPoint=function(t,e,i){var n=this,r=n.config,o=(r.axis_rotated?n.circleY:n.circleX).bind(n),c=(r.axis_rotated?n.circleX:n.circleY).bind(n),f=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+M.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+M.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",(function(){return n.generateClass(M.selectedCircle,i)})).attr("cx",o).attr("cy",c).attr("stroke",(function(){return n.color(e)})).attr("r",(function(t){return 1.4*n.pointSelectR(t)})).transition().duration(100).attr("r",f)},t.prototype.unselectPoint=function(t,e,i){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+M.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+M.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},t.prototype.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},t.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.d3.rgb(n.color(e)).brighter(.75)}))},t.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.color(e)}))},t.prototype.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},t.prototype.getToggle=function(t,e){var n;return"circle"===t.nodeName?n=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(n=this.togglePath),n},t.prototype.toggleShape=function(t,e,i){var n=this,r=n.d3,o=n.config,c=r.select(t),f=c.classed(M.SELECTED),l=n.getToggle(t,e).bind(n);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||n.main.selectAll("."+M.shapes+(o.data_selection_grouped?n.getTargetSelectorSuffix(e.id):"")).selectAll("."+M.shape).each((function(t,i){var e=r.select(this);e.classed(M.SELECTED)&&l(!1,e.classed(M.SELECTED,!1),t,i)})),c.classed(M.SELECTED,!f),l(!f,c,e,i))},t.prototype.initBar=function(){this.main.select("."+M.chart).append("g").attr("class",M.chartBars)},t.prototype.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),o=e.classBars.bind(e),c=e.classFocus.bind(e);e.main.select("."+M.chartBars).selectAll("."+M.chartBar).data(t).attr("class",(function(t){return r(t)+c(t)})).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",o).style("cursor",(function(t){return n.data_selection_isselectable(t)?"pointer":null}))},t.prototype.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),o=e.initialOpacity.bind(e),c=function(t){return e.color(t.id)},f=e.main.selectAll("."+M.bars).selectAll("."+M.bar).data(n),l=f.enter().append("path").attr("class",r).style("stroke",c).style("fill",c);e.mainBar=l.merge(f).style("opacity",o),f.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawBar=function(t,e,n){var r=this;return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",(function(t){return r.isTargetToShow(t.id)?1:0}))]},t.prototype.getBarW=function(t,e){var n=this.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},t.prototype.getBars=function(i,t){return(t?this.main.selectAll("."+M.bars+this.getTargetSelectorSuffix(t)):this.main).selectAll("."+M.bar+(S(i)?"-"+i:""))},t.prototype.expandBars=function(i,t,e){e&&this.unexpandBars(),this.getBars(i,t).classed(M.EXPANDED,!0)},t.prototype.unexpandBars=function(i){this.getBars(i).classed(M.EXPANDED,!1)},t.prototype.generateDrawBar=function(t,e){var n=this.config,r=this.generateGetBarPoints(t,e);return function(t,i){var e=r(t,i),o=n.axis_rotated?1:0,c=n.axis_rotated?0:1;return"M "+e[0][o]+","+e[0][c]+" L"+e[1][o]+","+e[1][c]+" L"+e[2][o]+","+e[2][c]+" L"+e[3][o]+","+e[3][c]+" z"}},t.prototype.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,o=t.__max__+1,c=n.getBarW(r,o),f=n.getShapeX(c,o,t,!!e),l=n.getShapeY(!!e),h=n.getShapeOffset(n.isBarType,t,!!e),d=c*(n.config.bar_space/2),y=e?n.getSubYScale:n.getYScale;return function(t,i){var e=y.call(n,t.id)(0),r=h(t,i)||e,o=f(t),_=l(t);return n.config.axis_rotated&&(0<t.value&&_<e||t.value<0&&e<_)&&(_=e),[[o+d,r],[o+d,_-=e-r],[o+c-d,_],[o+c-d,r]]}},t.prototype.isWithinBar=function(t,e){return function(t,e,n){void 0===n&&(n=0);var r=e.x-n,o=e.x+e.width+n,c=e.y+e.height+n,f=e.y-n;return r<t[0]&&t[0]<o&&f<t[1]&&t[1]<c}(t,h(e),2)},t.prototype.getShapeIndices=function(t){var e,n,r=this.config,o={},i=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach((function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(n=0;n<r.data_groups[e].length;n++)if(r.data_groups[e][n]in o){o[t.id]=o[r.data_groups[e][n]];break}w(o[t.id])&&(o[t.id]=i++)})),o.__max__=i-1,o},t.prototype.getShapeX=function(t,e,n,r){var o=r?this.subX:this.x;return function(r){var c=r.id in n?n[r.id]:0;return r.x||0===r.x?o(r.x)-t*(e/2-c):0}},t.prototype.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(e.isTargetNormalized(n.id)?e.getRatio("index",n,!0):n.value)}},t.prototype.getShapeOffset=function(t,e,n){var r=this,o=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),c=o.map((function(t){return t.id}));return function(t,i){var f=n?r.getSubYScale(t.id):r.getYScale(t.id),l=f(0),h=l;return o.forEach((function(n){var o=r.isStepType(t)?r.convertValuesToStep(n.values):n.values,d=r.isTargetNormalized(t.id),y=o.map((function(t){return d?r.getRatio("index",t,!0):t.value}));n.id!==t.id&&e[n.id]===e[t.id]&&c.indexOf(n.id)<c.indexOf(t.id)&&((w(o[i])||+o[i].x!=+t.x)&&(i=-1,o.forEach((function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(i=n)}))),i in o&&o[i].value*t.value>=0&&(h+=f(y[i])-l))})),h}},t.prototype.isWithinShape=function(t,e){var n,r=this,o=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!o.classed(M.bar)||r.isWithinBar(r.d3.mouse(t),t)):n=!1,n},t.prototype.getInterpolate=function(t){var e=this,n=e.d3,r={linear:n.curveLinear,"linear-closed":n.curveLinearClosed,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter};return e.isSplineType(t)?r[e.config.spline_interpolation_type]||r.cardinal:e.isStepType(t)?r[e.config.line_step_type]:r.linear},t.prototype.initLine=function(){this.main.select("."+M.chart).append("g").attr("class",M.chartLines)},t.prototype.updateTargetsForLine=function(t){var e,n=this,r=n.config,o=n.classChartLine.bind(n),c=n.classLines.bind(n),f=n.classAreas.bind(n),l=n.classCircles.bind(n),h=n.classFocus.bind(n);(e=n.main.select("."+M.chartLines).selectAll("."+M.chartLine).data(t).attr("class",(function(t){return o(t)+h(t)})).enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none")).append("g").attr("class",c),e.append("g").attr("class",f),e.append("g").attr("class",(function(t){return n.generateClass(M.selectedCircles,t.id)})),e.append("g").attr("class",l).style("cursor",(function(t){return r.data_selection_isselectable(t)?"pointer":null})),t.forEach((function(t){n.main.selectAll("."+M.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+M.selectedCircle).each((function(e){e.value=t.values[e.index].value}))}))},t.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+M.lines).selectAll("."+M.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=r.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",(function(t){return e.isStepType(t)?"crispEdges":""})).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},t.prototype.generateDrawLine=function(t,e){var n=this,r=n.config,line=n.d3.line(),o=n.generateGetLinePoints(t,e),c=e?n.getSubYScale:n.getYScale,f=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,i){return r.data_groups.length>0?o(t,i)[0][1]:c.call(n,t.id)(t.value)};return line=r.axis_rotated?line.x(l).y(f):line.x(f).y(l),r.line_connectNull||(line=line.defined((function(t){return null!=t.value}))),function(t){var path,o=r.line_connectNull?n.filterRemoveNull(t.values):t.values,f=e?n.subX:n.x,l=c.call(n,t.id),h=0,d=0;return n.isLineType(t)?r.data_regions[t.id]?path=n.lineWithRegions(o,f,l,r.data_regions[t.id]):(n.isStepType(t)&&(o=n.convertValuesToStep(o)),path=line.curve(n.getInterpolate(t))(o)):(o[0]&&(h=f(o[0].x),d=l(o[0].value)),path=r.axis_rotated?"M "+d+" "+h:"M "+h+" "+d),path||"M 0 0"}},t.prototype.generateGetLinePoints=function(t,e){var n=this,r=n.config,o=t.__max__+1,c=n.getShapeX(0,o,t,!!e),f=n.getShapeY(!!e),l=n.getShapeOffset(n.isLineType,t,!!e),h=e?n.getSubYScale:n.getYScale;return function(t,i){var e=h.call(n,t.id)(0),o=l(t,i)||e,d=c(t),y=f(t);return r.axis_rotated&&(0<t.value&&y<e||t.value<0&&e<y)&&(y=e),[[d,y-(e-o)],[d,y-(e-o)],[d,y-(e-o)],[d,y-(e-o)]]}},t.prototype.lineWithRegions=function(t,e,n,r){var i,o,c,f,l,h,d,_,v,x,m,S=this,A=S.config,s="M",T=S.isCategorized()?.5:0,P=[];function C(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}if(y(r))for(i=0;i<r.length;i++)P[i]={},w(r[i].start)?P[i].start=t[0].x:P[i].start=S.isTimeSeries()?S.parseDate(r[i].start):r[i].start,w(r[i].end)?P[i].end=t[t.length-1].x:P[i].end=S.isTimeSeries()?S.parseDate(r[i].end):r[i].end;function M(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(x=A.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},m=A.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},c=S.isTimeSeries()?function(t,r,o,c){var f=t.x.getTime(),h=r.x-t.x,d=new Date(f+h*o),y=new Date(f+h*(o+c));return M(A.axis_rotated?[[n(l(o)),e(d)],[n(l(o+c)),e(y)]]:[[e(d),n(l(o))],[e(y),n(l(o+c))]])}:function(t,r,o,c){return M(A.axis_rotated?[[n(l(o),!0),e(f(o))],[n(l(o+c),!0),e(f(o+c))]]:[[e(f(o),!0),n(l(o))],[e(f(o+c),!0),n(l(o+c))]])},i=0;i<t.length;i++){if(w(P)||!C(t[i].x,P))s+=" "+x(t[i])+" "+m(t[i]);else for(f=S.getScale(t[i-1].x+T,t[i].x+T,S.isTimeSeries()),l=S.getScale(t[i-1].value,t[i].value),h=e(t[i].x)-e(t[i-1].x),d=n(t[i].value)-n(t[i-1].value),v=2*(_=2/Math.sqrt(Math.pow(h,2)+Math.pow(d,2))),o=_;o<=1;o+=v)s+=c(t[i-1],t[i],o,_);t[i].x}return s},t.prototype.updateArea=function(t){var e=this,n=e.d3,r=e.main.selectAll("."+M.areas).selectAll("."+M.area).data(e.lineData.bind(e)),o=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));e.mainArea=o.merge(r).style("opacity",e.orgAreaOpacity),r.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},t.prototype.generateDrawArea=function(t,e){var n=this,r=n.config,area=n.d3.area(),o=n.generateGetAreaPoints(t,e),c=e?n.getSubYScale:n.getYScale,f=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,i){return r.data_groups.length>0?o(t,i)[0][1]:c.call(n,t.id)(n.getAreaBaseValue(t.id))},h=function(t,i){return r.data_groups.length>0?o(t,i)[1][1]:c.call(n,t.id)(t.value)};return area=r.axis_rotated?area.x0(l).x1(h).y(f):area.x(f).y0(r.area_above?0:l).y1(h),r.line_connectNull||(area=area.defined((function(t){return null!==t.value}))),function(t){var path,e=r.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,c=0;return n.isAreaType(t)?(n.isStepType(t)&&(e=n.convertValuesToStep(e)),path=area.curve(n.getInterpolate(t))(e)):(e[0]&&(o=n.x(e[0].x),c=n.getYScale(t.id)(e[0].value)),path=r.axis_rotated?"M "+c+" "+o:"M "+o+" "+c),path||"M 0 0"}},t.prototype.getAreaBaseValue=function(){return 0},t.prototype.generateGetAreaPoints=function(t,e){var n=this,r=n.config,o=t.__max__+1,c=n.getShapeX(0,o,t,!!e),f=n.getShapeY(!!e),l=n.getShapeOffset(n.isAreaType,t,!!e),h=e?n.getSubYScale:n.getYScale;return function(t,i){var e=h.call(n,t.id)(0),o=l(t,i)||e,d=c(t),y=f(t);return r.axis_rotated&&(0<t.value&&y<e||t.value<0&&e<y)&&(y=e),[[d,o],[d,y-(e-o)],[d,y-(e-o)],[d,o]]}},t.prototype.updateCircle=function(t,e){var n=this,r=n.main.selectAll("."+M.circles).selectAll("."+M.circle).data(n.lineOrScatterOrStanfordData.bind(n)),o=r.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=o.merge(r).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),r.exit().style("opacity",0)},t.prototype.redrawCircle=function(t,e,n,r){var o=this,c=o.main.selectAll("."+M.selectedCircle);return[(n?o.mainCircle.transition(r):o.mainCircle).style("opacity",this.opacityForCircle.bind(o)).style("color",o.isStanfordGraphType()?o.getStanfordPointColor.bind(o):o.color).attr("cx",t).attr("cy",e),(n?c.transition(r):c).attr("cx",t).attr("cy",e)]},t.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},t.prototype.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,i){return e(t,i)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},t.prototype.getCircles=function(i,t){return(t?this.main.selectAll("."+M.circles+this.getTargetSelectorSuffix(t)):this.main).selectAll("."+M.circle+(S(i)?"-"+i:""))},t.prototype.expandCircles=function(i,t,e){var n=this.pointExpandedR.bind(this);e&&this.unexpandCircles(),this.getCircles(i,t).classed(M.EXPANDED,!0).attr("r",n)},t.prototype.unexpandCircles=function(i){var t=this,e=t.pointR.bind(t);t.getCircles(i).filter((function(){return t.d3.select(this).classed(M.EXPANDED)})).classed(M.EXPANDED,!1).attr("r",e)},t.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:v(e.point_r)?e.point_r(t):e.point_r},t.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?v(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},t.prototype.pointSelectR=function(t){var e=this.config;return v(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},t.prototype.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),o=n.select(t),c=+o.attr("cx"),f=+o.attr("cy");return Math.sqrt(Math.pow(c-r[0],2)+Math.pow(f-r[1],2))<e},t.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},t.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},t.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},t.prototype.getCurrentPaddingTop=function(){var t=this.config,e=S(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},t.prototype.getCurrentPaddingBottom=function(){var t=this.config;return S(t.padding_bottom)?t.padding_bottom:0},t.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return S(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(o(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:o(this.getAxisWidthByAxisId("y",t))},t.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,n=0,r=t.isLegendRight?t.getLegendWidth()+20:0;return n=S(e.padding_right)?e.padding_right+1:e.axis_rotated?10+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):o(t.getAxisWidthByAxisId("y2"))+r,t.colorScale&&t.colorScale.node()&&(n+=t.getColorScalePadding()),n},t.prototype.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},t.prototype.getParentWidth=function(){return this.getParentRectValue("width")},t.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},t.prototype.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,o=n.axis_rotated?M.axisX:M.axisY,c=e.main.select("."+o).node(),f=c&&r?c.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),h=e.hasArcType(),d=f.right-l.left-(h?0:e.getCurrentPaddingLeft(t));return d>0?d:0},t.prototype.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},t.prototype.getHorizontalAxisHeight=function(t,e){var n=this,r=n.config,o=30;return"x"!==t||(y(e)&&e?r.subchart_axis_x_show:r.axis_x_show)?"x"===t&&r.axis_x_height?r.axis_x_height:"y"!==t||r.axis_y_show?"y2"!==t||r.axis_y2_show?("x"===t&&!r.axis_rotated&&r.axis_x_tick_rotate&&(o=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_x_tick_rotate))/180)),"y"===t&&r.axis_rotated&&r.axis_y_tick_rotate&&(o=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_y_tick_rotate))/180)),o+(n.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):n.rotated_padding_top:!r.legend_show||n.isLegendRight||n.isLegendInset?1:10:8},t.prototype.initBrush=function(t){var e=this,n=e.d3;return e.brush=(e.config.axis_rotated?n.brushY():n.brushX()).on("brush",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.redrawForBrush()})).on("end",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.brush.empty()&&t&&"end"!==t.type&&e.brush.clear()})),e.brush.updateExtent=function(){var t,n=this.scale.range();return t=e.config.axis_rotated?[[0,n[0]],[e.width2,n[1]]]:[[n[0],0],[n[1],e.height2]],this.extent(t),this},e.brush.updateScale=function(t){return this.scale=t,this},e.brush.update=function(t){this.updateScale(t||e.subX).updateExtent(),e.context.select("."+M.brush).call(this)},e.brush.clear=function(){e.context.select("."+M.brush).call(e.brush.move,null)},e.brush.selection=function(){return n.brushSelection(e.context.select("."+M.brush).node())},e.brush.selectionAsValue=function(t,n){var r,o;return t?(e.context&&(r=[this.scale(t[0]),this.scale(t[1])],o=e.context.select("."+M.brush),n&&(o=o.transition()),e.brush.move(o,r)),[]):(r=e.brush.selection()||[0,0],[this.scale.invert(r[0]),this.scale.invert(r[1])])},e.brush.empty=function(){var t=e.brush.selection();return!t||t[0]===t[1]},e.brush.updateScale(t)},t.prototype.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility","visible"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",M.chart),n.select("."+M.chart).append("g").attr("class",M.chartBars),n.select("."+M.chart).append("g").attr("class",M.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",M.brush),t.axes.subx=n.append("g").attr("class",M.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?"visible":"hidden")},t.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+M.brush).call(this.brush)},t.prototype.updateTargetsForSubchart=function(t){var e,n,r,o,c=this,f=c.context,l=c.config,h=c.classChartBar.bind(c),d=c.classBars.bind(c),y=c.classChartLine.bind(c),_=c.classLines.bind(c),v=c.classAreas.bind(c);(r=(o=f.select("."+M.chartBars).selectAll("."+M.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(o).attr("class",h),r.append("g").attr("class",d),(e=(n=f.select("."+M.chartLines).selectAll("."+M.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",y),e.append("g").attr("class",_),e.append("g").attr("class",v),f.selectAll("."+M.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?c.width2:c.height2)},t.prototype.updateBarForSubchart=function(t){var e=this,n=e.context.selectAll("."+M.bars).selectAll("."+M.bar).data(e.barData.bind(e)),r=n.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextBar=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},t.prototype.updateLineForSubchart=function(t){var e=this,n=e.context.selectAll("."+M.lines).selectAll("."+M.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextLine=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},t.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,r=e.context.selectAll("."+M.areas).selectAll("."+M.area).data(e.lineData.bind(e)),o=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));r.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=o.merge(r).style("opacity",0)},t.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},t.prototype.redrawSubchart=function(t,e,n,r,o,c,f){var l,h,d,y=this,_=y.d3;_.event&&"zoom"===_.event.type&&y.brush.selectionAsValue(y.x.orgDomain()),t&&(y.brush.empty()||y.brush.selectionAsValue(y.x.orgDomain()),l=y.generateDrawArea(o,!0),h=y.generateDrawBar(c,!0),d=y.generateDrawLine(f,!0),y.updateBarForSubchart(n),y.updateLineForSubchart(n),y.updateAreaForSubchart(n),y.redrawBarForSubchart(h,n,n),y.redrawLineForSubchart(d,n,n),y.redrawAreaForSubchart(l,n,n))},t.prototype.redrawForBrush=function(){var s,t=this,e=t.x,n=t.d3;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),s=n.event.selection||t.brush.scale.range(),t.main.select("."+M.eventRect).call(t.zoom.transform,n.zoomIdentity.scale(t.width/(s[1]-s[0])).translate(-s[0],0)),t.config.subchart_onbrush.call(t.api,e.orgDomain())},t.prototype.transformContext=function(t,e){var n;e&&e.axisSubX?n=e.axisSubX:(n=this.context.select("."+M.axisX),t&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},t.prototype.getDefaultSelection=function(){var t=this,e=t.config,n=v(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},t.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},t.prototype.initText=function(){this.main.select("."+M.chart).append("g").attr("class",M.chartTexts),this.mainText=this.d3.selectAll([])},t.prototype.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),o=e.classFocus.bind(e),c=e.main.select("."+M.chartTexts).selectAll("."+M.chartText).data(t),f=c.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none");f.append("g").attr("class",r),f.merge(c).attr("class",(function(t){return n(t)+o(t)}))},t.prototype.updateText=function(t,e,n){var r=this,o=r.config,c=r.barOrLineData.bind(r),f=r.classText.bind(r),l=r.main.selectAll("."+M.texts).selectAll("."+M.text).data(c),h=l.enter().append("text").attr("class",f).attr("text-anchor",(function(t){return o.axis_rotated?t.value<0?"end":"start":"middle"})).style("stroke","none").attr("x",t).attr("y",e).style("fill",(function(t){return r.color(t)})).style("fill-opacity",0);r.mainText=h.merge(l).text((function(t,i,e){return r.dataLabelFormat(t.id)(t.value,t.id,i,e)})),l.exit().transition().duration(n).style("fill-opacity",0).remove()},t.prototype.redrawText=function(t,e,n,r,o){return[(r?this.mainText.transition(o):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},t.prototype.getTextRect=function(text,t,element){var rect,e=this.d3.select("body").append("div").classed("c3",!0),svg=e.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),n=this.d3.select(element).style("font");return svg.selectAll(".dummy").data([text]).enter().append("text").classed(t||"",!0).style("font",n).text(text).each((function(){rect=h(this)})),e.remove(),rect},t.prototype.generateXYForText=function(t,e,n,r){var o=this,c=o.generateGetAreaPoints(t,!1),f=o.generateGetBarPoints(e,!1),l=o.generateGetLinePoints(n,!1),h=r?o.getXForText:o.getYForText;return function(t,i){var e=o.isAreaType(t)?c:o.isBarType(t)?f:l;return h.call(o,e(t,i),t,this)}},t.prototype.getXForText=function(t,e,n){var r,o,c=this,f=h(n);return c.config.axis_rotated?(o=c.isBarType(e)?4:6,r=t[2][1]+o*(e.value<0?-1:1)):r=c.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>c.width?r=c.width-f.width:r<0&&(r=4)),r},t.prototype.getYForText=function(t,e,n){var r,o=this,c=h(n);return o.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*c.height)/2:(r=t[2][1],e.value<0||0===e.value&&!o.hasPositiveValue?(r+=c.height,o.isBarType(e)&&o.isSafari()?r-=3:!o.isBarType(e)&&o.isChrome()&&(r+=3)):r+=o.isBarType(e)?-3:-6),null!==e.value||o.config.axis_rotated||(r<c.height?r=c.height:r>this.height&&(r=this.height-4)),r},t.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},t.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},t.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},t.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},t.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},t.prototype.drawColorScale=function(){var t,e,n,r,o,c,f,l=this,h=l.d3,d=l.config,y=l.data.targets[0];if((t=isNaN(d.stanford_scaleWidth)?20:d.stanford_scaleWidth)<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");f=l.height-d.stanford_padding.bottom-d.stanford_padding.top,n=h.range(d.stanford_padding.bottom,f,5),c=h.scaleSequential(y.colors).domain([n[n.length-1],n[0]]),l.colorScale&&l.colorScale.remove(),l.colorScale=l.svg.append("g").attr("width",50).attr("height",f).attr("class",M.colorScale),l.colorScale.append("g").attr("transform","translate(0, "+d.stanford_padding.top+")").selectAll("bars").data(n).enter().append("rect").attr("y",(function(t,i){return 5*i})).attr("x",0).attr("width",t).attr("height",5).attr("fill",(function(t){return c(t)})),o=h.scaleLog().domain([y.minEpochs,y.maxEpochs]).range([n[0]+d.stanford_padding.top+n[n.length-1]+5-1,n[0]+d.stanford_padding.top]),r=h.axisRight(o),"pow10"===d.stanford_scaleFormat?r.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):v(d.stanford_scaleFormat)?r.tickFormat(d.stanford_scaleFormat):r.tickFormat(h.format("d")),v(d.stanford_scaleValues)&&r.tickValues(d.stanford_scaleValues(y.minEpochs,y.maxEpochs)),e=l.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+t+",0)").call(r),"pow10"===d.stanford_scaleFormat&&e.selectAll(".tick text").text(null).filter(V).text(10).append("tspan").attr("dy","-.7em").text((function(t){return Math.round(Math.log(t)/Math.LN10)})),l.colorScale.attr("transform","translate("+(l.currentWidth-l.xForColorScale())+", 0)")},t.prototype.xForColorScale=function(){return this.config.stanford_padding.right+h(this.colorScale.node()).width},t.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},t.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},t.prototype.initStanfordData=function(){var t,e,n,r=this.d3,o=this.config,c=this.data.targets[0];if(c.values.sort(I),t=c.values.map((function(a){return a.epochs})),(n=isNaN(o.stanford_scaleMin)?r.min(t):o.stanford_scaleMin)>(e=isNaN(o.stanford_scaleMax)?r.max(t):o.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");c.colors=v(o.stanford_colors)?o.stanford_colors:r.interpolateHslLong(r.hsl(250,1,.5),r.hsl(0,1,.5)),c.colorscale=r.scaleSequentialLog(c.colors).domain([n,e]),c.minEpochs=n,c.maxEpochs=e},t.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},t.prototype.getCentroid=function(t){var i,e,n,r,o,area=G(t),c=0,f=0;for(i=0,e=t.length-1;i<t.length;e=i,i+=1)r=t[i],o=t[e],n=r.x*o.y-o.x*r.y,c+=(r.x+o.x)*n,f+=(r.y+o.y)*n;return{x:c/(n=6*area),y:f/n}},t.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),n=this.axis.getLabelText("y");return"\n      <tr><th>"+(e?T(e):"x")+"</th><th class='value'>"+t.x+"</th></tr>\n      <tr><th>"+(n?T(n):"y")+"</th><th class='value'>"+t.value+"</th></tr>\n    "},t.prototype.countEpochsInRegion=function(t){var e,n,r=this.data.targets[0];return e=r.values.reduce((function(t,e){return t+Number(e.epochs)}),0),{value:n=r.values.reduce((function(e,n){return R(n,t)?e+Number(n.epochs):e}),0),percentage:0!==n?(n/e*100).toFixed(1):0}};var G=function(t){var i,e,n,r,area=0;for(i=0,e=t.length-1;i<t.length;e=i,i+=1)n=t[i],r=t[e],area+=n.x*r.y,area-=n.y*r.x;return area/=2},R=function(t,e){for(var n,r,o,c,f=t.x,l=t.value,h=!1,i=0,d=e.length-1;i<e.length;d=i++)n=e[i].x,r=e[i].y,c=e[d].x,r>l!=(o=e[d].y)>l&&f<(c-n)*(l-r)/(o-r)+n&&(h=!h);return h},I=function(a,b){return a.epochs<b.epochs?-1:a.epochs>b.epochs?1:0};return t.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select("."+M.chart).append("g").attr("class",M.stanfordElements),t.stanfordElements.append("g").attr("class",M.stanfordLines),t.stanfordElements.append("g").attr("class",M.stanfordTexts),t.stanfordElements.append("g").attr("class",M.stanfordRegions)},t.prototype.updateStanfordElements=function(t){var e,n,r,o,c,f,l=this,main=l.main,h=l.config,d=l.xvCustom.bind(l),y=l.yvCustom.bind(l),_=l.countEpochsInRegion.bind(l);(n=(e=main.select("."+M.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+M.stanfordLine).data(h.stanford_lines)).enter().append("g").attr("class",(function(t){return M.stanfordLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",(function(t){return h.axis_rotated?y(t,"value_y1"):d(t,"value_x1")})).attr("x2",(function(t){return h.axis_rotated?y(t,"value_y2"):d(t,"value_x2")})).attr("y1",(function(t){return h.axis_rotated?d(t,"value_x1"):y(t,"value_y1")})).attr("y2",(function(t){return h.axis_rotated?d(t,"value_x2"):y(t,"value_y2")})).style("opacity",0),l.stanfordLines=n.merge(e),l.stanfordLines.select("line").transition().duration(t).attr("x1",(function(t){return h.axis_rotated?y(t,"value_y1"):d(t,"value_x1")})).attr("x2",(function(t){return h.axis_rotated?y(t,"value_y2"):d(t,"value_x2")})).attr("y1",(function(t){return h.axis_rotated?d(t,"value_x1"):y(t,"value_y1")})).attr("y2",(function(t){return h.axis_rotated?d(t,"value_x2"):y(t,"value_y2")})).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(f=(c=main.select("."+M.stanfordTexts).selectAll("."+M.stanfordText).data(h.stanford_texts)).enter().append("g").attr("class",(function(t){return M.stanfordText+(t.class?" "+t.class:"")}))).append("text").attr("x",(function(t){return h.axis_rotated?y(t,"y"):d(t,"x")})).attr("y",(function(t){return h.axis_rotated?d(t,"x"):y(t,"y")})).style("opacity",0),l.stanfordTexts=f.merge(c),l.stanfordTexts.select("text").transition().duration(t).attr("x",(function(t){return h.axis_rotated?y(t,"y"):d(t,"x")})).attr("y",(function(t){return h.axis_rotated?d(t,"x"):y(t,"y")})).text((function(t){return t.content})).style("opacity",1),c.exit().transition().duration(t).style("opacity",0).remove(),(o=(r=main.select("."+M.stanfordRegions).selectAll("."+M.stanfordRegion).data(h.stanford_regions)).enter().append("g").attr("class",(function(t){return M.stanfordRegion+(t.class?" "+t.class:"")}))).append("polygon").attr("points",(function(t){return t.points.map((function(t){return[h.axis_rotated?y(t,"y"):d(t,"x"),h.axis_rotated?d(t,"x"):y(t,"y")].join(",")})).join(" ")})).style("opacity",0),o.append("text").attr("x",(function(t){return l.getCentroid(t.points).x})).attr("y",(function(t){return l.getCentroid(t.points).y})).style("opacity",0),l.stanfordRegions=o.merge(r),l.stanfordRegions.select("polygon").transition().duration(t).attr("points",(function(t){return t.points.map((function(t){return[h.axis_rotated?y(t,"y"):d(t,"x"),h.axis_rotated?d(t,"x"):y(t,"y")].join(",")})).join(" ")})).style("opacity",(function(t){return t.opacity?t.opacity:.2})),l.stanfordRegions.select("text").transition().duration(t).attr("x",(function(t){return h.axis_rotated?y(l.getCentroid(t.points),"y"):d(l.getCentroid(t.points),"x")})).attr("y",(function(t){return h.axis_rotated?d(l.getCentroid(t.points),"x"):y(l.getCentroid(t.points),"y")})).text((function(t){var e,n,r;return t.text?(l.isStanfordGraphType()&&(e=(r=_(t.points)).value,n=r.percentage),t.text(e,n)):""})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.initTooltip=function(){var i,t=this,e=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",M.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(t.isTimeSeries()&&m(e.tooltip_init_x)){for(e.tooltip_init_x=t.parseDate(e.tooltip_init_x),i=0;i<t.data.targets[0].values.length&&t.data.targets[0].values[i].x-e.tooltip_init_x!=0;i++);e.tooltip_init_x=i}t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map((function(n){return t.addName(n.values[e.tooltip_init_x])})),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},t.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map((function(i){return i.id}));return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(a,b){return n.indexOf(a.id)-n.indexOf(b.id)}}var r=e.tooltip_order;void 0===r&&(r=e.data_order);var o=function(t){return t?t.value:null};if(m(r)&&"asc"===r.toLowerCase())return function(a,b){return o(a)-o(b)};if(m(r)&&"desc"===r.toLowerCase())return function(a,b){return o(b)-o(a)};if(v(r)){var c=r;return void 0===e.tooltip_order&&(c=function(a,b){return r(a?{id:a.id,values:[a]}:null,b?{id:b.id,values:[b]}:null)}),c}return d(r)?function(a,b){return r.indexOf(a.id)-r.indexOf(b.id)}:void 0},t.prototype.getTooltipContent=function(t,e,n,r){var text,i,title,o,c,f,l=this,h=l.config,d=h.tooltip_format_title||e,y=h.tooltip_format_name||function(t){return t},_=h.tooltip_format_value;_||(_=l.isTargetNormalized(t.id)?function(t,e){return(100*e).toFixed(2)+"%"}:n);var v=this.getTooltipSortFunction();for(v&&t.sort(v),i=0;i<t.length;i++)if(t[i]&&(t[i].value||0===t[i].value)){if(l.isStanfordGraphType())text||(title=l.getStanfordTooltipTitle(t[i]),text="<table class='"+l.CLASS.tooltip+"'>"+title),f=l.getStanfordPointColor(t[i]),c=T(h.data_epochs),o=t[i].epochs;else if(text||(title=T(d?d(t[i].x,t[i].index):t[i].x),text="<table class='"+l.CLASS.tooltip+"'>"+(title||0===title?"<tr><th colspan='2'>"+title+"</th></tr>":"")),void 0!==(o=T(_(t[i].value,t[i].ratio,t[i].id,t[i].index,t)))){if(null===t[i].name)continue;c=T(y(t[i].name,t[i].ratio,t[i].id,t[i].index)),f=l.levelColor?l.levelColor(t[i].value):r(t[i].id)}void 0!==o&&(text+="<tr class='"+l.CLASS.tooltipName+"-"+l.getTargetSelectorSuffix(t[i].id)+"'>",text+="<td class='name'><span style='background-color:"+f+"'></span>"+c+"</td>",text+="<td class='value'>"+o+"</td>",text+="</tr>")}return text+"</table>"},t.prototype.tooltipPosition=function(t,e,n,element){var r,o,c,f,l,h=this,d=h.config,y=h.d3,_=h.hasArcType(),v=y.mouse(element);return _?(o=(h.width-(h.isLegendRight?h.getLegendWidth():0))/2+v[0],f=(h.hasType("gauge")?h.height:h.height/2)+v[1]+20):(r=h.getSvgLeft(!0),d.axis_rotated?(c=(o=r+v[0]+100)+e,l=h.currentWidth-h.getCurrentPaddingRight(),f=h.x(t[0].x)+20):(c=(o=r+h.getCurrentPaddingLeft(!0)+h.x(t[0].x)+20)+e,l=r+h.currentWidth-h.getCurrentPaddingRight(),f=v[1]+15),c>l&&(o-=c-l+20),f+n>h.currentHeight&&(f-=n+30)),f<0&&(f=0),{top:f,left:o}},t.prototype.showTooltip=function(e,element){var n,r,o,c=this,f=c.config,l=c.hasArcType(),h=e.filter((function(t){return t&&S(t.value)})),d=f.tooltip_position||t.prototype.tooltipPosition;0!==h.length&&f.tooltip_show?(c.tooltip.html(f.tooltip_contents.call(c,e,c.axis.getXAxisTickFormat(),c.getYFormat(l),c.color)).style("display","block"),n=c.tooltip.property("offsetWidth"),r=c.tooltip.property("offsetHeight"),o=d.call(this,h,n,r,element),c.tooltip.style("top",o.top+"px").style("left",o.left+"px")):c.hideTooltip()},t.prototype.hideTooltip=function(){this.tooltip.style("display","none")},t.prototype.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach((function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e})),t||(r.data_type=e)},t.prototype.hasType=function(t,e){var n=this.config.data_types,r=!1;return(e=e||this.data.targets)&&e.length?e.forEach((function(e){var o=n[e.id];(o&&o.indexOf(t)>=0||!o&&"line"===t)&&(r=!0)})):Object.keys(n).length?Object.keys(n).forEach((function(e){n[e]===t&&(r=!0)})):r=this.config.data_type===t,r},t.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},t.prototype.isLineType=function(t){var e=this.config,n=m(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},t.prototype.isStepType=function(t){var e=m(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isSplineType=function(t){var e=m(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},t.prototype.isAreaType=function(t){var e=m(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isBarType=function(t){var e=m(t)?t:t.id;return"bar"===this.config.data_types[e]},t.prototype.isScatterType=function(t){var e=m(t)?t:t.id;return"scatter"===this.config.data_types[e]},t.prototype.isStanfordType=function(t){var e=m(t)?t:t.id;return"stanford"===this.config.data_types[e]},t.prototype.isPieType=function(t){var e=m(t)?t:t.id;return"pie"===this.config.data_types[e]},t.prototype.isGaugeType=function(t){var e=m(t)?t:t.id;return"gauge"===this.config.data_types[e]},t.prototype.isDonutType=function(t){var e=m(t)?t:t.id;return"donut"===this.config.data_types[e]},t.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},t.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},t.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},t.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},t.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},t.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},t.prototype.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},t.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},t.prototype.initZoom=function(){var t,e=this,n=e.d3,r=e.config;return e.zoom=n.zoom().on("start",(function(){if("scroll"===r.zoom_type){var o=n.event.sourceEvent;o&&"brush"===o.type||(t=o,r.zoom_onzoomstart.call(e.api,o))}})).on("zoom",(function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e.redrawForZoom(),r.zoom_onzoom.call(e.api,e.x.orgDomain()))}})).on("end",(function(){if("scroll"===r.zoom_type){var o=n.event.sourceEvent;o&&"brush"===o.type||o&&t.clientX===o.clientX&&t.clientY===o.clientY||r.zoom_onzoomend.call(e.api,e.x.orgDomain())}})),e.zoom.updateDomain=function(){return n.event&&n.event.transform&&(r.axis_rotated&&"scroll"===r.zoom_type&&"mousemove"===n.event.sourceEvent.type?e.x.domain(n.event.transform.rescaleY(e.subX).domain()):e.x.domain(n.event.transform.rescaleX(e.subX).domain())),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},t.prototype.zoomTransform=function(t){var s=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(s[1]-s[0])).translate(-s[0],0)},t.prototype.initDragZoom=function(){var t=this,e=t.d3,n=t.config,r=t.context=t.svg,o=t.margin.left+20.5,c=t.margin.top+.5;if("drag"===n.zoom_type&&n.zoom_enabled){var f=function(e){return e&&e.map((function(e){return t.x.invert(e)}))},l=t.dragZoomBrush=e.brushX().on("start",(function(){t.api.unzoom(),t.svg.select("."+M.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(t.api,e.event.sourceEvent)})).on("brush",(function(){n.zoom_onzoom.call(t.api,f(e.event.selection))})).on("end",(function(){if(null!=e.event.selection){var r=f(e.event.selection);n.zoom_disableDefaultBehavior||t.api.zoom(r),t.svg.select("."+M.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(t.api,r)}}));r.append("g").classed(M.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+o+","+c+")").call(l)}},t.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},t.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,o=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(r.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&o.orgDomain()[0]===t.orgXDomain[0]&&o.domain([t.orgXDomain[0]-1e-10,o.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},O}()},function(t,e,n){var r=n(307),o=n(290),c=n(427),f=n(432),l=o((function(t){return t.push(void 0,c),r(f,void 0,t)}));t.exports=l},function(t,e,n){var r=n(320),o=n(245);t.exports=function t(e,n,c,object,source,f){return o(e)&&o(n)&&(f.set(n,e),r(e,n,void 0,t,f),f.delete(n)),e}},function(t,e,n){var r=n(321),o=n(322),c=n(323),f=n(324),l=n(325),h=n(266),d=n(244),y=n(430),_=n(267),v=n(282),x=n(245),m=n(326),w=n(278),S=n(327),A=n(431);t.exports=function(object,source,t,e,n,T,P){var C=S(object,t),M=S(source,t),E=P.get(M);if(E)r(object,t,E);else{var L=T?T(C,M,t+"",object,source,P):void 0,O=void 0===L;if(O){var k=d(M),V=!k&&_(M),G=!k&&!V&&w(M);L=M,k||V||G?d(C)?L=C:y(C)?L=f(C):V?(O=!1,L=o(M,!0)):G?(O=!1,L=c(M,!0)):L=[]:m(M)||h(M)?(L=C,h(C)?L=A(C):x(C)&&!v(C)||(L=l(M))):O=!1}O&&(P.set(M,L),n(L,M,e,T,P),P.delete(M)),r(object,t,L)}}},function(t,e,n){var r=n(245),o=Object.create,c=function(){function object(){}return function(t){if(!r(t))return{};if(o)return o(t);object.prototype=t;var e=new object;return object.prototype=void 0,e}}();t.exports=c},function(t,e,n){var r=n(256),o=n(252);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(261),o=n(260);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(320),o=n(433)((function(object,source,t,e){r(object,source,t,e)}));t.exports=o},function(t,e,n){var r=n(290),o=n(309);t.exports=function(t){return r((function(object,e){var n=-1,r=e.length,c=r>1?e[r-1]:void 0,f=r>2?e[2]:void 0;for(c=t.length>3&&"function"==typeof c?(r--,c):void 0,f&&o(e[0],e[1],f)&&(c=r<3?void 0:c,r=1),object=Object(object);++n<r;){var source=e[n];source&&t(object,source,n,c)}return object}))}},function(t,e,n){var r=n(245),o=n(435),c=n(436),f=Math.max,l=Math.min;t.exports=function(t,e,n){var h,d,y,_,v,x,m=0,w=!1,S=!1,A=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function T(time){var e=h,n=d;return h=d=void 0,m=time,_=t.apply(n,e)}function P(time){return m=time,v=setTimeout(M,e),w?T(time):_}function C(time){var t=time-x;return void 0===x||t>=e||t<0||S&&time-m>=y}function M(){var time=o();if(C(time))return E(time);v=setTimeout(M,function(time){var t=e-(time-x);return S?l(t,y-(time-m)):t}(time))}function E(time){return v=void 0,A&&h?T(time):(h=d=void 0,_)}function L(){var time=o(),t=C(time);if(h=arguments,d=this,x=time,t){if(void 0===v)return P(x);if(S)return clearTimeout(v),v=setTimeout(M,e),T(x)}return void 0===v&&(v=setTimeout(M,e)),_}return e=c(e)||0,r(n)&&(w=!!n.leading,y=(S="maxWait"in n)?f(c(n.maxWait)||0,e):y,A="trailing"in n?!!n.trailing:A),L.cancel=function(){void 0!==v&&clearTimeout(v),m=0,h=x=d=v=void 0},L.flush=function(){return void 0===v?_:E(o())},L}},function(t,e,n){var r=n(246);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(245),o=n(265),c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=l.test(t);return n||h.test(t)?d(t.slice(2),n?2:8):f.test(t)?NaN:+t}},function(t,e,n){var r=n(274),o=n(297),c=n(287),f=n(438),l=n(439),h=n(322),d=n(324),y=n(440),_=n(441),v=n(315),x=n(330),m=n(275),w=n(442),S=n(443),A=n(325),T=n(244),P=n(267),C=n(447),M=n(245),E=n(449),L=n(262),O=n(260),k={};k["[object Arguments]"]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k["[object Object]"]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k["[object Function]"]=k["[object WeakMap]"]=!1,t.exports=function t(e,n,V,G,object,R){var I,N=1&n,D=2&n,j=4&n;if(V&&(I=object?V(e,G,object,R):V(e)),void 0!==I)return I;if(!M(e))return e;var F=T(e);if(F){if(I=w(e),!N)return d(e,I)}else{var z=m(e),X="[object Function]"==z||"[object GeneratorFunction]"==z;if(P(e))return h(e,N);if("[object Object]"==z||"[object Arguments]"==z||X&&!object){if(I=D||X?{}:A(e),!N)return D?_(e,l(I,e)):y(e,f(I,e))}else{if(!k[z])return object?e:{};I=S(e,z,N)}}R||(R=new r);var B=R.get(e);if(B)return B;R.set(e,I),E(e)?e.forEach((function(r){I.add(t(r,n,V,r,e,R))})):C(e)&&e.forEach((function(r,o){I.set(o,t(r,n,V,o,e,R))}));var Y=F?void 0:(j?D?x:v:D?O:L)(e);return o(Y||e,(function(r,o){Y&&(r=e[o=r]),c(I,o,t(r,n,V,o,e,R))})),I}},function(t,e,n){var r=n(261),o=n(262);t.exports=function(object,source){return object&&r(source,o(source),object)}},function(t,e,n){var r=n(261),o=n(260);t.exports=function(object,source){return object&&r(source,o(source),object)}},function(t,e,n){var r=n(261),o=n(291);t.exports=function(source,object){return r(source,o(source),object)}},function(t,e,n){var r=n(261),o=n(329);t.exports=function(source,object){return r(source,o(source),object)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(292),o=n(444),c=n(445),f=n(446),l=n(323);t.exports=function(object,t,e){var n=object.constructor;switch(t){case"[object ArrayBuffer]":return r(object);case"[object Boolean]":case"[object Date]":return new n(+object);case"[object DataView]":return o(object,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return l(object,e);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(object);case"[object RegExp]":return c(object);case"[object Set]":return new n;case"[object Symbol]":return f(object)}}},function(t,e,n){var r=n(292);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(255),o=r?r.prototype:void 0,c=o?o.valueOf:void 0;t.exports=function(symbol){return c?Object(c.call(symbol)):{}}},function(t,e,n){var r=n(448),o=n(269),c=n(280),f=c&&c.isMap,l=f?o(f):r;t.exports=l},function(t,e,n){var r=n(275),o=n(252);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(450),o=n(269),c=n(280),f=c&&c.isSet,l=f?o(f):r;t.exports=l},function(t,e,n){var r=n(275),o=n(252);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e,n){var r=n(257),o=n(452),c=n(453),f=n(259);t.exports=function(object,path){return path=r(path,object),null==(object=c(object,path))||delete object[f(o(path))]}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(264),o=n(454);t.exports=function(object,path){return path.length<2?object:r(object,o(path,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var c=Array(o);++r<o;)c[r]=t[r+e];return c}},function(t,e,n){var r=n(326);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(457),o=n(244);t.exports=function(t,e,n,c){return null==t?[]:(o(e)||(e=null==e?[]:[e]),o(n=c?void 0:n)||(n=null==n?[]:[n]),r(t,e,n))}},function(t,e,n){var r=n(286),o=n(264),c=n(311),f=n(458),l=n(459),h=n(269),d=n(460),y=n(263),_=n(244);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return _(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[y];var v=-1;e=r(e,h(c));var x=f(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++v,value:t}}));return l(x,(function(object,t){return d(object,t,n)}))}},function(t,e,n){var r=n(276),o=n(256);t.exports=function(t,e){var n=-1,c=o(t)?Array(t.length):[];return r(t,(function(t,r,o){c[++n]=e(t,r,o)})),c}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(461);t.exports=function(object,t,e){for(var n=-1,o=object.criteria,c=t.criteria,f=o.length,l=e.length;++n<f;){var h=r(o[n],c[n]);if(h)return n>=l?h:h*("desc"==e[n]?-1:1)}return object.index-t.index}},function(t,e,n){var r=n(265);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,c=t==t,f=r(t),l=void 0!==e,h=null===e,d=e==e,y=r(e);if(!h&&!y&&!f&&t>e||f&&l&&d&&!h&&!y||o&&l&&d||!n&&d||!c)return 1;if(!o&&!f&&!y&&t<e||y&&n&&c&&!o&&!f||h&&n&&c||!l&&c||!d)return-1}return 0}},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return r})),n.d(e,"bisect",(function(){return d})),n.d(e,"bisectRight",(function(){return l})),n.d(e,"bisectLeft",(function(){return h})),n.d(e,"ascending",(function(){return o})),n.d(e,"bisector",(function(){return c})),n.d(e,"cross",(function(){return v})),n.d(e,"descending",(function(){return x})),n.d(e,"deviation",(function(){return S})),n.d(e,"extent",(function(){return A})),n.d(e,"histogram",(function(){return N})),n.d(e,"thresholdFreedmanDiaconis",(function(){return j})),n.d(e,"thresholdScott",(function(){return F})),n.d(e,"thresholdSturges",(function(){return I})),n.d(e,"max",(function(){return z})),n.d(e,"mean",(function(){return X})),n.d(e,"median",(function(){return B})),n.d(e,"merge",(function(){return Y})),n.d(e,"min",(function(){return H})),n.d(e,"pairs",(function(){return y})),n.d(e,"permute",(function(){return U})),n.d(e,"quantile",(function(){return D})),n.d(e,"range",(function(){return E})),n.d(e,"scan",(function(){return W})),n.d(e,"shuffle",(function(){return Q})),n.d(e,"sum",(function(){return $})),n.d(e,"ticks",(function(){return V})),n.d(e,"tickIncrement",(function(){return G})),n.d(e,"tickStep",(function(){return R})),n.d(e,"transpose",(function(){return Z})),n.d(e,"variance",(function(){return w})),n.d(e,"zip",(function(){return J})),n.d(e,"axisTop",(function(){return ct})),n.d(e,"axisRight",(function(){return ft})),n.d(e,"axisBottom",(function(){return lt})),n.d(e,"axisLeft",(function(){return ht})),n.d(e,"brush",(function(){return ji})),n.d(e,"brushX",(function(){return Ni})),n.d(e,"brushY",(function(){return Di})),n.d(e,"brushSelection",(function(){return Ii})),n.d(e,"chord",(function(){return qi})),n.d(e,"ribbon",(function(){return so})),n.d(e,"nest",(function(){return ho})),n.d(e,"set",(function(){return bo})),n.d(e,"map",(function(){return lo})),n.d(e,"keys",(function(){return wo})),n.d(e,"values",(function(){return So})),n.d(e,"entries",(function(){return Ao})),n.d(e,"color",(function(){return Je})),n.d(e,"rgb",(function(){return rn})),n.d(e,"hsl",(function(){return ln})),n.d(e,"lab",(function(){return Eo})),n.d(e,"hcl",(function(){return No})),n.d(e,"lch",(function(){return Io})),n.d(e,"gray",(function(){return Mo})),n.d(e,"cubehelix",(function(){return Ho})),n.d(e,"contours",(function(){return ea})),n.d(e,"contourDensity",(function(){return ua})),n.d(e,"dispatch",(function(){return mt})),n.d(e,"drag",(function(){return pa})),n.d(e,"dragDisable",(function(){return Re})),n.d(e,"dragEnable",(function(){return Ie})),n.d(e,"dsvFormat",(function(){return ba})),n.d(e,"csvParse",(function(){return Sa})),n.d(e,"csvParseRows",(function(){return Aa})),n.d(e,"csvFormat",(function(){return Ta})),n.d(e,"csvFormatBody",(function(){return Pa})),n.d(e,"csvFormatRows",(function(){return Ca})),n.d(e,"csvFormatRow",(function(){return Ma})),n.d(e,"csvFormatValue",(function(){return Ea})),n.d(e,"tsvParse",(function(){return Oa})),n.d(e,"tsvParseRows",(function(){return ka})),n.d(e,"tsvFormat",(function(){return Va})),n.d(e,"tsvFormatBody",(function(){return Ga})),n.d(e,"tsvFormatRows",(function(){return Ra})),n.d(e,"tsvFormatRow",(function(){return Ia})),n.d(e,"tsvFormatValue",(function(){return Na})),n.d(e,"autoType",(function(){return Da})),n.d(e,"easeLinear",(function(){return Fa})),n.d(e,"easeQuad",(function(){return Ba})),n.d(e,"easeQuadIn",(function(){return za})),n.d(e,"easeQuadOut",(function(){return Xa})),n.d(e,"easeQuadInOut",(function(){return Ba})),n.d(e,"easeCubic",(function(){return oi})),n.d(e,"easeCubicIn",(function(){return ri})),n.d(e,"easeCubicOut",(function(){return ii})),n.d(e,"easeCubicInOut",(function(){return oi})),n.d(e,"easePoly",(function(){return Ua})),n.d(e,"easePolyIn",(function(){return Ya})),n.d(e,"easePolyOut",(function(){return Ha})),n.d(e,"easePolyInOut",(function(){return Ua})),n.d(e,"easeSin",(function(){return Za})),n.d(e,"easeSinIn",(function(){return Qa})),n.d(e,"easeSinOut",(function(){return $a})),n.d(e,"easeSinInOut",(function(){return Za})),n.d(e,"easeExp",(function(){return eu})),n.d(e,"easeExpIn",(function(){return Ja})),n.d(e,"easeExpOut",(function(){return tu})),n.d(e,"easeExpInOut",(function(){return eu})),n.d(e,"easeCircle",(function(){return iu})),n.d(e,"easeCircleIn",(function(){return nu})),n.d(e,"easeCircleOut",(function(){return ru})),n.d(e,"easeCircleInOut",(function(){return iu})),n.d(e,"easeBounce",(function(){return au})),n.d(e,"easeBounceIn",(function(){return ou})),n.d(e,"easeBounceOut",(function(){return au})),n.d(e,"easeBounceInOut",(function(){return uu})),n.d(e,"easeBack",(function(){return fu})),n.d(e,"easeBackIn",(function(){return su})),n.d(e,"easeBackOut",(function(){return cu})),n.d(e,"easeBackInOut",(function(){return fu})),n.d(e,"easeElastic",(function(){return du})),n.d(e,"easeElasticIn",(function(){return hu})),n.d(e,"easeElasticOut",(function(){return du})),n.d(e,"easeElasticInOut",(function(){return pu})),n.d(e,"blob",(function(){return yu})),n.d(e,"buffer",(function(){return vu})),n.d(e,"dsv",(function(){return wu})),n.d(e,"csv",(function(){return Su})),n.d(e,"tsv",(function(){return Au})),n.d(e,"image",(function(){return Tu})),n.d(e,"json",(function(){return Cu})),n.d(e,"text",(function(){return mu})),n.d(e,"xml",(function(){return Eu})),n.d(e,"html",(function(){return Lu})),n.d(e,"svg",(function(){return svg})),n.d(e,"forceCenter",(function(){return Ou})),n.d(e,"forceCollide",(function(){return Yu})),n.d(e,"forceLink",(function(){return Wu})),n.d(e,"forceManyBody",(function(){return Ku})),n.d(e,"forceRadial",(function(){return Ju})),n.d(e,"forceSimulation",(function(){return Zu})),n.d(e,"forceX",(function(){return ts})),n.d(e,"forceY",(function(){return es})),n.d(e,"formatDefaultLocale",(function(){return _s})),n.d(e,"format",(function(){return cs})),n.d(e,"formatPrefix",(function(){return fs})),n.d(e,"formatLocale",(function(){return ys})),n.d(e,"formatSpecifier",(function(){return os})),n.d(e,"FormatSpecifier",(function(){return as})),n.d(e,"precisionFixed",(function(){return vs})),n.d(e,"precisionPrefix",(function(){return xs})),n.d(e,"precisionRound",(function(){return ms})),n.d(e,"geoArea",(function(){return lc})),n.d(e,"geoBounds",(function(){return rf})),n.d(e,"geoCentroid",(function(){return yf})),n.d(e,"geoCircle",(function(){return Cf})),n.d(e,"geoClipAntimeridian",(function(){return jf})),n.d(e,"geoClipCircle",(function(){return Ff})),n.d(e,"geoClipExtent",(function(){return Hf})),n.d(e,"geoClipRectangle",(function(){return zf})),n.d(e,"geoContains",(function(){return ll})),n.d(e,"geoDistance",(function(){return tl})),n.d(e,"geoGraticule",(function(){return gl})),n.d(e,"geoGraticule10",(function(){return yl})),n.d(e,"geoInterpolate",(function(){return bl})),n.d(e,"geoLength",(function(){return Zf})),n.d(e,"geoPath",(function(){return mh})),n.d(e,"geoAlbers",(function(){return jh})),n.d(e,"geoAlbersUsa",(function(){return Fh})),n.d(e,"geoAzimuthalEqualArea",(function(){return Yh})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return Bh})),n.d(e,"geoAzimuthalEquidistant",(function(){return Uh})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return Hh})),n.d(e,"geoConicConformal",(function(){return Kh})),n.d(e,"geoConicConformalRaw",(function(){return Zh})),n.d(e,"geoConicEqualArea",(function(){return Dh})),n.d(e,"geoConicEqualAreaRaw",(function(){return Nh})),n.d(e,"geoConicEquidistant",(function(){return rd})),n.d(e,"geoConicEquidistantRaw",(function(){return nd})),n.d(e,"geoEqualEarth",(function(){return fd})),n.d(e,"geoEqualEarthRaw",(function(){return cd})),n.d(e,"geoEquirectangular",(function(){return ed})),n.d(e,"geoEquirectangularRaw",(function(){return Jh})),n.d(e,"geoGnomonic",(function(){return hd})),n.d(e,"geoGnomonicRaw",(function(){return ld})),n.d(e,"geoIdentity",(function(){return pd})),n.d(e,"geoProjection",(function(){return Gh})),n.d(e,"geoProjectionMutator",(function(){return Rh})),n.d(e,"geoMercator",(function(){return qh})),n.d(e,"geoMercatorRaw",(function(){return Wh})),n.d(e,"geoNaturalEarth1",(function(){return yd})),n.d(e,"geoNaturalEarth1Raw",(function(){return gd})),n.d(e,"geoOrthographic",(function(){return vd})),n.d(e,"geoOrthographicRaw",(function(){return _d})),n.d(e,"geoStereographic",(function(){return md})),n.d(e,"geoStereographicRaw",(function(){return xd})),n.d(e,"geoTransverseMercator",(function(){return wd})),n.d(e,"geoTransverseMercatorRaw",(function(){return bd})),n.d(e,"geoRotation",(function(){return Af})),n.d(e,"geoStream",(function(){return rc})),n.d(e,"geoTransform",(function(){return bh})),n.d(e,"cluster",(function(){return Pd})),n.d(e,"hierarchy",(function(){return Md})),n.d(e,"pack",(function(){return Jd})),n.d(e,"packSiblings",(function(){return Wd})),n.d(e,"packEnclose",(function(){return Gd})),n.d(e,"partition",(function(){return ap})),n.d(e,"stratify",(function(){return lp})),n.d(e,"tree",(function(){return vp})),n.d(e,"treemap",(function(){return Sp})),n.d(e,"treemapBinary",(function(){return Ap})),n.d(e,"treemapDice",(function(){return op})),n.d(e,"treemapSlice",(function(){return xp})),n.d(e,"treemapSliceDice",(function(){return Tp})),n.d(e,"treemapSquarify",(function(){return wp})),n.d(e,"treemapResquarify",(function(){return Pp})),n.d(e,"interpolate",(function(){return Dn})),n.d(e,"interpolateArray",(function(){return Mn})),n.d(e,"interpolateBasis",(function(){return gn})),n.d(e,"interpolateBasisClosed",(function(){return yn})),n.d(e,"interpolateDate",(function(){return Ln})),n.d(e,"interpolateDiscrete",(function(){return Cp})),n.d(e,"interpolateHue",(function(){return Mp})),n.d(e,"interpolateNumber",(function(){return On})),n.d(e,"interpolateNumberArray",(function(){return Pn})),n.d(e,"interpolateObject",(function(){return kn})),n.d(e,"interpolateRound",(function(){return Ep})),n.d(e,"interpolateString",(function(){return Nn})),n.d(e,"interpolateTransformCss",(function(){return Ar})),n.d(e,"interpolateTransformSvg",(function(){return Tr})),n.d(e,"interpolateZoom",(function(){return kp})),n.d(e,"interpolateRgb",(function(){return wn})),n.d(e,"interpolateRgbBasis",(function(){return An})),n.d(e,"interpolateRgbBasisClosed",(function(){return Tn})),n.d(e,"interpolateHsl",(function(){return Gp})),n.d(e,"interpolateHslLong",(function(){return Rp})),n.d(e,"interpolateLab",(function(){return Ip})),n.d(e,"interpolateHcl",(function(){return Dp})),n.d(e,"interpolateHclLong",(function(){return jp})),n.d(e,"interpolateCubehelix",(function(){return zp})),n.d(e,"interpolateCubehelixLong",(function(){return Xp})),n.d(e,"piecewise",(function(){return Bp})),n.d(e,"quantize",(function(){return Yp})),n.d(e,"path",(function(){return no})),n.d(e,"polygonArea",(function(){return Hp})),n.d(e,"polygonCentroid",(function(){return Up})),n.d(e,"polygonHull",(function(){return Qp})),n.d(e,"polygonContains",(function(){return $p})),n.d(e,"polygonLength",(function(){return Zp})),n.d(e,"quadtree",(function(){return Du})),n.d(e,"randomUniform",(function(){return Jp})),n.d(e,"randomNormal",(function(){return tg})),n.d(e,"randomLogNormal",(function(){return eg})),n.d(e,"randomBates",(function(){return rg})),n.d(e,"randomIrwinHall",(function(){return ng})),n.d(e,"randomExponential",(function(){return ig})),n.d(e,"scaleBand",(function(){return hg})),n.d(e,"scalePoint",(function(){return pg})),n.d(e,"scaleIdentity",(function(){return Mg})),n.d(e,"scaleLinear",(function(){return Cg})),n.d(e,"scaleLog",(function(){return Ng})),n.d(e,"scaleSymlog",(function(){return zg})),n.d(e,"scaleOrdinal",(function(){return lg})),n.d(e,"scaleImplicit",(function(){return fg})),n.d(e,"scalePow",(function(){return Ug})),n.d(e,"scaleSqrt",(function(){return Wg})),n.d(e,"scaleQuantile",(function(){return qg})),n.d(e,"scaleQuantize",(function(){return Qg})),n.d(e,"scaleThreshold",(function(){return $g})),n.d(e,"scaleTime",(function(){return Vv})),n.d(e,"scaleUtc",(function(){return Bv})),n.d(e,"scaleSequential",(function(){return Uv})),n.d(e,"scaleSequentialLog",(function(){return Wv})),n.d(e,"scaleSequentialPow",(function(){return Qv})),n.d(e,"scaleSequentialSqrt",(function(){return $v})),n.d(e,"scaleSequentialSymlog",(function(){return qv})),n.d(e,"scaleSequentialQuantile",(function(){return Zv})),n.d(e,"scaleDiverging",(function(){return Jv})),n.d(e,"scaleDivergingLog",(function(){return tx})),n.d(e,"scaleDivergingPow",(function(){return nx})),n.d(e,"scaleDivergingSqrt",(function(){return rx})),n.d(e,"scaleDivergingSymlog",(function(){return ex})),n.d(e,"tickFormat",(function(){return Tg})),n.d(e,"schemeCategory10",(function(){return ox})),n.d(e,"schemeAccent",(function(){return ax})),n.d(e,"schemeDark2",(function(){return ux})),n.d(e,"schemePaired",(function(){return sx})),n.d(e,"schemePastel1",(function(){return cx})),n.d(e,"schemePastel2",(function(){return fx})),n.d(e,"schemeSet1",(function(){return lx})),n.d(e,"schemeSet2",(function(){return hx})),n.d(e,"schemeSet3",(function(){return dx})),n.d(e,"schemeTableau10",(function(){return px})),n.d(e,"interpolateBrBG",(function(){return _x})),n.d(e,"schemeBrBG",(function(){return yx})),n.d(e,"interpolatePRGn",(function(){return xx})),n.d(e,"schemePRGn",(function(){return vx})),n.d(e,"interpolatePiYG",(function(){return bx})),n.d(e,"schemePiYG",(function(){return mx})),n.d(e,"interpolatePuOr",(function(){return Sx})),n.d(e,"schemePuOr",(function(){return wx})),n.d(e,"interpolateRdBu",(function(){return Tx})),n.d(e,"schemeRdBu",(function(){return Ax})),n.d(e,"interpolateRdGy",(function(){return Cx})),n.d(e,"schemeRdGy",(function(){return Px})),n.d(e,"interpolateRdYlBu",(function(){return Ex})),n.d(e,"schemeRdYlBu",(function(){return Mx})),n.d(e,"interpolateRdYlGn",(function(){return Ox})),n.d(e,"schemeRdYlGn",(function(){return Lx})),n.d(e,"interpolateSpectral",(function(){return Vx})),n.d(e,"schemeSpectral",(function(){return kx})),n.d(e,"interpolateBuGn",(function(){return Rx})),n.d(e,"schemeBuGn",(function(){return Gx})),n.d(e,"interpolateBuPu",(function(){return Nx})),n.d(e,"schemeBuPu",(function(){return Ix})),n.d(e,"interpolateGnBu",(function(){return jx})),n.d(e,"schemeGnBu",(function(){return Dx})),n.d(e,"interpolateOrRd",(function(){return zx})),n.d(e,"schemeOrRd",(function(){return Fx})),n.d(e,"interpolatePuBuGn",(function(){return Bx})),n.d(e,"schemePuBuGn",(function(){return Xx})),n.d(e,"interpolatePuBu",(function(){return Hx})),n.d(e,"schemePuBu",(function(){return Yx})),n.d(e,"interpolatePuRd",(function(){return Wx})),n.d(e,"schemePuRd",(function(){return Ux})),n.d(e,"interpolateRdPu",(function(){return Qx})),n.d(e,"schemeRdPu",(function(){return qx})),n.d(e,"interpolateYlGnBu",(function(){return Zx})),n.d(e,"schemeYlGnBu",(function(){return $x})),n.d(e,"interpolateYlGn",(function(){return Jx})),n.d(e,"schemeYlGn",(function(){return Kx})),n.d(e,"interpolateYlOrBr",(function(){return nm})),n.d(e,"schemeYlOrBr",(function(){return tm})),n.d(e,"interpolateYlOrRd",(function(){return im})),n.d(e,"schemeYlOrRd",(function(){return rm})),n.d(e,"interpolateBlues",(function(){return am})),n.d(e,"schemeBlues",(function(){return om})),n.d(e,"interpolateGreens",(function(){return sm})),n.d(e,"schemeGreens",(function(){return um})),n.d(e,"interpolateGreys",(function(){return fm})),n.d(e,"schemeGreys",(function(){return cm})),n.d(e,"interpolatePurples",(function(){return hm})),n.d(e,"schemePurples",(function(){return lm})),n.d(e,"interpolateReds",(function(){return pm})),n.d(e,"schemeReds",(function(){return dm})),n.d(e,"interpolateOranges",(function(){return ym})),n.d(e,"schemeOranges",(function(){return gm})),n.d(e,"interpolateCividis",(function(){return _m})),n.d(e,"interpolateCubehelixDefault",(function(){return vm})),n.d(e,"interpolateRainbow",(function(){return wm})),n.d(e,"interpolateWarm",(function(){return xm})),n.d(e,"interpolateCool",(function(){return mm})),n.d(e,"interpolateSinebow",(function(){return Pm})),n.d(e,"interpolateTurbo",(function(){return Cm})),n.d(e,"interpolateViridis",(function(){return Em})),n.d(e,"interpolateMagma",(function(){return Lm})),n.d(e,"interpolateInferno",(function(){return Om})),n.d(e,"interpolatePlasma",(function(){return km})),n.d(e,"create",(function(){return Vm})),n.d(e,"creator",(function(){return he})),n.d(e,"local",(function(){return Rm})),n.d(e,"matcher",(function(){return Tt})),n.d(e,"mouse",(function(){return Xn})),n.d(e,"namespace",(function(){return Vt})),n.d(e,"namespaces",(function(){return kt})),n.d(e,"clientPoint",(function(){return Fn})),n.d(e,"select",(function(){return ke})),n.d(e,"selectAll",(function(){return Nm})),n.d(e,"selection",(function(){return Oe})),n.d(e,"selector",(function(){return wt})),n.d(e,"selectorAll",(function(){return At})),n.d(e,"style",(function(){return Yt})),n.d(e,"touch",(function(){return zn})),n.d(e,"touches",(function(){return Dm})),n.d(e,"window",(function(){return Ft})),n.d(e,"event",(function(){return ve})),n.d(e,"customEvent",(function(){return Ae})),n.d(e,"arc",(function(){return ob})),n.d(e,"area",(function(){return lb})),n.d(e,"line",(function(){return fb})),n.d(e,"pie",(function(){return pb})),n.d(e,"areaRadial",(function(){return mb})),n.d(e,"radialArea",(function(){return mb})),n.d(e,"lineRadial",(function(){return xb})),n.d(e,"radialLine",(function(){return xb})),n.d(e,"pointRadial",(function(){return bb})),n.d(e,"linkHorizontal",(function(){return Eb})),n.d(e,"linkVertical",(function(){return Lb})),n.d(e,"linkRadial",(function(){return Ob})),n.d(e,"symbol",(function(){return Qb})),n.d(e,"symbols",(function(){return qb})),n.d(e,"symbolCircle",(function(){return kb})),n.d(e,"symbolCross",(function(){return Vb})),n.d(e,"symbolDiamond",(function(){return Ib})),n.d(e,"symbolSquare",(function(){return zb})),n.d(e,"symbolStar",(function(){return Fb})),n.d(e,"symbolTriangle",(function(){return Bb})),n.d(e,"symbolWye",(function(){return Wb})),n.d(e,"curveBasisClosed",(function(){return ew})),n.d(e,"curveBasisOpen",(function(){return rw})),n.d(e,"curveBasis",(function(){return Jb})),n.d(e,"curveBundle",(function(){return ow})),n.d(e,"curveCardinalClosed",(function(){return fw})),n.d(e,"curveCardinalOpen",(function(){return hw})),n.d(e,"curveCardinal",(function(){return sw})),n.d(e,"curveCatmullRomClosed",(function(){return _w})),n.d(e,"curveCatmullRomOpen",(function(){return xw})),n.d(e,"curveCatmullRom",(function(){return gw})),n.d(e,"curveLinearClosed",(function(){return bw})),n.d(e,"curveLinear",(function(){return ub})),n.d(e,"curveMonotoneX",(function(){return Ew})),n.d(e,"curveMonotoneY",(function(){return Lw})),n.d(e,"curveNatural",(function(){return Vw})),n.d(e,"curveStep",(function(){return Rw})),n.d(e,"curveStepAfter",(function(){return Nw})),n.d(e,"curveStepBefore",(function(){return Iw})),n.d(e,"stack",(function(){return zw})),n.d(e,"stackOffsetExpand",(function(){return Xw})),n.d(e,"stackOffsetDiverging",(function(){return Bw})),n.d(e,"stackOffsetNone",(function(){return Dw})),n.d(e,"stackOffsetSilhouette",(function(){return Yw})),n.d(e,"stackOffsetWiggle",(function(){return Hw})),n.d(e,"stackOrderAppearance",(function(){return Uw})),n.d(e,"stackOrderAscending",(function(){return qw})),n.d(e,"stackOrderDescending",(function(){return $w})),n.d(e,"stackOrderInsideOut",(function(){return Zw})),n.d(e,"stackOrderNone",(function(){return jw})),n.d(e,"stackOrderReverse",(function(){return Kw})),n.d(e,"timeInterval",(function(){return Jg})),n.d(e,"timeMillisecond",(function(){return Gy})),n.d(e,"timeMilliseconds",(function(){return Ry})),n.d(e,"utcMillisecond",(function(){return Gy})),n.d(e,"utcMilliseconds",(function(){return Ry})),n.d(e,"timeSecond",(function(){return Oy})),n.d(e,"timeSeconds",(function(){return ky})),n.d(e,"utcSecond",(function(){return Oy})),n.d(e,"utcSeconds",(function(){return ky})),n.d(e,"timeMinute",(function(){return My})),n.d(e,"timeMinutes",(function(){return Ey})),n.d(e,"timeHour",(function(){return Ty})),n.d(e,"timeHours",(function(){return Py})),n.d(e,"timeDay",(function(){return wy})),n.d(e,"timeDays",(function(){return Sy})),n.d(e,"timeWeek",(function(){return uy})),n.d(e,"timeWeeks",(function(){return py})),n.d(e,"timeSunday",(function(){return uy})),n.d(e,"timeSundays",(function(){return py})),n.d(e,"timeMonday",(function(){return sy})),n.d(e,"timeMondays",(function(){return gy})),n.d(e,"timeTuesday",(function(){return cy})),n.d(e,"timeTuesdays",(function(){return yy})),n.d(e,"timeWednesday",(function(){return fy})),n.d(e,"timeWednesdays",(function(){return _y})),n.d(e,"timeThursday",(function(){return ly})),n.d(e,"timeThursdays",(function(){return vy})),n.d(e,"timeFriday",(function(){return hy})),n.d(e,"timeFridays",(function(){return xy})),n.d(e,"timeSaturday",(function(){return dy})),n.d(e,"timeSaturdays",(function(){return my})),n.d(e,"timeMonth",(function(){return iy})),n.d(e,"timeMonths",(function(){return oy})),n.d(e,"timeYear",(function(){return ey})),n.d(e,"timeYears",(function(){return ny})),n.d(e,"utcMinute",(function(){return zv})),n.d(e,"utcMinutes",(function(){return Xv})),n.d(e,"utcHour",(function(){return Dv})),n.d(e,"utcHours",(function(){return jv})),n.d(e,"utcDay",(function(){return Ky})),n.d(e,"utcDays",(function(){return Jy})),n.d(e,"utcWeek",(function(){return Ny})),n.d(e,"utcWeeks",(function(){return Yy})),n.d(e,"utcSunday",(function(){return Ny})),n.d(e,"utcSundays",(function(){return Yy})),n.d(e,"utcMonday",(function(){return Dy})),n.d(e,"utcMondays",(function(){return Hy})),n.d(e,"utcTuesday",(function(){return jy})),n.d(e,"utcTuesdays",(function(){return Uy})),n.d(e,"utcWednesday",(function(){return Fy})),n.d(e,"utcWednesdays",(function(){return Wy})),n.d(e,"utcThursday",(function(){return zy})),n.d(e,"utcThursdays",(function(){return qy})),n.d(e,"utcFriday",(function(){return Xy})),n.d(e,"utcFridays",(function(){return Qy})),n.d(e,"utcSaturday",(function(){return By})),n.d(e,"utcSaturdays",(function(){return $y})),n.d(e,"utcMonth",(function(){return Rv})),n.d(e,"utcMonths",(function(){return Iv})),n.d(e,"utcYear",(function(){return e_})),n.d(e,"utcYears",(function(){return n_})),n.d(e,"timeFormatDefaultLocale",(function(){return Ev})),n.d(e,"timeFormat",(function(){return s_})),n.d(e,"timeParse",(function(){return c_})),n.d(e,"utcFormat",(function(){return f_})),n.d(e,"utcParse",(function(){return l_})),n.d(e,"timeFormatLocale",(function(){return a_})),n.d(e,"isoFormat",(function(){return Jw})),n.d(e,"isoParse",(function(){return tS})),n.d(e,"now",(function(){return Zn})),n.d(e,"timer",(function(){return er})),n.d(e,"timerFlush",(function(){return nr})),n.d(e,"timeout",(function(){return ar})),n.d(e,"interval",(function(){return eS})),n.d(e,"transition",(function(){return ti})),n.d(e,"active",(function(){return ci})),n.d(e,"interrupt",(function(){return vr})),n.d(e,"voronoi",(function(){return FS})),n.d(e,"zoom",(function(){return tA})),n.d(e,"zoomTransform",(function(){return HS})),n.d(e,"zoomIdentity",(function(){return YS}));var r="5.16.0",o=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},c=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return o(e(t),n)}),{left:function(a,e,n,r){for(null==n&&(n=0),null==r&&(r=a.length);n<r;){var o=n+r>>>1;t(a[o],e)<0?n=o+1:r=o}return n},right:function(a,e,n,r){for(null==n&&(n=0),null==r&&(r=a.length);n<r;){var o=n+r>>>1;t(a[o],e)>0?r=o:n=o+1}return n}}};var f=c(o),l=f.right,h=f.left,d=l,y=function(t,e){null==e&&(e=_);for(var i=0,n=t.length-1,p=t[0],r=new Array(n<0?0:n);i<n;)r[i]=e(p,p=t[++i]);return r};function _(a,b){return[a,b]}var v=function(t,e,n){var r,o,i,c,f=t.length,l=e.length,h=new Array(f*l);for(null==n&&(n=_),r=i=0;r<f;++r)for(c=t[r],o=0;o<l;++o,++i)h[i]=n(c,e[o]);return h},x=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},m=function(t){return null===t?NaN:+t},w=function(t,e){var n,r,o=t.length,c=0,i=-1,f=0,l=0;if(null==e)for(;++i<o;)isNaN(n=m(t[i]))||(l+=(r=n-f)*(n-(f+=r/++c)));else for(;++i<o;)isNaN(n=m(e(t[i],i,t)))||(l+=(r=n-f)*(n-(f+=r/++c)));if(c>1)return l/(c-1)},S=function(t,e){var n=w(t,e);return n?Math.sqrt(n):n},A=function(t,e){var n,r,o,c=t.length,i=-1;if(null==e){for(;++i<c;)if(null!=(n=t[i])&&n>=n)for(r=o=n;++i<c;)null!=(n=t[i])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++i<c;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=o=n;++i<c;)null!=(n=e(t[i],i,t))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]},T=Array.prototype,P=T.slice,map=T.map,C=function(t){return function(){return t}},M=function(t){return t},E=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},L=Math.sqrt(50),O=Math.sqrt(10),k=Math.sqrt(2),V=function(t,e,n){var r,o,c,f,i=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(f=G(t,e,n))||!isFinite(f))return[];if(f>0)for(t=Math.ceil(t/f),e=Math.floor(e/f),c=new Array(o=Math.ceil(e-t+1));++i<o;)c[i]=(t+i)*f;else for(t=Math.floor(t*f),e=Math.ceil(e*f),c=new Array(o=Math.ceil(t-e+1));++i<o;)c[i]=(t-i)/f;return r&&c.reverse(),c};function G(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,o);return o>=0?(c>=L?10:c>=O?5:c>=k?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(c>=L?10:c>=O?5:c>=k?2:1)}function R(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/o;return c>=L?o*=10:c>=O?o*=5:c>=k&&(o*=2),e<t?-o:o}var I=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},N=function(){var t=M,e=A,n=I;function r(data){var i,r,o=data.length,c=new Array(o);for(i=0;i<o;++i)c[i]=t(data[i],i,data);var f=e(c),l=f[0],h=f[1],y=n(c,l,h);Array.isArray(y)||(y=R(l,h,y),y=E(Math.ceil(l/y)*y,h,y));for(var _=y.length;y[0]<=l;)y.shift(),--_;for(;y[_-1]>h;)y.pop(),--_;var v,x=new Array(_+1);for(i=0;i<=_;++i)(v=x[i]=[]).x0=i>0?y[i-1]:l,v.x1=i<_?y[i]:h;for(i=0;i<o;++i)l<=(r=c[i])&&r<=h&&x[d(y,r,0,_)].push(data[i]);return x}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:C(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:C([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?C(P.call(t)):C(t),r):n},r},D=function(t,p,e){if(null==e&&(e=m),n=t.length){if((p=+p)<=0||n<2)return+e(t[0],0,t);if(p>=1)return+e(t[n-1],n-1,t);var n,i=(n-1)*p,r=Math.floor(i),o=+e(t[r],r,t);return o+(+e(t[r+1],r+1,t)-o)*(i-r)}},j=function(t,e,n){return t=map.call(t,m).sort(o),Math.ceil((n-e)/(2*(D(t,.75)-D(t,.25))*Math.pow(t.length,-1/3)))},F=function(t,e,n){return Math.ceil((n-e)/(3.5*S(t)*Math.pow(t.length,-1/3)))},z=function(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r},X=function(t,e){var n,r=t.length,o=r,i=-1,c=0;if(null==e)for(;++i<r;)isNaN(n=m(t[i]))?--o:c+=n;else for(;++i<r;)isNaN(n=m(e(t[i],i,t)))?--o:c+=n;if(o)return c/o},B=function(t,e){var n,r=t.length,i=-1,c=[];if(null==e)for(;++i<r;)isNaN(n=m(t[i]))||c.push(n);else for(;++i<r;)isNaN(n=m(e(t[i],i,t)))||c.push(n);return D(c.sort(o),.5)},Y=function(t){for(var e,n,r,o=t.length,i=-1,c=0;++i<o;)c+=t[i].length;for(n=new Array(c);--o>=0;)for(e=(r=t[o]).length;--e>=0;)n[--c]=r[e];return n},H=function(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&r>n&&(r=n);return r},U=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},W=function(t,e){if(n=t.length){var n,r,i=0,c=0,f=t[c];for(null==e&&(e=o);++i<n;)(e(r=t[i],f)<0||0!==e(f,f))&&(f=r,c=i);return 0===e(f,f)?c:void 0}},Q=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},$=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},Z=function(t){if(!(r=t.length))return[];for(var i=-1,e=H(t,K),n=new Array(e);++i<e;)for(var r,o=-1,c=n[i]=new Array(r);++o<r;)c[o]=t[o][i];return n};function K(t){return t.length}var J=function(){return Z(arguments)},tt=Array.prototype.slice,et=function(t){return t};function nt(t){return"translate("+(t+.5)+",0)"}function it(t){return"translate(0,"+(t+.5)+")"}function ot(t){return function(e){return+t(e)}}function at(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function ut(){return!this.__axis}function st(t,e){var n=[],r=null,o=null,c=6,f=6,l=3,h=1===t||4===t?-1:1,d=4===t||2===t?"x":"y",y=1===t||3===t?nt:it;function _(_){var v=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,x=null==o?e.tickFormat?e.tickFormat.apply(e,n):et:o,m=Math.max(c,0)+l,w=e.range(),S=+w[0]+.5,A=+w[w.length-1]+.5,T=(e.bandwidth?at:ot)(e.copy()),P=_.selection?_.selection():_,path=P.selectAll(".domain").data([null]),C=P.selectAll(".tick").data(v,e).order(),M=C.exit(),E=C.enter().append("g").attr("class","tick"),line=C.select("line"),text=C.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(E),line=line.merge(E.append("line").attr("stroke","currentColor").attr(d+"2",h*c)),text=text.merge(E.append("text").attr("fill","currentColor").attr(d,h*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),_!==P&&(path=path.transition(_),C=C.transition(_),line=line.transition(_),text=text.transition(_),M=M.transition(_).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=T(t))?y(t):this.getAttribute("transform")})),E.attr("opacity",1e-6).attr("transform",(function(t){var p=this.parentNode.__axis;return y(p&&isFinite(p=p(t))?p:T(t))}))),M.remove(),path.attr("d",4===t||2==t?f?"M"+h*f+","+S+"H0.5V"+A+"H"+h*f:"M0.5,"+S+"V"+A:f?"M"+S+","+h*f+"V0.5H"+A+"V"+h*f:"M"+S+",0.5H"+A),C.attr("opacity",1).attr("transform",(function(t){return y(T(t))})),line.attr(d+"2",h*c),text.attr(d,h*m).text(x),P.filter(ut).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),P.each((function(){this.__axis=T}))}return _.scale=function(t){return arguments.length?(e=t,_):e},_.ticks=function(){return n=tt.call(arguments),_},_.tickArguments=function(t){return arguments.length?(n=null==t?[]:tt.call(t),_):n.slice()},_.tickValues=function(t){return arguments.length?(r=null==t?null:tt.call(t),_):r&&r.slice()},_.tickFormat=function(t){return arguments.length?(o=t,_):o},_.tickSize=function(t){return arguments.length?(c=f=+t,_):c},_.tickSizeInner=function(t){return arguments.length?(c=+t,_):c},_.tickSizeOuter=function(t){return arguments.length?(f=+t,_):f},_.tickPadding=function(t){return arguments.length?(l=+t,_):l},_}function ct(t){return st(1,t)}function ft(t){return st(2,t)}function lt(t){return st(3,t)}function ht(t){return st(4,t)}var pt={value:function(){}};function gt(){for(var t,i=0,e=arguments.length,n={};i<e;++i){if(!(t=arguments[i]+"")||t in n||/[\s.]/.test(t))throw new Error("illegal type: "+t);n[t]=[]}return new yt(n)}function yt(t){this._=t}function _t(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function vt(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function xt(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=pt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}yt.prototype=gt.prototype={constructor:yt,on:function(t,e){var n,r=this._,o=_t(t+"",r),i=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<c;)if(n=(t=o[i]).type)r[n]=xt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=xt(r[n],t.name,null);return this}for(;++i<c;)if((n=(t=o[i]).type)&&(n=vt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var mt=gt;function bt(){}var wt=function(t){return null==t?bt:function(){return this.querySelector(t)}};function St(){return[]}var At=function(t){return null==t?St:function(){return this.querySelectorAll(t)}},Tt=function(t){return function(){return this.matches(t)}},Pt=function(t){return new Array(t.length)};function Ct(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ct.prototype={constructor:Ct,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mt(t,e,n,r,o,data){for(var c,i=0,f=e.length,l=data.length;i<l;++i)(c=e[i])?(c.__data__=data[i],r[i]=c):n[i]=new Ct(t,data[i]);for(;i<f;++i)(c=e[i])&&(o[i]=c)}function Et(t,e,n,r,o,data,c){var i,f,l,h={},d=e.length,y=data.length,_=new Array(d);for(i=0;i<d;++i)(f=e[i])&&(_[i]=l="$"+c.call(f,f.__data__,i,e),l in h?o[i]=f:h[l]=f);for(i=0;i<y;++i)(f=h[l="$"+c.call(t,data[i],i,data)])?(r[i]=f,f.__data__=data[i],h[l]=null):n[i]=new Ct(t,data[i]);for(i=0;i<d;++i)(f=e[i])&&h[_[i]]===f&&(o[i]=f)}function Lt(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var Ot="http://www.w3.org/1999/xhtml",kt={svg:"http://www.w3.org/2000/svg",xhtml:Ot,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vt=function(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),kt.hasOwnProperty(e)?{space:kt[e],local:t}:t};function Gt(t){return function(){this.removeAttribute(t)}}function Rt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function It(t,e){return function(){this.setAttribute(t,e)}}function Nt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Dt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function jt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Ft=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function zt(t){return function(){this.style.removeProperty(t)}}function Xt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yt(t,e){return t.style.getPropertyValue(e)||Ft(t).getComputedStyle(t,null).getPropertyValue(e)}function Ht(t){return function(){delete this[t]}}function Ut(t,e){return function(){this[t]=e}}function Wt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function qt(t){return t.trim().split(/^|\s+/)}function Qt(t){return t.classList||new $t(t)}function $t(t){this._node=t,this._names=qt(t.getAttribute("class")||"")}function Zt(t,e){for(var n=Qt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Kt(t,e){for(var n=Qt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Jt(t){return function(){Zt(this,t)}}function te(t){return function(){Kt(this,t)}}function ee(t,e){return function(){(e.apply(this,arguments)?Zt:Kt)(this,t)}}$t.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ne(){this.textContent=""}function re(t){return function(){this.textContent=t}}function ie(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function oe(){this.innerHTML=""}function ae(t){return function(){this.innerHTML=t}}function ue(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function se(){this.nextSibling&&this.parentNode.appendChild(this)}function ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ot&&e.documentElement.namespaceURI===Ot?e.createElement(t):e.createElementNS(n,t)}}function le(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var he=function(t){var e=Vt(t);return(e.local?le:fe)(e)};function de(){return null}function pe(){var t=this.parentNode;t&&t.removeChild(this)}function ge(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ye(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var _e={},ve=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(_e={mouseenter:"mouseover",mouseleave:"mouseout"}));function xe(t,e,n){return t=me(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function me(t,e,n){return function(r){var o=ve;ve=r;try{t.call(this,this.__data__,e,n)}finally{ve=o}}}function be(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}function we(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Se(t,e,n){var r=_e.hasOwnProperty(t.type)?xe:me;return function(o,i,c){var f,l=this.__on,h=r(e,i,c);if(l)for(var d=0,y=l.length;d<y;++d)if((f=l[d]).type===t.type&&f.name===t.name)return this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=h,f.capture=n),void(f.value=e);this.addEventListener(t.type,h,n),f={type:t.type,name:t.name,value:e,listener:h,capture:n},l?l.push(f):this.__on=[f]}}function Ae(t,e,n,r){var o=ve;t.sourceEvent=ve,ve=t;try{return e.apply(n,r)}finally{ve=o}}function Te(t,e,n){var r=Ft(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Pe(t,e){return function(){return Te(this,t,e)}}function Ce(t,e){return function(){return Te(this,t,e.apply(this,arguments))}}var Me=[null];function Ee(t,e){this._groups=t,this._parents=e}function Le(){return new Ee([[document.documentElement]],Me)}Ee.prototype=Le.prototype={constructor:Ee,select:function(select){"function"!=typeof select&&(select=wt(select));for(var t=this._groups,e=t.length,n=new Array(e),r=0;r<e;++r)for(var o,c,f=t[r],l=f.length,h=n[r]=new Array(l),i=0;i<l;++i)(o=f[i])&&(c=select.call(o,o.__data__,i,f))&&("__data__"in o&&(c.__data__=o.__data__),h[i]=c);return new Ee(n,this._parents)},selectAll:function(select){"function"!=typeof select&&(select=At(select));for(var t=this._groups,e=t.length,n=[],r=[],o=0;o<e;++o)for(var c,f=t[o],l=f.length,i=0;i<l;++i)(c=f[i])&&(n.push(select.call(c,c.__data__,i,f)),r.push(c));return new Ee(n,r)},filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var c,f=e[o],l=f.length,h=r[o]=[],i=0;i<l;++i)(c=f[i])&&t.call(c,c.__data__,i,f)&&h.push(c);return new Ee(r,this._parents)},data:function(t,e){if(!t)return data=new Array(this.size()),y=-1,this.each((function(t){data[++y]=t})),data;var n,r=e?Et:Mt,o=this._parents,c=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var f=c.length,l=new Array(f),h=new Array(f),d=new Array(f),y=0;y<f;++y){var _=o[y],v=c[y],x=v.length,data=t.call(_,_&&_.__data__,y,o),m=data.length,w=h[y]=new Array(m),S=l[y]=new Array(m);r(_,v,w,S,d[y]=new Array(x),data,e);for(var A,T,P=0,C=0;P<m;++P)if(A=w[P]){for(P>=C&&(C=P+1);!(T=S[C])&&++C<m;);A._next=T||null}}return(l=new Ee(l,o))._enter=h,l._exit=d,l},enter:function(){return new Ee(this._enter||this._groups.map(Pt),this._parents)},exit:function(){return new Ee(this._exit||this._groups.map(Pt),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,c=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?c.remove():n(c),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,c=Math.min(r,o),f=new Array(r),l=0;l<c;++l)for(var h,d=e[l],y=n[l],_=d.length,v=f[l]=new Array(_),i=0;i<_;++i)(h=d[i]||y[i])&&(v[i]=h);for(;l<r;++l)f[l]=e[l];return new Ee(f,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,c=o[i];--i>=0;)(r=o[i])&&(c&&4^r.compareDocumentPosition(c)&&c.parentNode.insertBefore(r,c),c=r);return this},sort:function(t){function e(a,b){return a&&b?t(a.__data__,b.__data__):!a-!b}t||(t=Lt);for(var n=this._groups,r=n.length,o=new Array(r),c=0;c<r;++c){for(var f,l=n[c],h=l.length,d=o[c]=new Array(h),i=0;i<h;++i)(f=l[i])&&(d[i]=f);d.sort(e)}return new Ee(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),i=-1;return this.each((function(){t[++i]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var c=r[i];if(c)return c}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,c=e[n],i=0,f=c.length;i<f;++i)(o=c[i])&&t.call(o,o.__data__,i,c);return this},attr:function(t,e){var n=Vt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Rt:Gt:"function"==typeof e?n.local?jt:Dt:n.local?Nt:It)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?zt:"function"==typeof e?Bt:Xt)(t,e,null==n?"":n)):Yt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ht:"function"==typeof e?Wt:Ut)(t,e)):this.node()[t]},classed:function(t,e){var n=qt(t+"");if(arguments.length<2){for(var r=Qt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ee:e?Jt:te)(n,e))},text:function(t){return arguments.length?this.each(null==t?ne:("function"==typeof t?ie:re)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?oe:("function"==typeof t?ue:ae)(t)):this.node().innerHTML},raise:function(){return this.each(se)},lower:function(){return this.each(ce)},append:function(t){var e="function"==typeof t?t:he(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:he(t),select=null==e?de:"function"==typeof e?e:wt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function(){return this.each(pe)},clone:function(t){return this.select(t?ye:ge)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=be(t+""),c=o.length;if(!(arguments.length<2)){for(f=e?Se:we,null==n&&(n=!1),i=0;i<c;++i)this.each(f(o[i],e,n));return this}var f=this.node().__on;if(f)for(var l,h=0,d=f.length;h<d;++h)for(i=0,l=f[h];i<c;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ce:Pe)(t,e))}};var Oe=Le,ke=function(t){return"string"==typeof t?new Ee([[document.querySelector(t)]],[document.documentElement]):new Ee([[t]],Me)};function Ve(){ve.stopImmediatePropagation()}var Ge=function(){ve.preventDefault(),ve.stopImmediatePropagation()},Re=function(view){var t=view.document.documentElement,e=ke(view).on("dragstart.drag",Ge,!0);"onselectstart"in t?e.on("selectstart.drag",Ge,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function Ie(view,t){var e=view.document.documentElement,n=ke(view).on("dragstart.drag",null);t&&(n.on("click.drag",Ge,!0),setTimeout((function(){n.on("click.drag",null)}),0)),"onselectstart"in e?n.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var Ne=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function De(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function je(){}var Fe="\\s*([+-]?\\d+)\\s*",ze="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Be=/^#([0-9a-f]{3,8})$/,Ye=new RegExp("^rgb\\("+[Fe,Fe,Fe]+"\\)$"),He=new RegExp("^rgb\\("+[Xe,Xe,Xe]+"\\)$"),Ue=new RegExp("^rgba\\("+[Fe,Fe,Fe,ze]+"\\)$"),We=new RegExp("^rgba\\("+[Xe,Xe,Xe,ze]+"\\)$"),qe=new RegExp("^hsl\\("+[ze,Xe,Xe]+"\\)$"),Qe=new RegExp("^hsla\\("+[ze,Xe,Xe,ze]+"\\)$"),$e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ze(){return this.rgb().formatHex()}function Ke(){return this.rgb().formatRgb()}function Je(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Be.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tn(e):3===n?new on(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?en(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?en(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ye.exec(t))?new on(e[1],e[2],e[3],1):(e=He.exec(t))?new on(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ue.exec(t))?en(e[1],e[2],e[3],e[4]):(e=We.exec(t))?en(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qe.exec(t))?cn(e[1],e[2]/100,e[3]/100,1):(e=Qe.exec(t))?cn(e[1],e[2]/100,e[3]/100,e[4]):$e.hasOwnProperty(t)?tn($e[t]):"transparent"===t?new on(NaN,NaN,NaN,0):null}function tn(t){return new on(t>>16&255,t>>8&255,255&t,1)}function en(t,g,b,a){return a<=0&&(t=g=b=NaN),new on(t,g,b,a)}function nn(t){return t instanceof je||(t=Je(t)),t?new on((t=t.rgb()).r,t.g,t.b,t.opacity):new on}function rn(t,g,b,e){return 1===arguments.length?nn(t):new on(t,g,b,null==e?1:e)}function on(t,g,b,e){this.r=+t,this.g=+g,this.b=+b,this.opacity=+e}function an(){return"#"+sn(this.r)+sn(this.g)+sn(this.b)}function un(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function sn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function cn(t,s,e,a){return a<=0?t=s=e=NaN:e<=0||e>=1?t=s=NaN:s<=0&&(t=NaN),new hn(t,s,e,a)}function fn(t){if(t instanceof hn)return new hn(t.h,t.s,t.l,t.opacity);if(t instanceof je||(t=Je(t)),!t)return new hn;if(t instanceof hn)return t;var e=(t=t.rgb()).r/255,g=t.g/255,b=t.b/255,n=Math.min(e,g,b),r=Math.max(e,g,b),o=NaN,s=r-n,c=(r+n)/2;return s?(o=e===r?(g-b)/s+6*(g<b):g===r?(b-e)/s+2:(e-g)/s+4,s/=c<.5?r+n:2-r-n,o*=60):s=c>0&&c<1?0:o,new hn(o,s,c,t.opacity)}function ln(t,s,e,n){return 1===arguments.length?fn(t):new hn(t,s,e,null==n?1:n)}function hn(t,s,e,n){this.h=+t,this.s=+s,this.l=+e,this.opacity=+n}function dn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function pn(t,e,n,r,o){var c=t*t,f=c*t;return((1-3*t+3*c-f)*e+(4-6*c+3*f)*n+(1+3*t+3*c-3*f)*r+f*o)/6}Ne(je,Je,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ze,formatHex:Ze,formatHsl:function(){return fn(this).formatHsl()},formatRgb:Ke,toString:Ke}),Ne(on,rn,De(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:an,formatHex:an,formatRgb:un,toString:un})),Ne(hn,ln,De(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new hn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new hn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),s=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*s,r=2*e-n;return new on(dn(t>=240?t-240:t+120,r,n),dn(t,r,n),dn(t<120?t+240:t-120,r,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));var gn=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],c=i>0?t[i-1]:2*r-o,f=i<e-1?t[i+2]:2*o-r;return pn((n-i/e)*e,c,r,o,f)}},yn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],c=t[(i+1)%e],f=t[(i+2)%e];return pn((n-i/e)*e,r,o,c,f)}},_n=function(t){return function(){return t}};function vn(a,t){return function(e){return a+e*t}}function xn(a,b){var t=b-a;return t?vn(a,t>180||t<-180?t-360*Math.round(t/360):t):_n(isNaN(a)?b:a)}function mn(t){return 1==(t=+t)?bn:function(a,b){return b-a?function(a,b,t){return a=Math.pow(a,t),b=Math.pow(b,t)-a,t=1/t,function(e){return Math.pow(a+e*b,t)}}(a,b,t):_n(isNaN(a)?b:a)}}function bn(a,b){var t=b-a;return t?vn(a,t):_n(isNaN(a)?b:a)}var wn=function t(e){var n=mn(e);function r(t,e){var r=n((t=rn(t)).r,(e=rn(e)).r),g=n(t.g,e.g),b=n(t.b,e.b),o=bn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=g(e),t.b=b(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Sn(t){return function(e){var i,n,r=e.length,o=new Array(r),g=new Array(r),b=new Array(r);for(i=0;i<r;++i)n=rn(e[i]),o[i]=n.r||0,g[i]=n.g||0,b[i]=n.b||0;return o=t(o),g=t(g),b=t(b),n.opacity=1,function(t){return n.r=o(t),n.g=g(t),n.b=b(t),n+""}}}var An=Sn(gn),Tn=Sn(yn),Pn=function(a,b){b||(b=[]);var i,t=a?Math.min(b.length,a.length):0,e=b.slice();return function(n){for(i=0;i<t;++i)e[i]=a[i]*(1-n)+b[i]*n;return e}};function Cn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Mn=function(a,b){return(Cn(b)?Pn:En)(a,b)};function En(a,b){var i,t=b?b.length:0,e=a?Math.min(t,a.length):0,n=new Array(e),r=new Array(t);for(i=0;i<e;++i)n[i]=Dn(a[i],b[i]);for(;i<t;++i)r[i]=b[i];return function(t){for(i=0;i<e;++i)r[i]=n[i](t);return r}}var Ln=function(a,b){var t=new Date;return a=+a,b=+b,function(e){return t.setTime(a*(1-e)+b*e),t}},On=function(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}},kn=function(a,b){var t,i={},e={};for(t in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)t in a?i[t]=Dn(a[t],b[t]):e[t]=b[t];return function(n){for(t in i)e[t]=i[t](n);return e}},Vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gn=new RegExp(Vn.source,"g");var Rn,In,Nn=function(a,b){var t,e,n,r=Vn.lastIndex=Gn.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(t=Vn.exec(a))&&(e=Gn.exec(b));)(n=e.index)>r&&(n=b.slice(r,n),s[i]?s[i]+=n:s[++i]=n),(t=t[0])===(e=e[0])?s[i]?s[i]+=e:s[++i]=e:(s[++i]=null,q.push({i:i,x:On(t,e)})),r=Gn.lastIndex;return r<b.length&&(n=b.slice(r),s[i]?s[i]+=n:s[++i]=n),s.length<2?q[0]?function(b){return function(t){return b(t)+""}}(q[0].x):function(b){return function(){return b}}(b):(b=q.length,function(t){for(var e,i=0;i<b;++i)s[(e=q[i]).i]=e.x(t);return s.join("")})},Dn=function(a,b){var t,e=typeof b;return null==b||"boolean"===e?_n(b):("number"===e?On:"string"===e?(t=Je(b))?(b=t,wn):Nn:b instanceof Je?wn:b instanceof Date?Ln:Cn(b)?Pn:Array.isArray(b)?En:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?kn:On)(a,b)},jn=function(){for(var source,t=ve;source=t.sourceEvent;)t=source;return t},Fn=function(t,e){var svg=t.ownerSVGElement||t;if(svg.createSVGPoint){var n=svg.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var rect=t.getBoundingClientRect();return[e.clientX-rect.left-t.clientLeft,e.clientY-rect.top-t.clientTop]},zn=function(t,e,n){arguments.length<3&&(n=e,e=jn().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Fn(t,r);return null},Xn=function(t){var e=jn();return e.changedTouches&&(e=e.changedTouches[0]),Fn(t,e)},Bn=0,Yn=0,Hn=0,Un=0,Wn=0,qn=0,Qn="object"==typeof performance&&performance.now?performance:Date,$n="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zn(){return Wn||($n(Kn),Wn=Qn.now()+qn)}function Kn(){Wn=0}function Jn(){this._call=this._time=this._next=null}function er(t,e,time){var n=new Jn;return n.restart(t,e,time),n}function nr(){Zn(),++Bn;for(var t,e=Rn;e;)(t=Wn-e._time)>=0&&e._call.call(null,t),e=e._next;--Bn}function rr(){Wn=(Un=Qn.now())+qn,Bn=Yn=0;try{nr()}finally{Bn=0,function(){var t,e,n=Rn,time=1/0;for(;n;)n._call?(time>n._time&&(time=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Rn=e);In=t,or(time)}(),Wn=0}}function ir(){var t=Qn.now(),e=t-Un;e>1e3&&(qn-=e,Un=t)}function or(time){Bn||(Yn&&(Yn=clearTimeout(Yn)),time-Wn>24?(time<1/0&&(Yn=setTimeout(rr,time-Qn.now()-qn)),Hn&&(Hn=clearInterval(Hn))):(Hn||(Un=Qn.now(),Hn=setInterval(ir,1e3)),Bn=1,$n(rr)))}Jn.prototype=er.prototype={constructor:Jn,restart:function(t,e,time){if("function"!=typeof t)throw new TypeError("callback is not a function");time=(null==time?Zn():+time)+(null==e?0:+e),this._next||In===this||(In?In._next=this:Rn=this,In=this),this._call=t,this._time=time,or()},stop:function(){this._call&&(this._call=null,this._time=1/0,or())}};var ar=function(t,e,time){var n=new Jn;return e=null==e?0:+e,n.restart((function(r){n.stop(),t(r+e)}),e,time),n},ur=mt("start","end","cancel","interrupt"),sr=[],cr=function(t,e,n,r,o,c){var f=t.__transition;if(f){if(n in f)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function c(h){var i,d,y,_;if(1!==n.state)return l();for(i in o)if((_=o[i]).name===n.name){if(3===_.state)return ar(c);4===_.state?(_.state=6,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete o[i]):+i<e&&(_.state=6,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete o[i])}if(ar((function(){3===n.state&&(n.state=4,n.timer.restart(f,n.delay,n.time),f(h))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(y=n.tween.length),i=0,d=-1;i<y;++i)(_=n.tween[i].value.call(t,t.__data__,n.index,n.group))&&(r[++d]=_);r.length=d+1}}function f(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,c=r.length;++i<c;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=er((function(t){n.state=1,n.timer.restart(c,n.delay,n.time),n.delay<=t&&c(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:o,on:ur,tween:sr,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:0})};function fr(t,e){var n=dr(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function lr(t,e){var n=dr(t,e);if(n.state>3)throw new Error("too late; already running");return n}function dr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var pr,gr,yr,_r,vr=function(t,e){var n,r,i,o=t.__transition,c=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):c=!1;c&&delete t.__transition}},xr=180/Math.PI,mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},wr=function(a,b,t,e,n,r){var o,c,f;return(o=Math.sqrt(a*a+b*b))&&(a/=o,b/=o),(f=a*t+b*e)&&(t-=a*f,e-=b*f),(c=Math.sqrt(t*t+e*e))&&(t/=c,e/=c,f/=c),a*e<b*t&&(a=-a,b=-b,f=-f,o=-o),{translateX:n,translateY:r,rotate:Math.atan2(b,a)*xr,skewX:Math.atan(f)*xr,scaleX:o,scaleY:c}};function Sr(t,e,n,r){function o(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=t(a),b=t(b),function(t,r,o,c,s,q){if(t!==o||r!==c){var i=s.push("translate(",null,e,null,n);q.push({i:i-4,x:On(t,o)},{i:i-2,x:On(r,c)})}else(o||c)&&s.push("translate("+o+e+c+n)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(o(s)+"rotate(",null,r)-2,x:On(a,b)})):b&&s.push(o(s)+"rotate("+b+r)}(a.rotate,b.rotate,s,q),function(a,b,s,q){a!==b?q.push({i:s.push(o(s)+"skewX(",null,r)-2,x:On(a,b)}):b&&s.push(o(s)+"skewX("+b+r)}(a.skewX,b.skewX,s,q),function(t,e,n,r,s,q){if(t!==n||e!==r){var i=s.push(o(s)+"scale(",null,",",null,")");q.push({i:i-4,x:On(t,n)},{i:i-2,x:On(e,r)})}else 1===n&&1===r||s.push(o(s)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var e,i=-1,n=q.length;++i<n;)s[(e=q[i]).i]=e.x(t);return s.join("")}}}var Ar=Sr((function(t){return"none"===t?mr:(pr||(pr=document.createElement("DIV"),gr=document.documentElement,yr=document.defaultView),pr.style.transform=t,t=yr.getComputedStyle(gr.appendChild(pr),null).getPropertyValue("transform"),gr.removeChild(pr),t=t.slice(7,-1).split(","),wr(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Tr=Sr((function(t){return null==t?mr:(_r||(_r=document.createElementNS("http://www.w3.org/2000/svg","g")),_r.setAttribute("transform",t),(t=_r.transform.baseVal.consolidate())?(t=t.matrix,wr(t.a,t.b,t.c,t.d,t.e,t.f)):mr)}),", ",")",")");function Pr(t,e){var n,r;return function(){var o=lr(this,t),c=o.tween;if(c!==n)for(var i=0,f=(r=n=c).length;i<f;++i)if(r[i].name===e){(r=r.slice()).splice(i,1);break}o.tween=r}}function Cr(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var c=lr(this,t),f=c.tween;if(f!==r){o=(r=f).slice();for(var l={name:e,value:n},i=0,h=o.length;i<h;++i)if(o[i].name===e){o[i]=l;break}i===h&&o.push(l)}c.tween=o}}function Mr(t,e,n){var r=t._id;return t.each((function(){var t=lr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return dr(t,r).value[e]}}var Er=function(a,b){var t;return("number"==typeof b?On:b instanceof Je?wn:(t=Je(b))?(b=t,wn):Nn)(a,b)};function Lr(t){return function(){this.removeAttribute(t)}}function Or(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kr(t,e,n){var r,o,c=n+"";return function(){var f=this.getAttribute(t);return f===c?null:f===r?o:o=e(r=f,n)}}function Vr(t,e,n){var r,o,c=n+"";return function(){var f=this.getAttributeNS(t.space,t.local);return f===c?null:f===r?o:o=e(r=f,n)}}function Gr(t,e,n){var r,o,c;return function(){var f,l,h=n(this);if(null!=h)return(f=this.getAttribute(t))===(l=h+"")?null:f===r&&l===o?c:(o=l,c=e(r=f,h));this.removeAttribute(t)}}function Rr(t,e,n){var r,o,c;return function(){var f,l,h=n(this);if(null!=h)return(f=this.getAttributeNS(t.space,t.local))===(l=h+"")?null:f===r&&l===o?c:(o=l,c=e(r=f,h));this.removeAttributeNS(t.space,t.local)}}function Ir(t,i){return function(e){this.setAttribute(t,i.call(this,e))}}function Nr(t,i){return function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}}function Dr(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Nr(t,i)),n}return o._value=e,o}function jr(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ir(t,i)),n}return o._value=e,o}function Fr(t,e){return function(){fr(this,t).delay=+e.apply(this,arguments)}}function zr(t,e){return e=+e,function(){fr(this,t).delay=e}}function Xr(t,e){return function(){lr(this,t).duration=+e.apply(this,arguments)}}function Br(t,e){return e=+e,function(){lr(this,t).duration=e}}function Yr(t,e){if("function"!=typeof e)throw new Error;return function(){lr(this,t).ease=e}}function Hr(t,e,n){var r,o,c=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(e)?fr:lr;return function(){var f=c(this,t),l=f.on;l!==r&&(o=(r=l).copy()).on(e,n),f.on=o}}var Ur=Oe.prototype.constructor;function Wr(t){return function(){this.style.removeProperty(t)}}function qr(t,i,e){return function(n){this.style.setProperty(t,i.call(this,n),e)}}function Qr(t,e,n){var r,o;function c(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&qr(t,i,n)),r}return c._value=e,c}function $r(i){return function(t){this.textContent=i.call(this,t)}}function Zr(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&$r(i)),e}return r._value=t,r}var Kr=0;function Jr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ti(t){return Oe().transition(t)}function ei(){return++Kr}var ni=Oe.prototype;function ri(t){return t*t*t}function ii(t){return--t*t*t+1}function oi(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Jr.prototype=ti.prototype={constructor:Jr,select:function(select){var t=this._name,e=this._id;"function"!=typeof select&&(select=wt(select));for(var n=this._groups,r=n.length,o=new Array(r),c=0;c<r;++c)for(var f,l,h=n[c],d=h.length,y=o[c]=new Array(d),i=0;i<d;++i)(f=h[i])&&(l=select.call(f,f.__data__,i,h))&&("__data__"in f&&(l.__data__=f.__data__),y[i]=l,cr(y[i],t,e,i,y,dr(f,e)));return new Jr(o,this._parents,t,e)},selectAll:function(select){var t=this._name,e=this._id;"function"!=typeof select&&(select=At(select));for(var n=this._groups,r=n.length,o=[],c=[],f=0;f<r;++f)for(var l,h=n[f],d=h.length,i=0;i<d;++i)if(l=h[i]){for(var y,_=select.call(l,l.__data__,i,h),v=dr(l,e),x=0,m=_.length;x<m;++x)(y=_[x])&&cr(y,t,e,x,_,v);o.push(_),c.push(l)}return new Jr(o,c,t,e)},filter:function(t){"function"!=typeof t&&(t=Tt(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var c,f=e[o],l=f.length,h=r[o]=[],i=0;i<l;++i)(c=f[i])&&t.call(c,c.__data__,i,f)&&h.push(c);return new Jr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,c=Math.min(r,o),f=new Array(r),l=0;l<c;++l)for(var h,d=e[l],y=n[l],_=d.length,v=f[l]=new Array(_),i=0;i<_;++i)(h=d[i]||y[i])&&(v[i]=h);for(;l<r;++l)f[l]=e[l];return new Jr(f,this._parents,this._name,this._id)},selection:function(){return new Ur(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ei(),r=this._groups,o=r.length,c=0;c<o;++c)for(var f,l=r[c],h=l.length,i=0;i<h;++i)if(f=l[i]){var d=dr(f,e);cr(f,t,n,i,l,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Jr(r,this._parents,t,n)},call:ni.call,nodes:ni.nodes,node:ni.node,size:ni.size,empty:ni.empty,each:ni.each,on:function(t,e){var n=this._id;return arguments.length<2?dr(this.node(),n).on.on(t):this.each(Hr(n,t,e))},attr:function(t,e){var n=Vt(t),i="transform"===n?Tr:Er;return this.attrTween(t,"function"==typeof e?(n.local?Rr:Gr)(n,i,Mr(this,"attr."+t,e)):null==e?(n.local?Or:Lr)(n):(n.local?Vr:kr)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Vt(t);return this.tween(n,(r.local?Dr:jr)(r,e))},style:function(t,e,n){var i="transform"==(t+="")?Ar:Er;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var c=Yt(this,t),f=(this.style.removeProperty(t),Yt(this,t));return c===f?null:c===n&&f===r?o:o=e(n=c,r=f)}}(t,i)).on("end.style."+t,Wr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,c;return function(){var f=Yt(this,t),l=n(this),h=l+"";return null==l&&(this.style.removeProperty(t),h=l=Yt(this,t)),f===h?null:f===r&&h===o?c:(o=h,c=e(r=f,l))}}(t,i,Mr(this,"style."+t,e))).each(function(t,e){var n,r,o,c,f="style."+e,l="end."+f;return function(){var h=lr(this,t),d=h.on,y=null==h.value[f]?c||(c=Wr(e)):void 0;d===n&&o===y||(r=(n=d).copy()).on(l,o=y),h.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,c=n+"";return function(){var f=Yt(this,t);return f===c?null:f===r?o:o=e(r=f,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Qr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Mr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Zr(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=dr(this.node(),n).tween,i=0,c=o.length;i<c;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?Pr:Cr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Fr:zr)(e,t)):dr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xr:Br)(e,t)):dr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Yr(e,t)):dr(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(c,f){var l={value:f},h={value:function(){0==--o&&c()}};n.each((function(){var n=lr(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),n.on=e}))}))}};var ai={time:null,delay:0,duration:250,ease:oi};function ui(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ai.time=Zn(),ai;return n}Oe.prototype.interrupt=function(t){return this.each((function(){vr(this,t)}))},Oe.prototype.transition=function(t){var e,n;t instanceof Jr?(e=t._id,t=t._name):(e=ei(),(n=ai).time=Zn(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,c=0;c<o;++c)for(var f,l=r[c],h=l.length,i=0;i<h;++i)(f=l[i])&&cr(f,t,e,i,l,n||ui(f,e));return new Jr(r,this._parents,t,e)};var si=[null],ci=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>1&&n.name===e)return new Jr([[t]],si,e,+i);return null},fi=function(t){return function(){return t}},hi=function(t,e,n){this.target=t,this.type=e,this.selection=n};function di(){ve.stopImmediatePropagation()}var pi=function(){ve.preventDefault(),ve.stopImmediatePropagation()},gi={name:"drag"},yi={name:"space"},_i={name:"handle"},vi={name:"center"};function xi(t){return[+t[0],+t[1]]}function mi(t){return[xi(t[0]),xi(t[1])]}function bi(t){return function(e){return zn(e,ve.touches,t)}}var wi={name:"x",handles:["w","e"].map(Li),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Si={name:"y",handles:["n","s"].map(Li),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ai={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Li),input:function(t){return null==t?null:mi(t)},output:function(t){return t}},Ti={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ci={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Mi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ei={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Li(t){return{type:t}}function Oi(){return!ve.ctrlKey&&!ve.button}function ki(){var svg=this.ownerSVGElement||this;return svg.hasAttribute("viewBox")?[[(svg=svg.viewBox.baseVal).x,svg.y],[svg.x+svg.width,svg.y+svg.height]]:[[0,0],[svg.width.baseVal.value,svg.height.baseVal.value]]}function Vi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ri(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ii(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Ni(){return Fi(wi)}function Di(){return Fi(Si)}var ji=function(){return Fi(Ai)};function Fi(t){var e,n=ki,filter=Oi,r=Vi,o=!0,c=mt("start","brush","end"),f=6;function l(e){var n=e.property("__brush",m).selectAll(".overlay").data([Li("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ti.overlay).merge(n).each((function(){var t=Gi(this).extent;ke(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([Li("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ti.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var o=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));o.exit().remove(),o.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ti[t.type]})),e.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(r).on("touchstart.brush",_).on("touchmove.brush",v).on("touchend.brush touchcancel.brush",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){var t=ke(this),e=Gi(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new y(t,e,n):r}function y(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function _(){if((!e||ve.touches)&&filter.apply(this,arguments)){var n,r,c,f,l,y,_,v,x,m,w,S=this,A=ve.target.__data__.type,T="selection"===(o&&ve.metaKey?A="overlay":A)?gi:o&&ve.altKey?vi:_i,P=t===Si?null:Mi[A],C=t===wi?null:Ei[A],M=Gi(S),E=M.extent,L=M.selection,O=E[0][0],k=E[0][1],V=E[1][0],G=E[1][1],R=0,I=0,N=P&&C&&o&&ve.shiftKey,D=ve.touches?bi(ve.changedTouches[0].identifier):Xn,j=D(S),F=j,z=d(S,arguments,!0).beforestart();"overlay"===A?(L&&(x=!0),M.selection=L=[[n=t===Si?O:j[0],c=t===wi?k:j[1]],[l=t===Si?V:n,_=t===wi?G:c]]):(n=L[0][0],c=L[0][1],l=L[1][0],_=L[1][1]),r=n,f=c,y=l,v=_;var X=ke(S).attr("pointer-events","none"),B=X.selectAll(".overlay").attr("cursor",Ti[A]);if(ve.touches)z.moved=Y,z.ended=U;else{var view=ke(ve.view).on("mousemove.brush",Y,!0).on("mouseup.brush",U,!0);o&&view.on("keydown.brush",W,!0).on("keyup.brush",Q,!0),Re(ve.view)}di(),vr(S),h.call(S),z.start()}function Y(){var t=D(S);!N||m||w||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?w=!0:m=!0),F=t,x=!0,pi(),H()}function H(){var t;switch(R=F[0]-j[0],I=F[1]-j[1],T){case yi:case gi:P&&(R=Math.max(O-n,Math.min(V-l,R)),r=n+R,y=l+R),C&&(I=Math.max(k-c,Math.min(G-_,I)),f=c+I,v=_+I);break;case _i:P<0?(R=Math.max(O-n,Math.min(V-n,R)),r=n+R,y=l):P>0&&(R=Math.max(O-l,Math.min(V-l,R)),r=n,y=l+R),C<0?(I=Math.max(k-c,Math.min(G-c,I)),f=c+I,v=_):C>0&&(I=Math.max(k-_,Math.min(G-_,I)),f=c,v=_+I);break;case vi:P&&(r=Math.max(O,Math.min(V,n-R*P)),y=Math.max(O,Math.min(V,l+R*P))),C&&(f=Math.max(k,Math.min(G,c-I*C)),v=Math.max(k,Math.min(G,_+I*C)))}y<r&&(P*=-1,t=n,n=l,l=t,t=r,r=y,y=t,A in Pi&&B.attr("cursor",Ti[A=Pi[A]])),v<f&&(C*=-1,t=c,c=_,_=t,t=f,f=v,v=t,A in Ci&&B.attr("cursor",Ti[A=Ci[A]])),M.selection&&(L=M.selection),m&&(r=L[0][0],y=L[1][0]),w&&(f=L[0][1],v=L[1][1]),L[0][0]===r&&L[0][1]===f&&L[1][0]===y&&L[1][1]===v||(M.selection=[[r,f],[y,v]],h.call(S),z.brush())}function U(){if(di(),ve.touches){if(ve.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Ie(ve.view,x),view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);X.attr("pointer-events","all"),B.attr("cursor",Ti.overlay),M.selection&&(L=M.selection),Ri(L)&&(M.selection=null,h.call(S)),z.end()}function W(){switch(ve.keyCode){case 16:N=P&&C;break;case 18:T===_i&&(P&&(l=y-R*P,n=r+R*P),C&&(_=v-I*C,c=f+I*C),T=vi,H());break;case 32:T!==_i&&T!==vi||(P<0?l=y-R:P>0&&(n=r-R),C<0?_=v-I:C>0&&(c=f-I),T=yi,B.attr("cursor",Ti.selection),H());break;default:return}pi()}function Q(){switch(ve.keyCode){case 16:N&&(m=w=N=!1,H());break;case 18:T===vi&&(P<0?l=y:P>0&&(n=r),C<0?_=v:C>0&&(c=f),T=_i,H());break;case 32:T===yi&&(ve.altKey?(P&&(l=y-R*P,n=r+R*P),C&&(_=v-I*C,c=f+I*C),T=vi):(P<0?l=y:P>0&&(n=r),C<0?_=v:C>0&&(c=f),T=_i),B.attr("cursor",Ti[A]),H());break;default:return}pi()}}function v(){d(this,arguments).moved()}function x(){d(this,arguments).ended()}function m(){var e=this.__brush||{selection:null};return e.extent=mi(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){d(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){d(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,o=d(e,arguments),c=r.selection,f=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),i=Dn(c,f);function l(t){r.selection=1===t&&null===f?null:i(t),h.call(e),o.brush()}return null!==c&&null!==f?l:l(1)})):e.each((function(){var e=this,r=arguments,o=e.__brush,c=t.input("function"==typeof n?n.apply(e,r):n,o.extent),f=d(e,r).beforestart();vr(e),o.selection=null===c?null:c,h.call(e),f.start().brush().end()}))},l.clear=function(t){l.move(t,null)},y.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Ae(new hi(l,e,t.output(this.state.selection)),c.apply,c,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:fi(mi(t)),l):n},l.filter=function(t){return arguments.length?(filter="function"==typeof t?t:fi(!!t),l):filter},l.touchable=function(t){return arguments.length?(r="function"==typeof t?t:fi(!!t),l):r},l.handleSize=function(t){return arguments.length?(f=+t,l):f},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l}var zi=Math.cos,Xi=Math.sin,Bi=Math.PI,Yi=Bi/2,Hi=2*Bi,Ui=Math.max;function Wi(t){return function(a,b){return t(a.source.value+a.target.value,b.source.value+b.target.value)}}var qi=function(){var t=0,e=null,n=null,r=null;function o(o){var c,f,l,h,i,d,y=o.length,_=[],v=E(y),x=[],m=[],w=m.groups=new Array(y),S=new Array(y*y);for(c=0,i=-1;++i<y;){for(f=0,d=-1;++d<y;)f+=o[i][d];_.push(f),x.push(E(y)),c+=f}for(e&&v.sort((function(a,b){return e(_[a],_[b])})),n&&x.forEach((function(t,i){t.sort((function(a,b){return n(o[i][a],o[i][b])}))})),h=(c=Ui(0,Hi-t*y)/c)?t:Hi/y,f=0,i=-1;++i<y;){for(l=f,d=-1;++d<y;){var A=v[i],T=x[A][d],P=o[A][T],C=f,M=f+=P*c;S[T*y+A]={index:A,subindex:T,startAngle:C,endAngle:M,value:P}}w[A]={index:A,startAngle:l,endAngle:f,value:_[A]},f+=h}for(i=-1;++i<y;)for(d=i-1;++d<y;){var source=S[d*y+i],L=S[i*y+d];(source.value||L.value)&&m.push(source.value<L.value?{source:L,target:source}:{source:source,target:L})}return r?m.sort(r):m}return o.padAngle=function(e){return arguments.length?(t=Ui(0,e),o):t},o.sortGroups=function(t){return arguments.length?(e=t,o):e},o.sortSubgroups=function(t){return arguments.length?(n=t,o):n},o.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Wi(t))._=t,o):r&&r._},o},Qi=Array.prototype.slice,$i=function(t){return function(){return t}},Zi=Math.PI,Ki=2*Zi,Ji=Ki-1e-6;function to(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function eo(){return new to}to.prototype=eo.prototype={constructor:to,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,c){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+c)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var c=this._x1,f=this._y1,l=n-t,h=r-e,d=c-t,y=f-e,_=d*d+y*y;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(_>1e-6)if(Math.abs(y*l-h*d)>1e-6&&o){var v=n-c,x=r-f,m=l*l+h*h,w=v*v+x*x,S=Math.sqrt(m),A=Math.sqrt(_),T=o*Math.tan((Zi-Math.acos((m+_-w)/(2*S*A)))/2),P=T/A,C=T/S;Math.abs(P-1)>1e-6&&(this._+="L"+(t+P*d)+","+(e+P*y)),this._+="A"+o+","+o+",0,0,"+ +(y*v>d*x)+","+(this._x1=t+C*l)+","+(this._y1=e+C*h)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,c){t=+t,e=+e,c=!!c;var f=(n=+n)*Math.cos(r),l=n*Math.sin(r),h=t+f,d=e+l,y=1^c,_=c?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+d:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+h+","+d),n&&(_<0&&(_=_%Ki+Ki),_>Ji?this._+="A"+n+","+n+",0,1,"+y+","+(t-f)+","+(e-l)+"A"+n+","+n+",0,1,"+y+","+(this._x1=h)+","+(this._y1=d):_>1e-6&&(this._+="A"+n+","+n+",0,"+ +(_>=Zi)+","+y+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var no=eo;function ro(t){return t.source}function io(t){return t.target}function oo(t){return t.radius}function ao(t){return t.startAngle}function uo(t){return t.endAngle}var so=function(){var source=ro,t=io,e=oo,n=ao,r=uo,o=null;function c(){var c,f=Qi.call(arguments),s=source.apply(this,f),l=t.apply(this,f),h=+e.apply(this,(f[0]=s,f)),d=n.apply(this,f)-Yi,y=r.apply(this,f)-Yi,_=h*zi(d),v=h*Xi(d),tr=+e.apply(this,(f[0]=l,f)),x=n.apply(this,f)-Yi,m=r.apply(this,f)-Yi;if(o||(o=c=no()),o.moveTo(_,v),o.arc(0,0,h,d,y),d===x&&y===m||(o.quadraticCurveTo(0,0,tr*zi(x),tr*Xi(x)),o.arc(0,0,tr,x,m)),o.quadraticCurveTo(0,0,_,v),o.closePath(),c)return o=null,c+""||null}return c.radius=function(t){return arguments.length?(e="function"==typeof t?t:$i(+t),c):e},c.startAngle=function(t){return arguments.length?(n="function"==typeof t?t:$i(+t),c):n},c.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:$i(+t),c):r},c.source=function(t){return arguments.length?(source=t,c):source},c.target=function(e){return arguments.length?(t=e,c):t},c.context=function(t){return arguments.length?(o=null==t?null:t,c):o},c};function co(){}function fo(object,t){var map=new co;if(object instanceof co)object.each((function(t,e){map.set(e,t)}));else if(Array.isArray(object)){var e,i=-1,n=object.length;if(null==t)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(t(e=object[i],i,object),e)}else if(object)for(var r in object)map.set(r,object[r]);return map}co.prototype=fo.prototype={constructor:co,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var lo=fo,ho=function(){var t,e,n,r=[],o=[];function c(n,o,f,l){if(o>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var h,d,y,i=-1,_=n.length,v=r[o++],x=lo(),m=f();++i<_;)(y=x.get(h=v(d=n[i])+""))?y.push(d):x.set(h,[d]);return x.each((function(t,e){l(m,e,c(t,o,f,l))})),m}return n={object:function(t){return c(t,0,po,go)},map:function(t){return c(t,0,yo,_o)},entries:function(t){return function t(map,n){if(++n>r.length)return map;var c,f=o[n-1];return null!=e&&n>=r.length?c=map.entries():(c=[],map.each((function(e,r){c.push({key:r,values:t(e,n)})}))),null!=f?c.sort((function(a,b){return f(a.key,b.key)})):c}(c(t,0,yo,_o),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return o[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function po(){return{}}function go(object,t,e){object[t]=e}function yo(){return lo()}function _o(map,t,e){map.set(t,e)}function vo(){}var xo=lo.prototype;function mo(object,t){var e=new vo;if(object instanceof vo)object.each((function(t){e.add(t)}));else if(object){var i=-1,n=object.length;if(null==t)for(;++i<n;)e.add(object[i]);else for(;++i<n;)e.add(t(object[i],i,object))}return e}vo.prototype=mo.prototype={constructor:vo,has:xo.has,add:function(t){return this["$"+(t+="")]=t,this},remove:xo.remove,clear:xo.clear,values:xo.keys,size:xo.size,empty:xo.empty,each:xo.each};var bo=mo,wo=function(map){var t=[];for(var e in map)t.push(e);return t},So=function(map){var t=[];for(var e in map)t.push(map[e]);return t},Ao=function(map){var t=[];for(var e in map)t.push({key:e,value:map[e]});return t},To=Math.PI/180,Po=180/Math.PI;function Co(t){if(t instanceof Lo)return new Lo(t.l,t.a,t.b,t.opacity);if(t instanceof Do)return jo(t);t instanceof on||(t=nn(t));var e,n,r=Go(t.r),g=Go(t.g),b=Go(t.b),o=Oo((.2225045*r+.7168786*g+.0606169*b)/1);return r===g&&g===b?e=n=o:(e=Oo((.4360747*r+.3850649*g+.1430804*b)/.96422),n=Oo((.0139322*r+.0971045*g+.7141733*b)/.82521)),new Lo(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Mo(t,e){return new Lo(t,0,0,null==e?1:e)}function Eo(t,a,b,e){return 1===arguments.length?Co(t):new Lo(t,a,b,null==e?1:e)}function Lo(t,a,b,e){this.l=+t,this.a=+a,this.b=+b,this.opacity=+e}function Oo(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function ko(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Vo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Go(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ro(t){if(t instanceof Do)return new Do(t.h,t.c,t.l,t.opacity);if(t instanceof Lo||(t=Co(t)),0===t.a&&0===t.b)return new Do(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Po;return new Do(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Io(t,e,n,r){return 1===arguments.length?Ro(t):new Do(n,e,t,null==r?1:r)}function No(t,e,n,r){return 1===arguments.length?Ro(t):new Do(t,e,n,null==r?1:r)}function Do(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function jo(t){if(isNaN(t.h))return new Lo(t.l,0,0,t.opacity);var e=t.h*To;return new Lo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ne(Lo,Eo,De(je,{brighter:function(t){return new Lo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new on(Vo(3.1338561*(e=.96422*ko(e))-1.6168667*(t=1*ko(t))-.4906146*(n=.82521*ko(n))),Vo(-.9787684*e+1.9161415*t+.033454*n),Vo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ne(Do,No,De(je,{brighter:function(t){return new Do(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Do(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return jo(this).rgb()}}));var Fo=-.29227,zo=-1.7884503806,Xo=3.5172982438,Bo=-.6557636667999999;function Yo(t){if(t instanceof Uo)return new Uo(t.h,t.s,t.l,t.opacity);t instanceof on||(t=nn(t));var e=t.r/255,g=t.g/255,b=t.b/255,n=(Bo*b+zo*e-Xo*g)/(Bo+zo-Xo),r=b-n,o=(1.97294*(g-n)-Fo*r)/-.90649,s=Math.sqrt(o*o+r*r)/(1.97294*n*(1-n)),c=s?Math.atan2(o,r)*Po-120:NaN;return new Uo(c<0?c+360:c,s,n,t.opacity)}function Ho(t,s,e,n){return 1===arguments.length?Yo(t):new Uo(t,s,e,null==n?1:n)}function Uo(t,s,e,n){this.h=+t,this.s=+s,this.l=+e,this.opacity=+n}Ne(Uo,Ho,De(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Uo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Uo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*To,e=+this.l,a=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),r=Math.sin(t);return new on(255*(e+a*(-.14861*n+1.78277*r)),255*(e+a*(Fo*n+-.90649*r)),255*(e+a*(1.97294*n)),this.opacity)}}));var Wo=Array.prototype.slice,qo=function(a,b){return a-b},Qo=function(t){return function(){return t}},$o=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=Zo(t,e[i]))return n;return 0};function Zo(t,e){for(var n=e[0],r=e[1],o=-1,i=0,c=t.length,f=c-1;i<c;f=i++){var l=t[i],h=l[0],d=l[1],y=t[f],_=y[0],v=y[1];if(Ko(l,y,e))return 0;d>r!=v>r&&n<(_-h)*(r-d)/(v-d)+h&&(o=-o)}return o}function Ko(a,b,t){var i,p,q,e;return function(a,b,t){return(b[0]-a[0])*(t[1]-a[1])==(t[0]-a[0])*(b[1]-a[1])}(a,b,t)&&(p=a[i=+(a[0]===b[0])],q=t[i],e=b[i],p<=q&&q<=e||e<=q&&q<=p)}var Jo=function(){},ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ea=function(){var t=1,e=1,n=I,r=l;function o(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(qo);else{var r=A(t),o=r[0],f=r[1];e=R(o,f,e),e=E(Math.floor(o/e)*e,Math.floor(f/e)*e,e)}return e.map((function(e){return c(t,e)}))}function c(n,o){var c=[],l=[];return function(n,r,o){var c,l,h,d,y,_,v=new Array,x=new Array;c=l=-1,d=n[0]>=r,ta[d<<1].forEach(m);for(;++c<t-1;)h=d,d=n[c+1]>=r,ta[h|d<<1].forEach(m);ta[d<<0].forEach(m);for(;++l<e-1;){for(c=-1,d=n[l*t+t]>=r,y=n[l*t]>=r,ta[d<<1|y<<2].forEach(m);++c<t-1;)h=d,d=n[l*t+t+c+1]>=r,_=y,y=n[l*t+c+1]>=r,ta[h|d<<1|y<<2|_<<3].forEach(m);ta[d|y<<3].forEach(m)}c=-1,y=n[l*t]>=r,ta[y<<2].forEach(m);for(;++c<t-1;)_=y,y=n[l*t+c+1]>=r,ta[y<<2|_<<3].forEach(m);function m(line){var t,g,e=[line[0][0]+c,line[0][1]+l],n=[line[1][0]+c,line[1][1]+l],r=f(e),h=f(n);(t=x[r])?(g=v[h])?(delete x[t.end],delete v[g.start],t===g?(t.ring.push(n),o(t.ring)):v[t.start]=x[g.end]={start:t.start,end:g.end,ring:t.ring.concat(g.ring)}):(delete x[t.end],t.ring.push(n),x[t.end=h]=t):(t=v[h])?(g=x[r])?(delete v[t.start],delete x[g.end],t===g?(t.ring.push(n),o(t.ring)):v[g.start]=x[t.end]={start:g.start,end:t.end,ring:g.ring.concat(t.ring)}):(delete v[t.start],t.ring.unshift(e),v[t.start=r]=t):v[r]=x[h]={start:r,end:h,ring:[e,n]}}ta[y<<3].forEach(m)}(n,o,(function(t){r(t,n,o),function(t){for(var i=0,e=t.length,area=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++i<e;)area+=t[i-1][1]*t[i][0]-t[i-1][0]*t[i][1];return area}(t)>0?c.push([t]):l.push(t)})),l.forEach((function(t){for(var polygon,i=0,e=c.length;i<e;++i)if(-1!==$o((polygon=c[i])[0],t))return void polygon.push(t)})),{type:"MultiPolygon",value:o,coordinates:c}}function f(e){return 2*e[0]+e[1]*(t+1)*4}function l(n,r,o){n.forEach((function(n){var c,f=n[0],l=n[1],h=0|f,d=0|l,y=r[d*t+h];f>0&&f<t&&h===f&&(c=r[d*t+h-1],n[0]=f+(o-c)/(y-c)-.5),l>0&&l<e&&d===l&&(c=r[(d-1)*t+h],n[1]=l+(o-c)/(y-c)-.5)}))}return o.contour=c,o.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),c=Math.ceil(n[1]);if(!(r>0&&c>0))throw new Error("invalid size");return t=r,e=c,o},o.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Qo(Wo.call(t)):Qo(t),o):n},o.smooth=function(t){return arguments.length?(r=t?l:Jo,o):r===l},o};function na(source,t,e){for(var n=source.width,r=source.height,o=1+(e<<1),c=0;c<r;++c)for(var i=0,f=0;i<n+e;++i)i<n&&(f+=source.data[i+c*n]),i>=e&&(i>=o&&(f-=source.data[i-o+c*n]),t.data[i-e+c*n]=f/Math.min(i+1,n-1+o-i,o))}function ra(source,t,e){for(var n=source.width,r=source.height,o=1+(e<<1),i=0;i<n;++i)for(var c=0,f=0;c<r+e;++c)c<r&&(f+=source.data[i+c*n]),c>=e&&(c>=o&&(f-=source.data[i+(c-o)*n]),t.data[i+(c-e)*n]=f/Math.min(c+1,r-1+o-c,o))}function ia(t){return t[0]}function oa(t){return t[1]}function aa(){return 1}var ua=function(){var t=ia,e=oa,n=aa,r=960,o=500,c=20,f=2,l=3*c,h=r+2*l>>f,d=o+2*l>>f,y=Qo(20);function _(data){var r=new Float32Array(h*d),o=new Float32Array(h*d);data.forEach((function(o,i,data){var c=+t(o,i,data)+l>>f,y=+e(o,i,data)+l>>f,_=+n(o,i,data);c>=0&&c<h&&y>=0&&y<d&&(r[c+y*h]+=_)})),na({width:h,height:d,data:r},{width:h,height:d,data:o},c>>f),ra({width:h,height:d,data:o},{width:h,height:d,data:r},c>>f),na({width:h,height:d,data:r},{width:h,height:d,data:o},c>>f),ra({width:h,height:d,data:o},{width:h,height:d,data:r},c>>f),na({width:h,height:d,data:r},{width:h,height:d,data:o},c>>f),ra({width:h,height:d,data:o},{width:h,height:d,data:r},c>>f);var _=y(r);if(!Array.isArray(_)){var x=z(r);_=R(0,x,_),(_=E(0,Math.floor(x/_)*_,_)).shift()}return ea().thresholds(_).size([h,d])(r).map(v)}function v(t){return t.value*=Math.pow(2,-2*f),t.coordinates.forEach(x),t}function x(t){t.forEach(m)}function m(t){t.forEach(w)}function w(t){t[0]=t[0]*Math.pow(2,f)-l,t[1]=t[1]*Math.pow(2,f)-l}function S(){return h=r+2*(l=3*c)>>f,d=o+2*l>>f,_}return _.x=function(e){return arguments.length?(t="function"==typeof e?e:Qo(+e),_):t},_.y=function(t){return arguments.length?(e="function"==typeof t?t:Qo(+t),_):e},_.weight=function(t){return arguments.length?(n="function"==typeof t?t:Qo(+t),_):n},_.size=function(t){if(!arguments.length)return[r,o];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,o=n,S()},_.cellSize=function(t){if(!arguments.length)return 1<<f;if(!((t=+t)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(t)/Math.LN2),S()},_.thresholds=function(t){return arguments.length?(y="function"==typeof t?t:Array.isArray(t)?Qo(Wo.call(t)):Qo(t),_):y},_.bandwidth=function(t){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*t*t+1)-1)/2),S()},_},sa=function(t){return function(){return t}};function ca(t,e,n,r,o,c,f,l,h,d){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=c,this.y=f,this.dx=l,this.dy=h,this._=d}function fa(){return!ve.ctrlKey&&!ve.button}function la(){return this.parentNode}function ha(t){return null==t?{x:ve.x,y:ve.y}:t}function da(){return navigator.maxTouchPoints||"ontouchstart"in this}ca.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pa=function(){var t,e,n,r,filter=fa,o=la,c=ha,f=da,l={},h=mt("start","drag","end"),d=0,y=0;function _(t){t.on("mousedown.drag",v).filter(f).on("touchstart.drag",w).on("touchmove.drag",S).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(){if(!r&&filter.apply(this,arguments)){var c=T("mouse",o.apply(this,arguments),Xn,this,arguments);c&&(ke(ve.view).on("mousemove.drag",x,!0).on("mouseup.drag",m,!0),Re(ve.view),Ve(),n=!1,t=ve.clientX,e=ve.clientY,c("start"))}}function x(){if(Ge(),!n){var r=ve.clientX-t,o=ve.clientY-e;n=r*r+o*o>y}l.mouse("drag")}function m(){ke(ve.view).on("mousemove.drag mouseup.drag",null),Ie(ve.view,n),Ge(),l.mouse("end")}function w(){if(filter.apply(this,arguments)){var i,t,e=ve.changedTouches,n=o.apply(this,arguments),r=e.length;for(i=0;i<r;++i)(t=T(e[i].identifier,n,zn,this,arguments))&&(Ve(),t("start"))}}function S(){var i,t,e=ve.changedTouches,n=e.length;for(i=0;i<n;++i)(t=l[e[i].identifier])&&(Ge(),t("drag"))}function A(){var i,t,e=ve.changedTouches,n=e.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),i=0;i<n;++i)(t=l[e[i].identifier])&&(Ve(),t("end"))}function T(t,e,n,r,o){var s,f,y,p=n(e,t),v=h.copy();if(Ae(new ca(_,"beforestart",s,t,d,p[0],p[1],0,0,v),(function(){return null!=(ve.subject=s=c.apply(r,o))&&(f=s.x-p[0]||0,y=s.y-p[1]||0,!0)})))return function c(h){var x,m=p;switch(h){case"start":l[t]=c,x=d++;break;case"end":delete l[t],--d;case"drag":p=n(e,t),x=d}Ae(new ca(_,h,s,t,x,p[0]+f,p[1]+y,p[0]-m[0],p[1]-m[1],v),v.apply,v,[h,r,o])}}return _.filter=function(t){return arguments.length?(filter="function"==typeof t?t:sa(!!t),_):filter},_.container=function(t){return arguments.length?(o="function"==typeof t?t:sa(t),_):o},_.subject=function(t){return arguments.length?(c="function"==typeof t?t:sa(t),_):c},_.touchable=function(t){return arguments.length?(f="function"==typeof t?t:sa(!!t),_):f},_.on=function(){var t=h.on.apply(h,arguments);return t===h?_:t},_.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,_):Math.sqrt(y)},_},ga={},ya={};function _a(t){return new Function("d","return {"+t.map((function(t,i){return JSON.stringify(t)+": d["+i+'] || ""'})).join(",")+"}")}function va(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function xa(t,e){var s=t+"",n=s.length;return n<e?new Array(e-n+1).join(0)+s:s}function ma(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),c=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+xa(-e,6):e>9999?"+"+xa(e,6):xa(e,4))+"-"+xa(t.getUTCMonth()+1,2)+"-"+xa(t.getUTCDate(),2)+(c?"T"+xa(n,2)+":"+xa(r,2)+":"+xa(o,2)+"."+xa(c,3)+"Z":o?"T"+xa(n,2)+":"+xa(r,2)+":"+xa(o,2)+"Z":r||n?"T"+xa(n,2)+":"+xa(r,2)+"Z":"")}var ba=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(text,t){var e,r=[],o=text.length,c=0,f=0,l=o<=0,h=!1;function d(){if(l)return ya;if(h)return h=!1,ga;var i,t,e=c;if(34===text.charCodeAt(e)){for(;c++<o&&34!==text.charCodeAt(c)||34===text.charCodeAt(++c););return(i=c)>=o?l=!0:10===(t=text.charCodeAt(c++))?h=!0:13===t&&(h=!0,10===text.charCodeAt(c)&&++c),text.slice(e+1,i-1).replace(/""/g,'"')}for(;c<o;){if(10===(t=text.charCodeAt(i=c++)))h=!0;else if(13===t)h=!0,10===text.charCodeAt(c)&&++c;else if(t!==n)continue;return text.slice(e,i)}return l=!0,text.slice(e,o)}for(10===text.charCodeAt(o-1)&&--o,13===text.charCodeAt(o-1)&&--o;(e=d())!==ya;){for(var y=[];e!==ga&&e!==ya;)y.push(e),e=d();t&&null==(y=t(y,f++))||r.push(y)}return r}function o(e,n){return e.map((function(e){return n.map((function(t){return f(e[t])})).join(t)}))}function c(e){return e.map(f).join(t)}function f(t){return null==t?"":t instanceof Date?ma(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(text,t){var e,n,o=r(text,(function(r,i){if(e)return e(r,i-1);n=r,e=t?function(t,e){var object=_a(t);return function(n,i){return e(object(n),i,t)}}(r,t):_a(r)}));return o.columns=n||[],o},parseRows:r,format:function(e,n){return null==n&&(n=va(e)),[n.map(f).join(t)].concat(o(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=va(t)),o(t,e).join("\n")},formatRows:function(t){return t.map(c).join("\n")},formatRow:c,formatValue:f}},wa=ba(","),Sa=wa.parse,Aa=wa.parseRows,Ta=wa.format,Pa=wa.formatBody,Ca=wa.formatRows,Ma=wa.formatRow,Ea=wa.formatValue,La=ba("\t"),Oa=La.parse,ka=La.parseRows,Va=La.format,Ga=La.formatBody,Ra=La.formatRows,Ia=La.formatRow,Na=La.formatValue;function Da(object){for(var t in object){var e,n,r=object[t].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(e=+r)){if(!(n=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ja&&n[4]&&!n[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r)}else r=e;else r=null;object[t]=r}return object}var ja=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Fa(t){return+t}function za(t){return t*t}function Xa(t){return t*(2-t)}function Ba(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Ya=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Ha=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Ua=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Wa=Math.PI,qa=Wa/2;function Qa(t){return 1==+t?1:1-Math.cos(t*qa)}function $a(t){return Math.sin(t*qa)}function Za(t){return(1-Math.cos(Wa*t))/2}function Ka(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ja(t){return Ka(1-+t)}function tu(t){return 1-Ka(t)}function eu(t){return((t*=2)<=1?Ka(1-t):2-Ka(t-1))/2}function nu(t){return 1-Math.sqrt(1-t*t)}function ru(t){return Math.sqrt(1- --t*t)}function iu(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function ou(t){return 1-au(1-t)}function au(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function uu(t){return((t*=2)<=1?1-au(1-t):au(t-1)+1)/2}var su=function t(s){function e(t){return(t=+t)*t*(s*(t-1)+t)}return s=+s,e.overshoot=t,e}(1.70158),cu=function t(s){function e(t){return--t*t*((t+1)*s+t)+1}return s=+s,e.overshoot=t,e}(1.70158),fu=function t(s){function e(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,e.overshoot=t,e}(1.70158),lu=2*Math.PI,hu=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=lu);function e(t){return a*Ka(- --t)*Math.sin((s-t)/p)}return e.amplitude=function(a){return t(a,p*lu)},e.period=function(p){return t(a,p)},e}(1,.3),du=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=lu);function e(t){return 1-a*Ka(t=+t)*Math.sin((t+s)/p)}return e.amplitude=function(a){return t(a,p*lu)},e.period=function(p){return t(a,p)},e}(1,.3),pu=function t(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=lu);function e(t){return((t=2*t-1)<0?a*Ka(-t)*Math.sin((s-t)/p):2-a*Ka(t)*Math.sin((s+t)/p))/2}return e.amplitude=function(a){return t(a,p*lu)},e.period=function(p){return t(a,p)},e}(1,.3);function gu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var yu=function(input,t){return fetch(input,t).then(gu)};function _u(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var vu=function(input,t){return fetch(input,t).then(_u)};function xu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var mu=function(input,t){return fetch(input,t).then(xu)};function bu(t){return function(input,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),mu(input,e).then((function(e){return t(e,n)}))}}function wu(t,input,e,n){3===arguments.length&&"function"==typeof e&&(n=e,e=void 0);var r=ba(t);return mu(input,e).then((function(t){return r.parse(t,n)}))}var Su=bu(Sa),Au=bu(Oa),Tu=function(input,t){return new Promise((function(e,n){var image=new Image;for(var r in t)image[r]=t[r];image.onerror=n,image.onload=function(){e(image)},image.src=input}))};function Pu(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var Cu=function(input,t){return fetch(input,t).then(Pu)};function Mu(t){return function(input,e){return mu(input,e).then((function(text){return(new DOMParser).parseFromString(text,t)}))}}var Eu=Mu("application/xml"),Lu=Mu("text/html"),svg=Mu("image/svg+xml"),Ou=function(t,e){var n;function r(){var i,r,o=n.length,c=0,f=0;for(i=0;i<o;++i)c+=(r=n[i]).x,f+=r.y;for(c=c/o-t,f=f/o-e,i=0;i<o;++i)(r=n[i]).x-=c,r.y-=f}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},ku=function(t){return function(){return t}},Vu=function(){return 1e-6*(Math.random()-.5)};function Gu(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,c,f,l,h,d,y,i,_,v=t._root,x={data:r},m=t._x0,w=t._y0,S=t._x1,A=t._y1;if(!v)return t._root=x,t;for(;v.length;)if((d=e>=(c=(m+S)/2))?m=c:S=c,(y=n>=(f=(w+A)/2))?w=f:A=f,o=v,!(v=v[i=y<<1|d]))return o[i]=x,t;if(l=+t._x.call(null,v.data),h=+t._y.call(null,v.data),e===l&&n===h)return x.next=v,o?o[i]=x:t._root=x,t;do{o=o?o[i]=new Array(4):t._root=new Array(4),(d=e>=(c=(m+S)/2))?m=c:S=c,(y=n>=(f=(w+A)/2))?w=f:A=f}while((i=y<<1|d)==(_=(h>=f)<<1|l>=c));return o[_]=v,o[i]=x,t}var Ru=function(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o};function Iu(t){return t[0]}function Nu(t){return t[1]}function Du(t,e,n){var r=new ju(null==e?Iu:e,null==n?Nu:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ju(t,e,n,r,o,c){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=c,this._root=void 0}function Fu(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var zu=Du.prototype=ju.prototype;function Xu(t){return t.x+t.vx}function Bu(t){return t.y+t.vy}zu.copy=function(){var t,e,n=new ju(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Fu(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Fu(e));return n},zu.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Gu(this.cover(e,n),e,n,t)},zu.addAll=function(data){var t,i,e,n,r=data.length,o=new Array(r),c=new Array(r),f=1/0,l=1/0,h=-1/0,d=-1/0;for(i=0;i<r;++i)isNaN(e=+this._x.call(null,t=data[i]))||isNaN(n=+this._y.call(null,t))||(o[i]=e,c[i]=n,e<f&&(f=e),e>h&&(h=e),n<l&&(l=n),n>d&&(d=n));if(f>h||l>d)return this;for(this.cover(f,l).cover(h,d),i=0;i<r;++i)Gu(this,o[i],c[i],data[i]);return this},zu.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,c=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,c=(r=Math.floor(e))+1;else{for(var f,i,l=o-n,h=this._root;n>t||t>=o||r>e||e>=c;)switch(i=(e<r)<<1|t<n,(f=new Array(4))[i]=h,h=f,l*=2,i){case 0:o=n+l,c=r+l;break;case 1:n=o-l,c=r+l;break;case 2:o=n+l,r=c-l;break;case 3:n=o-l,r=c-l}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=r,this._x1=o,this._y1=c,this},zu.data=function(){var data=[];return this.visit((function(t){if(!t.length)do{data.push(t.data)}while(t=t.next)})),data},zu.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},zu.find=function(t,e,n){var data,r,o,c,f,q,i,l=this._x0,h=this._y0,d=this._x1,y=this._y1,_=[],v=this._root;for(v&&_.push(new Ru(v,l,h,d,y)),null==n?n=1/0:(l=t-n,h=e-n,d=t+n,y=e+n,n*=n);q=_.pop();)if(!(!(v=q.node)||(r=q.x0)>d||(o=q.y0)>y||(c=q.x1)<l||(f=q.y1)<h))if(v.length){var x=(r+c)/2,m=(o+f)/2;_.push(new Ru(v[3],x,m,c,f),new Ru(v[2],r,m,x,f),new Ru(v[1],x,o,c,m),new Ru(v[0],r,o,x,m)),(i=(e>=m)<<1|t>=x)&&(q=_[_.length-1],_[_.length-1]=_[_.length-1-i],_[_.length-1-i]=q)}else{var w=t-+this._x.call(null,v.data),S=e-+this._y.call(null,v.data),A=w*w+S*S;if(A<n){var T=Math.sqrt(n=A);l=t-T,h=e-T,d=t+T,y=e+T,data=v.data}}return data},zu.remove=function(t){if(isNaN(c=+this._x.call(null,t))||isNaN(f=+this._y.call(null,t)))return this;var e,n,r,o,c,f,l,h,d,y,i,_,v=this._root,x=this._x0,m=this._y0,w=this._x1,S=this._y1;if(!v)return this;if(v.length)for(;;){if((d=c>=(l=(x+w)/2))?x=l:w=l,(y=f>=(h=(m+S)/2))?m=h:S=h,e=v,!(v=v[i=y<<1|d]))return this;if(!v.length)break;(e[i+1&3]||e[i+2&3]||e[i+3&3])&&(n=e,_=i)}for(;v.data!==t;)if(r=v,!(v=v.next))return this;return(o=v.next)&&delete v.next,r?(o?r.next=o:delete r.next,this):e?(o?e[i]=o:delete e[i],(v=e[0]||e[1]||e[2]||e[3])&&v===(e[3]||e[2]||e[1]||e[0])&&!v.length&&(n?n[_]=v:this._root=v),this):(this._root=o,this)},zu.removeAll=function(data){for(var i=0,t=data.length;i<t;++i)this.remove(data[i]);return this},zu.root=function(){return this._root},zu.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},zu.visit=function(t){var q,e,n,r,o,c,f=[],l=this._root;for(l&&f.push(new Ru(l,this._x0,this._y0,this._x1,this._y1));q=f.pop();)if(!t(l=q.node,n=q.x0,r=q.y0,o=q.x1,c=q.y1)&&l.length){var h=(n+o)/2,d=(r+c)/2;(e=l[3])&&f.push(new Ru(e,h,d,o,c)),(e=l[2])&&f.push(new Ru(e,n,d,h,c)),(e=l[1])&&f.push(new Ru(e,h,r,o,d)),(e=l[0])&&f.push(new Ru(e,n,r,h,d))}return this},zu.visitAfter=function(t){var q,e=[],n=[];for(this._root&&e.push(new Ru(this._root,this._x0,this._y0,this._x1,this._y1));q=e.pop();){var r=q.node;if(r.length){var o,c=q.x0,f=q.y0,l=q.x1,h=q.y1,d=(c+l)/2,y=(f+h)/2;(o=r[0])&&e.push(new Ru(o,c,f,d,y)),(o=r[1])&&e.push(new Ru(o,d,f,l,y)),(o=r[2])&&e.push(new Ru(o,c,y,d,h)),(o=r[3])&&e.push(new Ru(o,d,y,l,h))}n.push(q)}for(;q=n.pop();)t(q.node,q.x0,q.y0,q.x1,q.y1);return this},zu.x=function(t){return arguments.length?(this._x=t,this):this._x},zu.y=function(t){return arguments.length?(this._y=t,this):this._y};var Yu=function(t){var e,n,r=1,o=1;function c(){for(var i,t,c,l,h,d,y,_=e.length,v=0;v<o;++v)for(t=Du(e,Xu,Bu).visitAfter(f),i=0;i<_;++i)c=e[i],d=n[c.index],y=d*d,l=c.x+c.vx,h=c.y+c.vy,t.visit(x);function x(t,e,n,o,f){var data=t.data,_=t.r,v=d+_;if(!data)return e>l+v||o<l-v||n>h+v||f<h-v;if(data.index>c.index){var x=l-data.x-data.vx,m=h-data.y-data.vy,w=x*x+m*m;w<v*v&&(0===x&&(w+=(x=Vu())*x),0===m&&(w+=(m=Vu())*m),w=(v-(w=Math.sqrt(w)))/w*r,c.vx+=(x*=w)*(v=(_*=_)/(y+_)),c.vy+=(m*=w)*v,data.vx-=x*(v=1-v),data.vy-=m*v)}}}function f(t){if(t.data)return t.r=n[t.data.index];for(var i=t.r=0;i<4;++i)t[i]&&t[i].r>t.r&&(t.r=t[i].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=ku(null==t?1:+t)),c.initialize=function(t){e=t,l()},c.iterations=function(t){return arguments.length?(o=+t,c):o},c.strength=function(t){return arguments.length?(r=+t,c):r},c.radius=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),l(),c):t},c};function Hu(t){return t.index}function Uu(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var Wu=function(t){var e,n,r,o,c,f=Hu,l=function(link){return 1/Math.min(o[link.source.index],o[link.target.index])},h=ku(30),d=1;function y(r){for(var o=0,f=t.length;o<d;++o)for(var link,source,l,h,y,_,b,i=0;i<f;++i)source=(link=t[i]).source,h=(l=link.target).x+l.vx-source.x-source.vx||Vu(),y=l.y+l.vy-source.y-source.vy||Vu(),h*=_=((_=Math.sqrt(h*h+y*y))-n[i])/_*r*e[i],y*=_,l.vx-=h*(b=c[i]),l.vy-=y*b,source.vx+=h*(b=1-b),source.vy+=y*b}function _(){if(r){var i,link,l=r.length,h=t.length,d=lo(r,f);for(i=0,o=new Array(l);i<h;++i)(link=t[i]).index=i,"object"!=typeof link.source&&(link.source=Uu(d,link.source)),"object"!=typeof link.target&&(link.target=Uu(d,link.target)),o[link.source.index]=(o[link.source.index]||0)+1,o[link.target.index]=(o[link.target.index]||0)+1;for(i=0,c=new Array(h);i<h;++i)link=t[i],c[i]=o[link.source.index]/(o[link.source.index]+o[link.target.index]);e=new Array(h),v(),n=new Array(h),x()}}function v(){if(r)for(var i=0,n=t.length;i<n;++i)e[i]=+l(t[i],i,t)}function x(){if(r)for(var i=0,e=t.length;i<e;++i)n[i]=+h(t[i],i,t)}return null==t&&(t=[]),y.initialize=function(t){r=t,_()},y.links=function(e){return arguments.length?(t=e,_(),y):t},y.id=function(t){return arguments.length?(f=t,y):f},y.iterations=function(t){return arguments.length?(d=+t,y):d},y.strength=function(t){return arguments.length?(l="function"==typeof t?t:ku(+t),v(),y):l},y.distance=function(t){return arguments.length?(h="function"==typeof t?t:ku(+t),x(),y):h},y};function qu(t){return t.x}function Qu(t){return t.y}var $u=Math.PI*(3-Math.sqrt(5)),Zu=function(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),c=0,f=.6,l=lo(),h=er(y),d=mt("tick","end");function y(){_(),d.call("tick",e),n<r&&(h.stop(),d.call("end",e))}function _(r){var i,h,d=t.length;void 0===r&&(r=1);for(var y=0;y<r;++y)for(n+=(c-n)*o,l.each((function(t){t(n)})),i=0;i<d;++i)null==(h=t[i]).fx?h.x+=h.vx*=f:(h.x=h.fx,h.vx=0),null==h.fy?h.y+=h.vy*=f:(h.y=h.fy,h.vy=0);return e}function v(){for(var e,i=0,n=t.length;i<n;++i){if((e=t[i]).index=i,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(i),o=i*$u;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function x(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),v(),e={tick:_,restart:function(){return h.restart(y),e},stop:function(){return h.stop(),e},nodes:function(n){return arguments.length?(t=n,v(),l.each(x),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(c=+t,e):c},velocityDecay:function(t){return arguments.length?(f=1-t,e):1-f},force:function(t,n){return arguments.length>1?(null==n?l.remove(t):l.set(t,x(n)),e):l.get(t)},find:function(e,n,r){var o,c,f,l,h,i=0,d=t.length;for(null==r?r=1/0:r*=r,i=0;i<d;++i)(f=(o=e-(l=t[i]).x)*o+(c=n-l.y)*c)<r&&(h=l,r=f);return h},on:function(t,n){return arguments.length>1?(d.on(t,n),e):d.on(t)}}},Ku=function(){var t,e,n,r,o=ku(-30),c=1,f=1/0,l=.81;function h(r){var i,o=t.length,c=Du(t,qu,Qu).visitAfter(y);for(n=r,i=0;i<o;++i)e=t[i],c.visit(_)}function d(){if(t){var i,e,n=t.length;for(r=new Array(n),i=0;i<n;++i)e=t[i],r[e.index]=+o(e,i,t)}}function y(t){var q,e,n,o,i,c=0,f=0;if(t.length){for(n=o=i=0;i<4;++i)(q=t[i])&&(e=Math.abs(q.value))&&(c+=q.value,f+=e,n+=e*q.x,o+=e*q.y);t.x=n/f,t.y=o/f}else{(q=t).x=q.data.x,q.y=q.data.y;do{c+=r[q.data.index]}while(q=q.next)}t.value=c}function _(t,o,h,d){if(!t.value)return!0;var y=t.x-e.x,_=t.y-e.y,v=d-o,x=y*y+_*_;if(v*v/l<x)return x<f&&(0===y&&(x+=(y=Vu())*y),0===_&&(x+=(_=Vu())*_),x<c&&(x=Math.sqrt(c*x)),e.vx+=y*t.value*n/x,e.vy+=_*t.value*n/x),!0;if(!(t.length||x>=f)){(t.data!==e||t.next)&&(0===y&&(x+=(y=Vu())*y),0===_&&(x+=(_=Vu())*_),x<c&&(x=Math.sqrt(c*x)));do{t.data!==e&&(v=r[t.data.index]*n/x,e.vx+=y*v,e.vy+=_*v)}while(t=t.next)}}return h.initialize=function(e){t=e,d()},h.strength=function(t){return arguments.length?(o="function"==typeof t?t:ku(+t),d(),h):o},h.distanceMin=function(t){return arguments.length?(c=t*t,h):Math.sqrt(c)},h.distanceMax=function(t){return arguments.length?(f=t*t,h):Math.sqrt(f)},h.theta=function(t){return arguments.length?(l=t*t,h):Math.sqrt(l)},h},Ju=function(t,e,n){var r,o,c,f=ku(.1);function l(t){for(var i=0,f=r.length;i<f;++i){var l=r[i],h=l.x-e||1e-6,d=l.y-n||1e-6,y=Math.sqrt(h*h+d*d),_=(c[i]-y)*o[i]*t/y;l.vx+=h*_,l.vy+=d*_}}function h(){if(r){var i,e=r.length;for(o=new Array(e),c=new Array(e),i=0;i<e;++i)c[i]=+t(r[i],i,r),o[i]=isNaN(c[i])?0:+f(r[i],i,r)}}return"function"!=typeof t&&(t=ku(+t)),null==e&&(e=0),null==n&&(n=0),l.initialize=function(t){r=t,h()},l.strength=function(t){return arguments.length?(f="function"==typeof t?t:ku(+t),h(),l):f},l.radius=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),h(),l):t},l.x=function(t){return arguments.length?(e=+t,l):e},l.y=function(t){return arguments.length?(n=+t,l):n},l},ts=function(t){var e,n,r,o=ku(.1);function c(t){for(var o,i=0,c=e.length;i<c;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function f(){if(e){var i,c=e.length;for(n=new Array(c),r=new Array(c),i=0;i<c;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ku(null==t?0:+t)),c.initialize=function(t){e=t,f()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:ku(+t),f(),c):o},c.x=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),f(),c):t},c},es=function(t){var e,n,r,o=ku(.1);function c(t){for(var o,i=0,c=e.length;i<c;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function f(){if(e){var i,c=e.length;for(n=new Array(c),r=new Array(c),i=0;i<c;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ku(null==t?0:+t)),c.initialize=function(t){e=t,f()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:ku(+t),f(),c):o},c.y=function(e){return arguments.length?(t="function"==typeof e?e:ku(+e),f(),c):t},c};function ns(t,p){if((i=(t=p?t.toExponential(p-1):t.toExponential()).indexOf("e"))<0)return null;var i,e=t.slice(0,i);return[e.length>1?e[0]+e.slice(2):e,+t.slice(i+1)]}var rs=function(t){return(t=ns(Math.abs(t)))?t[1]:NaN},is=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function os(t){if(!(e=is.exec(t)))throw new Error("invalid format: "+t);var e;return new as({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function as(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}os.prototype=as.prototype,as.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var us,ss,cs,fs,ls=function(t,p){var e=ns(t,p);if(!e)return t+"";var n=e[0],r=e[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")},hs={"%":function(t,p){return(100*t).toFixed(p)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,p){return t.toExponential(p)},f:function(t,p){return t.toFixed(p)},g:function(t,p){return t.toPrecision(p)},o:function(t){return Math.round(t).toString(8)},p:function(t,p){return ls(100*t,p)},r:ls,s:function(t,p){var e=ns(t,p);if(!e)return t+"";var n=e[0],r=e[1],i=r-(us=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ns(t,Math.max(0,p+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ds=function(t){return t},ps=Array.prototype.map,gs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],ys=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ds:(e=ps.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],c=0,g=e[0],f=0;i>0&&g>0&&(f+g+1>r&&(g=Math.max(1,r-f)),o.push(t.substring(i-=g,i+g)),!((f+=g+1)>r));)g=e[c=(c+1)%e.length];return o.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",c=void 0===t.currency?"":t.currency[1]+"",f=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?ds:function(t){return function(e){return e.replace(/[0-9]/g,(function(i){return t[+i]}))}}(ps.call(t.numerals,String)),h=void 0===t.percent?"%":t.percent+"",d=void 0===t.minus?"-":t.minus+"",y=void 0===t.nan?"NaN":t.nan+"";function _(t){var e=(t=os(t)).fill,n=t.align,_=t.sign,symbol=t.symbol,v=t.zero,x=t.width,m=t.comma,w=t.precision,S=t.trim,A=t.type;"n"===A?(m=!0,A="g"):hs[A]||(void 0===w&&(w=12),S=!0,A="g"),(v||"0"===e&&"="===n)&&(v=!0,e="0",n="=");var T="$"===symbol?o:"#"===symbol&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P="$"===symbol?c:/[%p]/.test(A)?h:"",C=hs[A],M=/[defgprs%]/.test(A);function E(t){var i,o,c,h=T,E=P;if("c"===A)E=C(t)+E,t="";else{var L=(t=+t)<0||1/t<0;if(t=isNaN(t)?y:C(Math.abs(t),w),S&&(t=function(s){t:for(var t,e=s.length,i=1,n=-1;i<e;++i)switch(s[i]){case".":n=t=i;break;case"0":0===n&&(n=i),t=i;break;default:if(!+s[i])break t;n>0&&(n=0)}return n>0?s.slice(0,n)+s.slice(t+1):s}(t)),L&&0==+t&&"+"!==_&&(L=!1),h=(L?"("===_?_:d:"-"===_||"("===_?"":_)+h,E=("s"===A?gs[8+us/3]:"")+E+(L&&"("===_?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){E=(46===c?f+t.slice(i+1):t.slice(i))+E,t=t.slice(0,i);break}}m&&!v&&(t=r(t,1/0));var O=h.length+t.length+E.length,k=O<x?new Array(x-O+1).join(e):"";switch(m&&v&&(t=r(k+t,k.length?x-E.length:1/0),k=""),n){case"<":t=h+t+E+k;break;case"=":t=h+k+t+E;break;case"^":t=k.slice(0,O=k.length>>1)+h+t+E+k.slice(O);break;default:t=k+h+t+E}return l(t)}return w=void 0===w?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w)),E.toString=function(){return t+""},E}return{format:_,formatPrefix:function(t,e){var n=_(((t=os(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(rs(e)/3))),o=Math.pow(10,-r),c=gs[8+r/3];return function(t){return n(o*t)+c}}}};function _s(t){return ss=ys(t),cs=ss.format,fs=ss.formatPrefix,ss}_s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var vs=function(t){return Math.max(0,-rs(Math.abs(t)))},xs=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rs(e)/3)))-rs(Math.abs(t)))},ms=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,rs(e)-rs(t))+1},bs=function(){return new ws};function ws(){this.reset()}ws.prototype={constructor:ws,reset:function(){this.s=this.t=0},add:function(t){As(Ss,t,this.t),As(this,Ss.s,this.s),this.s?this.t+=Ss.t:this.s=Ss.t},valueOf:function(){return this.s}};var Ss=new ws;function As(t,a,b){var e=t.s=a+b,n=e-a,r=e-n;t.t=a-r+(b-n)}var Ts=Math.PI,Ps=Ts/2,Cs=Ts/4,Ms=2*Ts,Es=180/Ts,Ls=Ts/180,Os=Math.abs,ks=Math.atan,Vs=Math.atan2,Gs=Math.cos,Rs=Math.ceil,Is=Math.exp,Ns=(Math.floor,Math.log),Ds=Math.pow,js=Math.sin,Fs=Math.sign||function(t){return t>0?1:t<0?-1:0},zs=Math.sqrt,Xs=Math.tan;function Bs(t){return t>1?0:t<-1?Ts:Math.acos(t)}function Ys(t){return t>1?Ps:t<-1?-Ps:Math.asin(t)}function Hs(t){return(t=js(t/2))*t}function Us(){}function Ws(t,e){t&&Qs.hasOwnProperty(t.type)&&Qs[t.type](t,e)}var qs={Feature:function(object,t){Ws(object.geometry,t)},FeatureCollection:function(object,t){for(var e=object.features,i=-1,n=e.length;++i<n;)Ws(e[i].geometry,t)}},Qs={Sphere:function(object,t){t.sphere()},Point:function(object,t){object=object.coordinates,t.point(object[0],object[1],object[2])},MultiPoint:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)object=e[i],t.point(object[0],object[1],object[2])},LineString:function(object,t){$s(object.coordinates,t,0)},MultiLineString:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)$s(e[i],t,0)},Polygon:function(object,t){Zs(object.coordinates,t)},MultiPolygon:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)Zs(e[i],t)},GeometryCollection:function(object,t){for(var e=object.geometries,i=-1,n=e.length;++i<n;)Ws(e[i],t)}};function $s(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Zs(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)$s(t[i],e,1);e.polygonEnd()}var Ks,Js,tc,ec,nc,rc=function(object,t){object&&qs.hasOwnProperty(object.type)?qs[object.type](object,t):Ws(object,t)},ic=bs(),oc=bs(),ac={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){ic.reset(),ac.lineStart=uc,ac.lineEnd=sc},polygonEnd:function(){var t=+ic;oc.add(t<0?Ms+t:t),this.lineStart=this.lineEnd=this.point=Us},sphere:function(){oc.add(Ms)}};function uc(){ac.point=cc}function sc(){fc(Ks,Js)}function cc(t,e){ac.point=fc,Ks=t,Js=e,tc=t*=Ls,ec=Gs(e=(e*=Ls)/2+Cs),nc=js(e)}function fc(t,e){var n=(t*=Ls)-tc,r=n>=0?1:-1,o=r*n,c=Gs(e=(e*=Ls)/2+Cs),f=js(e),l=nc*f,u=ec*c+l*Gs(o),h=l*r*js(o);ic.add(Vs(h,u)),tc=t,ec=c,nc=f}var lc=function(object){return oc.reset(),rc(object,ac),2*oc};function hc(t){return[Vs(t[1],t[0]),Ys(t[2])]}function dc(t){var e=t[0],n=t[1],r=Gs(n);return[r*Gs(e),r*js(e),js(n)]}function pc(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function gc(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function yc(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function _c(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function vc(t){var e=zs(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var xc,mc,bc,wc,Sc,Ac,Tc,Pc,Cc,Mc,Ec=bs(),Lc={point:Oc,lineStart:Vc,lineEnd:Gc,polygonStart:function(){Lc.point=Rc,Lc.lineStart=Ic,Lc.lineEnd=Nc,Ec.reset(),ac.polygonStart()},polygonEnd:function(){ac.polygonEnd(),Lc.point=Oc,Lc.lineStart=Vc,Lc.lineEnd=Gc,ic<0?(xc=-(bc=180),mc=-(wc=90)):Ec>1e-6?wc=90:Ec<-1e-6&&(mc=-90),Mc[0]=xc,Mc[1]=bc},sphere:function(){xc=-(bc=180),mc=-(wc=90)}};function Oc(t,e){Cc.push(Mc=[xc=t,bc=t]),e<mc&&(mc=e),e>wc&&(wc=e)}function kc(t,e){var p=dc([t*Ls,e*Ls]);if(Pc){var n=gc(Pc,p),r=gc([n[1],-n[0],0],n);vc(r),r=hc(r);var o,c=t-Sc,f=c>0?1:-1,l=r[0]*Es*f,h=Os(c)>180;h^(f*Sc<l&&l<f*t)?(o=r[1]*Es)>wc&&(wc=o):h^(f*Sc<(l=(l+360)%360-180)&&l<f*t)?(o=-r[1]*Es)<mc&&(mc=o):(e<mc&&(mc=e),e>wc&&(wc=e)),h?t<Sc?Dc(xc,t)>Dc(xc,bc)&&(bc=t):Dc(t,bc)>Dc(xc,bc)&&(xc=t):bc>=xc?(t<xc&&(xc=t),t>bc&&(bc=t)):t>Sc?Dc(xc,t)>Dc(xc,bc)&&(bc=t):Dc(t,bc)>Dc(xc,bc)&&(xc=t)}else Cc.push(Mc=[xc=t,bc=t]);e<mc&&(mc=e),e>wc&&(wc=e),Pc=p,Sc=t}function Vc(){Lc.point=kc}function Gc(){Mc[0]=xc,Mc[1]=bc,Lc.point=Oc,Pc=null}function Rc(t,e){if(Pc){var n=t-Sc;Ec.add(Os(n)>180?n+(n>0?360:-360):n)}else Ac=t,Tc=e;ac.point(t,e),kc(t,e)}function Ic(){ac.lineStart()}function Nc(){Rc(Ac,Tc),ac.lineEnd(),Os(Ec)>1e-6&&(xc=-(bc=180)),Mc[0]=xc,Mc[1]=bc,Pc=null}function Dc(t,e){return(e-=t)<0?e+360:e}function jc(a,b){return a[0]-b[0]}function Fc(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var zc,Xc,Bc,Yc,Hc,Uc,Wc,qc,Qc,$c,Zc,Kc,Jc,tf,ef,nf,rf=function(t){var i,e,a,b,n,r,o;if(wc=bc=-(xc=mc=1/0),Cc=[],rc(t,Lc),e=Cc.length){for(Cc.sort(jc),i=1,n=[a=Cc[0]];i<e;++i)Fc(a,(b=Cc[i])[0])||Fc(a,b[1])?(Dc(a[0],b[1])>Dc(a[0],a[1])&&(a[1]=b[1]),Dc(b[0],a[1])>Dc(a[0],a[1])&&(a[0]=b[0])):n.push(a=b);for(r=-1/0,i=0,a=n[e=n.length-1];i<=e;a=b,++i)b=n[i],(o=Dc(a[1],b[0]))>r&&(r=o,xc=b[0],bc=a[1])}return Cc=Mc=null,xc===1/0||mc===1/0?[[NaN,NaN],[NaN,NaN]]:[[xc,mc],[bc,wc]]},of={sphere:Us,point:af,lineStart:sf,lineEnd:lf,polygonStart:function(){of.lineStart=hf,of.lineEnd=df},polygonEnd:function(){of.lineStart=sf,of.lineEnd=lf}};function af(t,e){t*=Ls;var n=Gs(e*=Ls);uf(n*Gs(t),n*js(t),js(e))}function uf(t,e,n){++zc,Bc+=(t-Bc)/zc,Yc+=(e-Yc)/zc,Hc+=(n-Hc)/zc}function sf(){of.point=cf}function cf(t,e){t*=Ls;var n=Gs(e*=Ls);tf=n*Gs(t),ef=n*js(t),nf=js(e),of.point=ff,uf(tf,ef,nf)}function ff(t,e){t*=Ls;var n=Gs(e*=Ls),r=n*Gs(t),o=n*js(t),c=js(e),f=Vs(zs((f=ef*c-nf*o)*f+(f=nf*r-tf*c)*f+(f=tf*o-ef*r)*f),tf*r+ef*o+nf*c);Xc+=f,Uc+=f*(tf+(tf=r)),Wc+=f*(ef+(ef=o)),qc+=f*(nf+(nf=c)),uf(tf,ef,nf)}function lf(){of.point=af}function hf(){of.point=pf}function df(){gf(Kc,Jc),of.point=af}function pf(t,e){Kc=t,Jc=e,t*=Ls,e*=Ls,of.point=gf;var n=Gs(e);tf=n*Gs(t),ef=n*js(t),nf=js(e),uf(tf,ef,nf)}function gf(t,e){t*=Ls;var n=Gs(e*=Ls),r=n*Gs(t),o=n*js(t),c=js(e),f=ef*c-nf*o,l=nf*r-tf*c,h=tf*o-ef*r,d=zs(f*f+l*l+h*h),y=Ys(d),_=d&&-y/d;Qc+=_*f,$c+=_*l,Zc+=_*h,Xc+=y,Uc+=y*(tf+(tf=r)),Wc+=y*(ef+(ef=o)),qc+=y*(nf+(nf=c)),uf(tf,ef,nf)}var yf=function(object){zc=Xc=Bc=Yc=Hc=Uc=Wc=qc=Qc=$c=Zc=0,rc(object,of);var t=Qc,e=$c,n=Zc,r=t*t+e*e+n*n;return r<1e-12&&(t=Uc,e=Wc,n=qc,Xc<1e-6&&(t=Bc,e=Yc,n=Hc),(r=t*t+e*e+n*n)<1e-12)?[NaN,NaN]:[Vs(e,t)*Es,Ys(n/zs(r))*Es]},_f=function(t){return function(){return t}},vf=function(a,b){function t(t,e){return t=a(t,e),b(t[0],t[1])}return a.invert&&b.invert&&(t.invert=function(t,e){return(t=b.invert(t,e))&&a.invert(t[0],t[1])}),t};function xf(t,e){return[Os(t)>Ts?t+Math.round(-t/Ms)*Ms:t,e]}function mf(t,e,n){return(t%=Ms)?e||n?vf(wf(t),Sf(e,n)):wf(t):e||n?Sf(e,n):xf}function bf(t){return function(e,n){return[(e+=t)>Ts?e-Ms:e<-Ts?e+Ms:e,n]}}function wf(t){var e=bf(t);return e.invert=bf(-t),e}function Sf(t,e){var n=Gs(t),r=js(t),o=Gs(e),c=js(e);function f(t,e){var f=Gs(e),l=Gs(t)*f,h=js(t)*f,d=js(e),y=d*n+l*r;return[Vs(h*o-y*c,l*n-d*r),Ys(y*o+h*c)]}return f.invert=function(t,e){var f=Gs(e),l=Gs(t)*f,h=js(t)*f,d=js(e),y=d*o-h*c;return[Vs(h*o+d*c,l*n+y*r),Ys(y*n-l*r)]},f}xf.invert=xf;var Af=function(t){function e(e){return(e=t(e[0]*Ls,e[1]*Ls))[0]*=Es,e[1]*=Es,e}return t=mf(t[0]*Ls,t[1]*Ls,t.length>2?t[2]*Ls:0),e.invert=function(e){return(e=t.invert(e[0]*Ls,e[1]*Ls))[0]*=Es,e[1]*=Es,e},e};function Tf(t,e,n,r,o,c){if(n){var f=Gs(e),l=js(e),h=r*n;null==o?(o=e+r*Ms,c=e-h/2):(o=Pf(f,o),c=Pf(f,c),(r>0?o<c:o>c)&&(o+=r*Ms));for(var d,y=o;r>0?y>c:y<c;y-=h)d=hc([f,-l*Gs(y),-l*js(y)]),t.point(d[0],d[1])}}function Pf(t,e){(e=dc(e))[0]-=t,vc(e);var n=Bs(-e[1]);return((-e[2]<0?-n:n)+Ms-1e-6)%Ms}var Cf=function(){var t,e,n=_f([0,0]),r=_f(90),o=_f(6),c={point:function(n,r){t.push(n=e(n,r)),n[0]*=Es,n[1]*=Es}};function circle(){var f=n.apply(this,arguments),l=r.apply(this,arguments)*Ls,p=o.apply(this,arguments)*Ls;return t=[],e=mf(-f[0]*Ls,-f[1]*Ls,0).invert,Tf(c,l,p,1),f={type:"Polygon",coordinates:[t]},t=e=null,f}return circle.center=function(t){return arguments.length?(n="function"==typeof t?t:_f([+t[0],+t[1]]),circle):n},circle.radius=function(t){return arguments.length?(r="function"==typeof t?t:_f(+t),circle):r},circle.precision=function(t){return arguments.length?(o="function"==typeof t?t:_f(+t),circle):o},circle},Mf=function(){var line,t=[];return{point:function(t,e,n){line.push([t,e,n])},lineStart:function(){t.push(line=[])},lineEnd:Us,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],line=null,e}}},Ef=function(a,b){return Os(a[0]-b[0])<1e-6&&Os(a[1]-b[1])<1e-6};function Lf(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var Of=function(t,e,n,r,o){var i,c,f=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],c=t[e];if(Ef(r,c)){if(!r[2]&&!c[2]){for(o.lineStart(),i=0;i<e;++i)o.point((r=t[i])[0],r[1]);return void o.lineEnd()}c[0]+=2e-6}f.push(n=new Lf(r,t,null,!0)),l.push(n.o=new Lf(r,null,n,!1)),f.push(n=new Lf(c,t,null,!1)),l.push(n.o=new Lf(c,null,n,!0))}})),f.length){for(l.sort(e),kf(f),kf(l),i=0,c=l.length;i<c;++i)l[i].e=n=!n;for(var h,d,y=f[0];;){for(var _=y,v=!0;_.v;)if((_=_.n)===y)return;h=_.z,o.lineStart();do{if(_.v=_.o.v=!0,_.e){if(v)for(i=0,c=h.length;i<c;++i)o.point((d=h[i])[0],d[1]);else r(_.x,_.n.x,1,o);_=_.n}else{if(v)for(h=_.p.z,i=h.length-1;i>=0;--i)o.point((d=h[i])[0],d[1]);else r(_.x,_.p.x,-1,o);_=_.p}h=(_=_.o).z,v=!v}while(!_.v);o.lineEnd()}}};function kf(t){if(e=t.length){for(var e,b,i=0,a=t[0];++i<e;)a.n=b=t[i],b.p=a,a=b;a.n=b=t[0],b.p=a}}var Vf=bs();function Gf(t){return Os(t[0])<=Ts?t[0]:Fs(t[0])*((Os(t[0])+Ts)%Ms-Ts)}var Rf=function(polygon,t){var e=Gf(t),n=t[1],r=js(n),o=[js(e),-Gs(e),0],c=0,f=0;Vf.reset(),1===r?n=Ps+1e-6:-1===r&&(n=-Ps-1e-6);for(var i=0,l=polygon.length;i<l;++i)if(d=(h=polygon[i]).length)for(var h,d,y=h[d-1],_=Gf(y),v=y[1]/2+Cs,x=js(v),m=Gs(v),w=0;w<d;++w,_=A,x=P,m=C,y=S){var S=h[w],A=Gf(S),T=S[1]/2+Cs,P=js(T),C=Gs(T),M=A-_,E=M>=0?1:-1,L=E*M,O=L>Ts,k=x*P;if(Vf.add(Vs(k*E*js(L),m*C+k*Gs(L))),c+=O?M+E*Ms:M,O^_>=e^A>=e){var V=gc(dc(y),dc(S));vc(V);var G=gc(o,V);vc(G);var R=(O^M>=0?-1:1)*Ys(G[2]);(n>R||n===R&&(V[0]||V[1]))&&(f+=O^M>=0?1:-1)}}return(c<-1e-6||c<1e-6&&Vf<-1e-6)^1&f},If=function(t,e,n,r){return function(o){var polygon,c,f,line=e(o),l=Mf(),h=e(l),d=!1,y={point:_,lineStart:x,lineEnd:m,polygonStart:function(){y.point=w,y.lineStart=S,y.lineEnd=A,c=[],polygon=[]},polygonEnd:function(){y.point=_,y.lineStart=x,y.lineEnd=m,c=Y(c);var t=Rf(polygon,r);c.length?(d||(o.polygonStart(),d=!0),Of(c,Df,t,n,o)):t&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),c=polygon=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(e,n){t(e,n)&&o.point(e,n)}function v(t,e){line.point(t,e)}function x(){y.point=v,line.lineStart()}function m(){y.point=_,line.lineEnd()}function w(t,e){f.push([t,e]),h.point(t,e)}function S(){h.lineStart(),f=[]}function A(){w(f[0][0],f[0][1]),h.lineEnd();var i,t,e,n,r=h.clean(),y=l.result(),_=y.length;if(f.pop(),polygon.push(f),f=null,_)if(1&r){if((t=(e=y[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),i=0;i<t;++i)o.point((n=e[i])[0],n[1]);o.lineEnd()}}else _>1&&2&r&&y.push(y.pop().concat(y.shift())),c.push(y.filter(Nf))}return y}};function Nf(t){return t.length>1}function Df(a,b){return((a=a.x)[0]<0?a[1]-Ps-1e-6:Ps-a[1])-((b=b.x)[0]<0?b[1]-Ps-1e-6:Ps-b[1])}var jf=If((function(){return!0}),(function(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(c,f){var l=c>0?Ts:-Ts,h=Os(c-n);Os(h-Ts)<1e-6?(t.point(n,r=(r+f)/2>0?Ps:-Ps),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(c,r),e=0):o!==l&&h>=Ts&&(Os(n-o)<1e-6&&(n-=1e-6*o),Os(c-l)<1e-6&&(c-=1e-6*l),r=function(t,e,n,r){var o,c,f=js(t-n);return Os(f)>1e-6?ks((js(e)*(c=Gs(r))*js(n)-js(r)*(o=Gs(e))*js(t))/(o*c*f)):(e+r)/2}(n,r,c,f),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=c,r=f),o=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var o;if(null==t)o=n*Ps,r.point(-Ts,o),r.point(0,o),r.point(Ts,o),r.point(Ts,0),r.point(Ts,-o),r.point(0,-o),r.point(-Ts,-o),r.point(-Ts,0),r.point(-Ts,o);else if(Os(t[0]-e[0])>1e-6){var c=t[0]<e[0]?Ts:-Ts;o=n*c/2,r.point(-c,o),r.point(0,o),r.point(c,o)}else r.point(e[0],e[1])}),[-Ts,-Ps]);var Ff=function(t){var e=Gs(t),n=6*Ls,r=e>0,o=Os(e)>1e-6;function c(t,n){return Gs(t)*Gs(n)>e}function f(a,b,t){var n=[1,0,0],r=gc(dc(a),dc(b)),o=pc(r,r),c=r[0],f=o-c*c;if(!f)return!t&&a;var l=e*o/f,h=-e*c/f,d=gc(n,r),y=_c(n,l);yc(y,_c(r,h));var u=d,_=pc(y,u),v=pc(u,u),x=_*_-v*(pc(y,y)-1);if(!(x<0)){var m=zs(x),q=_c(u,(-_-m)/v);if(yc(q,y),q=hc(q),!t)return q;var w,S=a[0],A=b[0],T=a[1],P=b[1];A<S&&(w=S,S=A,A=w);var C=A-S,M=Os(C-Ts)<1e-6;if(!M&&P<T&&(w=T,T=P,P=w),M||C<1e-6?M?T+P>0^q[1]<(Os(q[0]-S)<1e-6?T:P):T<=q[1]&&q[1]<=P:C>Ts^(S<=q[0]&&q[0]<=A)){var E=_c(u,(-_+m)/v);return yc(E,y),[q,hc(E)]}}}function code(e,n){var o=r?t:Ts-t,code=0;return e<-o?code|=1:e>o&&(code|=2),n<-o?code|=4:n>o&&(code|=8),code}return If(c,(function(t){var e,n,l,h,d;return{lineStart:function(){h=l=!1,d=1},point:function(y,_){var v,x=[y,_],m=c(y,_),w=r?m?0:code(y,_):m?code(y+(y<0?Ts:-Ts),_):0;if(!e&&(h=l=m)&&t.lineStart(),m!==l&&(!(v=f(e,x))||Ef(e,v)||Ef(x,v))&&(x[2]=1),m!==l)d=0,m?(t.lineStart(),v=f(x,e),t.point(v[0],v[1])):(v=f(e,x),t.point(v[0],v[1],2),t.lineEnd()),e=v;else if(o&&e&&r^m){var S;w&n||!(S=f(x,e,!0))||(d=0,r?(t.lineStart(),t.point(S[0][0],S[0][1]),t.point(S[1][0],S[1][1]),t.lineEnd()):(t.point(S[1][0],S[1][1]),t.lineEnd(),t.lineStart(),t.point(S[0][0],S[0][1],3)))}!m||e&&Ef(e,x)||t.point(x[0],x[1]),e=x,l=m,n=w},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return d|(h&&l)<<1}}}),(function(e,r,o,c){Tf(c,t,n,o,e,r)}),r?[0,-t]:[-Ts,t-Ts])};function zf(t,e,n,r){function o(o,c){return t<=o&&o<=n&&e<=c&&c<=r}function c(o,c,l,d){var a=0,y=0;if(null==o||(a=f(o,l))!==(y=f(c,l))||h(o,c)<0^l>0)do{d.point(0===a||3===a?t:n,a>1?r:e)}while((a=(a+l+4)%4)!==y);else d.point(c[0],c[1])}function f(p,r){return Os(p[0]-t)<1e-6?r>0?0:3:Os(p[0]-n)<1e-6?r>0?2:1:Os(p[1]-e)<1e-6?r>0?1:0:r>0?3:2}function l(a,b){return h(a.x,b.x)}function h(a,b){var t=f(a,1),e=f(b,1);return t!==e?t-e:0===t?b[1]-a[1]:1===t?a[0]-b[0]:2===t?a[1]-b[1]:b[0]-a[0]}return function(f){var h,polygon,d,y,_,v,x,m,w,S,A,T=f,P=Mf(),C={point:M,lineStart:function(){C.point=E,polygon&&polygon.push(d=[]);S=!0,w=!1,x=m=NaN},lineEnd:function(){h&&(E(y,_),v&&w&&P.rejoin(),h.push(P.result()));C.point=M,w&&T.lineEnd()},polygonStart:function(){T=P,h=[],polygon=[],A=!0},polygonEnd:function(){var e=function(){for(var e=0,i=0,n=polygon.length;i<n;++i)for(var o,c,f=polygon[i],l=1,h=f.length,d=f[0],y=d[0],_=d[1];l<h;++l)o=y,c=_,d=f[l],y=d[0],_=d[1],c<=r?_>r&&(y-o)*(r-c)>(_-c)*(t-o)&&++e:_<=r&&(y-o)*(r-c)<(_-c)*(t-o)&&--e;return e}(),n=A&&e,o=(h=Y(h)).length;(n||o)&&(f.polygonStart(),n&&(f.lineStart(),c(null,null,1,f),f.lineEnd()),o&&Of(h,l,e,c,f),f.polygonEnd());T=f,h=polygon=d=null}};function M(t,e){o(t,e)&&T.point(t,e)}function E(c,f){var l=o(c,f);if(polygon&&d.push([c,f]),S)y=c,_=f,v=l,S=!1,l&&(T.lineStart(),T.point(c,f));else if(l&&w)T.point(c,f);else{var a=[x=Math.max(-1e9,Math.min(1e9,x)),m=Math.max(-1e9,Math.min(1e9,m))],b=[c=Math.max(-1e9,Math.min(1e9,c)),f=Math.max(-1e9,Math.min(1e9,f))];!function(a,b,t,e,n,r){var o,c=a[0],f=a[1],l=0,h=1,d=b[0]-c,y=b[1]-f;if(o=t-c,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>l&&(l=o)}if(o=n-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<h&&(h=o)}if(o=e-f,y||!(o>0)){if(o/=y,y<0){if(o<l)return;o<h&&(h=o)}else if(y>0){if(o>h)return;o>l&&(l=o)}if(o=r-f,y||!(o<0)){if(o/=y,y<0){if(o>h)return;o>l&&(l=o)}else if(y>0){if(o<l)return;o<h&&(h=o)}return l>0&&(a[0]=c+l*d,a[1]=f+l*y),h<1&&(b[0]=c+h*d,b[1]=f+h*y),!0}}}}}(a,b,t,e,n,r)?l&&(T.lineStart(),T.point(c,f),A=!1):(w||(T.lineStart(),T.point(a[0],a[1])),T.point(b[0],b[1]),l||T.lineEnd(),A=!1)}x=c,m=f,w=l}return C}}var Xf,Bf,Yf,Hf=function(){var t,e,n,r=0,o=0,c=960,f=500;return n={stream:function(n){return t&&e===n?t:t=zf(r,o,c,f)(e=n)},extent:function(l){return arguments.length?(r=+l[0][0],o=+l[0][1],c=+l[1][0],f=+l[1][1],t=e=null,n):[[r,o],[c,f]]}}},Uf=bs(),Wf={sphere:Us,point:Us,lineStart:function(){Wf.point=Qf,Wf.lineEnd=qf},lineEnd:Us,polygonStart:Us,polygonEnd:Us};function qf(){Wf.point=Wf.lineEnd=Us}function Qf(t,e){Xf=t*=Ls,Bf=js(e*=Ls),Yf=Gs(e),Wf.point=$f}function $f(t,e){t*=Ls;var n=js(e*=Ls),r=Gs(e),o=Os(t-Xf),c=Gs(o),f=r*js(o),l=Yf*n-Bf*r*c,h=Bf*n+Yf*r*c;Uf.add(Vs(zs(f*f+l*l),h)),Xf=t,Bf=n,Yf=r}var Zf=function(object){return Uf.reset(),rc(object,Wf),+Uf},Kf=[null,null],Jf={type:"LineString",coordinates:Kf},tl=function(a,b){return Kf[0]=a,Kf[1]=b,Zf(Jf)},el={Feature:function(object,t){return rl(object.geometry,t)},FeatureCollection:function(object,t){for(var e=object.features,i=-1,n=e.length;++i<n;)if(rl(e[i].geometry,t))return!0;return!1}},nl={Sphere:function(){return!0},Point:function(object,t){return il(object.coordinates,t)},MultiPoint:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)if(il(e[i],t))return!0;return!1},LineString:function(object,t){return al(object.coordinates,t)},MultiLineString:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)if(al(e[i],t))return!0;return!1},Polygon:function(object,t){return sl(object.coordinates,t)},MultiPolygon:function(object,t){for(var e=object.coordinates,i=-1,n=e.length;++i<n;)if(sl(e[i],t))return!0;return!1},GeometryCollection:function(object,t){for(var e=object.geometries,i=-1,n=e.length;++i<n;)if(rl(e[i],t))return!0;return!1}};function rl(t,e){return!(!t||!nl.hasOwnProperty(t.type))&&nl[t.type](t,e)}function il(t,e){return 0===tl(t,e)}function al(t,e){for(var n,r,o,i=0,c=t.length;i<c;i++){if(0===(r=tl(t[i],e)))return!0;if(i>0&&(o=tl(t[i],t[i-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<1e-12*o)return!0;n=r}return!1}function sl(t,e){return!!Rf(t.map(cl),fl(e))}function cl(t){return(t=t.map(fl)).pop(),t}function fl(t){return[t[0]*Ls,t[1]*Ls]}var ll=function(object,t){return(object&&el.hasOwnProperty(object.type)?el[object.type]:rl)(object,t)};function hl(t,e,n){var r=E(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function pl(t,e,n){var r=E(t,e-1e-6,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function gl(){var t,e,n,r,o,c,f,l,h,d,y,_,v=10,x=v,m=90,w=360,S=2.5;function A(){return{type:"MultiLineString",coordinates:T()}}function T(){return E(Rs(r/m)*m,n,m).map(y).concat(E(Rs(l/w)*w,f,w).map(_)).concat(E(Rs(e/v)*v,t,v).filter((function(t){return Os(t%m)>1e-6})).map(h)).concat(E(Rs(c/x)*x,o,x).filter((function(t){return Os(t%w)>1e-6})).map(d))}return A.lines=function(){return T().map((function(t){return{type:"LineString",coordinates:t}}))},A.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(_(f).slice(1),y(n).reverse().slice(1),_(l).reverse().slice(1))]}},A.extent=function(t){return arguments.length?A.extentMajor(t).extentMinor(t):A.extentMinor()},A.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],f=+t[1][1],r>n&&(t=r,r=n,n=t),l>f&&(t=l,l=f,f=t),A.precision(S)):[[r,l],[n,f]]},A.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],c=+n[0][1],o=+n[1][1],e>t&&(n=e,e=t,t=n),c>o&&(n=c,c=o,o=n),A.precision(S)):[[e,c],[t,o]]},A.step=function(t){return arguments.length?A.stepMajor(t).stepMinor(t):A.stepMinor()},A.stepMajor=function(t){return arguments.length?(m=+t[0],w=+t[1],A):[m,w]},A.stepMinor=function(t){return arguments.length?(v=+t[0],x=+t[1],A):[v,x]},A.precision=function(v){return arguments.length?(S=+v,h=hl(c,o,90),d=pl(e,t,S),y=hl(l,f,90),_=pl(r,n,S),A):S},A.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function yl(){return gl()()}var _l,vl,xl,ml,bl=function(a,b){var t=a[0]*Ls,e=a[1]*Ls,n=b[0]*Ls,r=b[1]*Ls,o=Gs(e),c=js(e),f=Gs(r),l=js(r),h=o*Gs(t),d=o*js(t),y=f*Gs(n),_=f*js(n),v=2*Ys(zs(Hs(r-e)+o*f*Hs(n-t))),x=js(v),m=v?function(t){var e=js(t*=v)/x,n=js(v-t)/x,r=n*h+e*y,o=n*d+e*_,f=n*c+e*l;return[Vs(o,r)*Es,Vs(f,zs(r*r+o*o))*Es]}:function(){return[t*Es,e*Es]};return m.distance=v,m},wl=function(t){return t},Sl=bs(),Al=bs(),Tl={point:Us,lineStart:Us,lineEnd:Us,polygonStart:function(){Tl.lineStart=Pl,Tl.lineEnd=El},polygonEnd:function(){Tl.lineStart=Tl.lineEnd=Tl.point=Us,Sl.add(Os(Al)),Al.reset()},result:function(){var area=Sl/2;return Sl.reset(),area}};function Pl(){Tl.point=Cl}function Cl(t,e){Tl.point=Ml,_l=xl=t,vl=ml=e}function Ml(t,e){Al.add(ml*t-xl*e),xl=t,ml=e}function El(){Ml(_l,vl)}var Ll=Tl,Ol=1/0,kl=Ol,Vl=-Ol,Gl=Vl;var Rl,Il,Nl,Dl,jl={point:function(t,e){t<Ol&&(Ol=t);t>Vl&&(Vl=t);e<kl&&(kl=e);e>Gl&&(Gl=e)},lineStart:Us,lineEnd:Us,polygonStart:Us,polygonEnd:Us,result:function(){var t=[[Ol,kl],[Vl,Gl]];return Vl=Gl=-(kl=Ol=1/0),t}},Fl=0,zl=0,Xl=0,Bl=0,Yl=0,Hl=0,Ul=0,Wl=0,ql=0,Ql={point:$l,lineStart:Zl,lineEnd:eh,polygonStart:function(){Ql.lineStart=nh,Ql.lineEnd=rh},polygonEnd:function(){Ql.point=$l,Ql.lineStart=Zl,Ql.lineEnd=eh},result:function(){var t=ql?[Ul/ql,Wl/ql]:Hl?[Bl/Hl,Yl/Hl]:Xl?[Fl/Xl,zl/Xl]:[NaN,NaN];return Fl=zl=Xl=Bl=Yl=Hl=Ul=Wl=ql=0,t}};function $l(t,e){Fl+=t,zl+=e,++Xl}function Zl(){Ql.point=Kl}function Kl(t,e){Ql.point=Jl,$l(Nl=t,Dl=e)}function Jl(t,e){var n=t-Nl,r=e-Dl,o=zs(n*n+r*r);Bl+=o*(Nl+t)/2,Yl+=o*(Dl+e)/2,Hl+=o,$l(Nl=t,Dl=e)}function eh(){Ql.point=$l}function nh(){Ql.point=ih}function rh(){oh(Rl,Il)}function ih(t,e){Ql.point=oh,$l(Rl=Nl=t,Il=Dl=e)}function oh(t,e){var n=t-Nl,r=e-Dl,o=zs(n*n+r*r);Bl+=o*(Nl+t)/2,Yl+=o*(Dl+e)/2,Hl+=o,Ul+=(o=Dl*t-Nl*e)*(Nl+t),Wl+=o*(Dl+e),ql+=3*o,$l(Nl=t,Dl=e)}var ah=Ql;function uh(t){this._context=t}uh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ms)}},result:Us};var sh,ch,fh,lh,hh,dh=bs(),ph={point:Us,lineStart:function(){ph.point=gh},lineEnd:function(){sh&&yh(ch,fh),ph.point=Us},polygonStart:function(){sh=!0},polygonEnd:function(){sh=null},result:function(){var t=+dh;return dh.reset(),t}};function gh(t,e){ph.point=yh,ch=lh=t,fh=hh=e}function yh(t,e){lh-=t,hh-=e,dh.add(zs(lh*lh+hh*hh)),lh=t,hh=e}var _h=ph;function vh(){this._string=[]}function xh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}vh.prototype={_radius:4.5,_circle:xh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=xh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var mh=function(t,e){var n,r,o=4.5;function path(object){return object&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),rc(object,n(r))),r.result()}return path.area=function(object){return rc(object,n(Ll)),Ll.result()},path.measure=function(object){return rc(object,n(_h)),_h.result()},path.bounds=function(object){return rc(object,n(jl)),jl.result()},path.centroid=function(object){return rc(object,n(ah)),ah.result()},path.projection=function(e){return arguments.length?(n=null==e?(t=null,wl):(t=e).stream,path):t},path.context=function(t){return arguments.length?(r=null==t?(e=null,new vh):new uh(e=t),"function"!=typeof o&&r.pointRadius(o),path):e},path.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),path):o},path.projection(t).context(e)},bh=function(t){return{stream:wh(t)}};function wh(t){return function(e){var s=new Sh;for(var n in t)s[n]=t[n];return s.stream=e,s}}function Sh(){}function Ah(t,e,object){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=n&&t.clipExtent(null),rc(object,t.stream(jl)),e(jl.result()),null!=n&&t.clipExtent(n),t}function Th(t,e,object){return Ah(t,(function(b){var n=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(n/(b[1][0]-b[0][0]),r/(b[1][1]-b[0][1])),c=+e[0][0]+(n-o*(b[1][0]+b[0][0]))/2,f=+e[0][1]+(r-o*(b[1][1]+b[0][1]))/2;t.scale(150*o).translate([c,f])}),object)}function Ph(t,e,object){return Th(t,[[0,0],e],object)}function Ch(t,e,object){return Ah(t,(function(b){var n=+e,r=n/(b[1][0]-b[0][0]),o=(n-r*(b[1][0]+b[0][0]))/2,c=-r*b[0][1];t.scale(150*r).translate([o,c])}),object)}function Mh(t,e,object){return Ah(t,(function(b){var n=+e,r=n/(b[1][1]-b[0][1]),o=-r*b[0][0],c=(n-r*(b[1][1]+b[0][1]))/2;t.scale(150*r).translate([o,c])}),object)}Sh.prototype={constructor:Sh,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Eh=Gs(30*Ls),Lh=function(t,e){return+e?function(t,e){function n(r,o,c,f,l,h,d,y,_,v,x,m,w,S){var A=d-r,T=y-o,P=A*A+T*T;if(P>4*e&&w--){var a=f+v,b=l+x,C=h+m,M=zs(a*a+b*b+C*C),E=Ys(C/=M),L=Os(Os(C)-1)<1e-6||Os(c-_)<1e-6?(c+_)/2:Vs(b,a),p=t(L,E),O=p[0],k=p[1],V=O-r,G=k-o,R=T*V-A*G;(R*R/P>e||Os((A*V+T*G)/P-.5)>.3||f*v+l*x+h*m<Eh)&&(n(r,o,c,f,l,h,O,k,L,a/=M,b/=M,C,w,S),S.point(O,k),n(O,k,L,a,b,C,d,y,_,v,x,m,w,S))}}return function(e){var r,o,c,f,l,h,d,y,_,v,x,m,w={point:S,lineStart:A,lineEnd:P,polygonStart:function(){e.polygonStart(),w.lineStart=C},polygonEnd:function(){e.polygonEnd(),w.lineStart=A}};function S(n,r){n=t(n,r),e.point(n[0],n[1])}function A(){y=NaN,w.point=T,e.lineStart()}function T(r,o){var c=dc([r,o]),p=t(r,o);n(y,_,d,v,x,m,y=p[0],_=p[1],d=r,v=c[0],x=c[1],m=c[2],16,e),e.point(y,_)}function P(){w.point=S,e.lineEnd()}function C(){A(),w.point=M,w.lineEnd=E}function M(t,e){T(r=t,e),o=y,c=_,f=v,l=x,h=m,w.point=T}function E(){n(y,_,d,v,x,m,o,c,r,f,l,h,16,e),w.lineEnd=P,P()}return w}}(t,e):function(t){return wh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var Oh=wh({point:function(t,e){this.stream.point(t*Ls,e*Ls)}});function kh(t,e,n,r,o){function c(c,f){return[e+t*(c*=r),n-t*(f*=o)]}return c.invert=function(c,f){return[(c-e)/t*r,(n-f)/t*o]},c}function Vh(t,e,n,r,o,c){var f=Gs(c),l=js(c),a=f*t,b=l*t,h=f/t,d=l/t,y=(l*n-f*e)/t,_=(l*e+f*n)/t;function v(t,c){return[a*(t*=r)-b*(c*=o)+e,n-b*t-a*c]}return v.invert=function(t,e){return[r*(h*t-d*e+y),o*(_-d*t-h*e)]},v}function Gh(t){return Rh((function(){return t}))()}function Rh(t){var e,n,r,o,c,f,l,h,d,y,_=150,v=480,x=250,m=0,w=0,S=0,A=0,T=0,P=0,C=1,M=1,E=null,L=jf,O=null,k=wl,V=.5;function G(t){return h(t[0]*Ls,t[1]*Ls)}function R(t){return(t=h.invert(t[0],t[1]))&&[t[0]*Es,t[1]*Es]}function I(){var t=Vh(_,0,0,C,M,P).apply(null,e(m,w)),r=(P?Vh:kh)(_,v-t[0],x-t[1],C,M,P);return n=mf(S,A,T),l=vf(e,r),h=vf(n,l),f=Lh(l,V),N()}function N(){return d=y=null,G}return G.stream=function(t){return d&&y===t?d:d=Oh(function(t){return wh({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(L(f(k(y=t)))))},G.preclip=function(t){return arguments.length?(L=t,E=void 0,N()):L},G.postclip=function(t){return arguments.length?(k=t,O=r=o=c=null,N()):k},G.clipAngle=function(t){return arguments.length?(L=+t?Ff(E=t*Ls):(E=null,jf),N()):E*Es},G.clipExtent=function(t){return arguments.length?(k=null==t?(O=r=o=c=null,wl):zf(O=+t[0][0],r=+t[0][1],o=+t[1][0],c=+t[1][1]),N()):null==O?null:[[O,r],[o,c]]},G.scale=function(t){return arguments.length?(_=+t,I()):_},G.translate=function(t){return arguments.length?(v=+t[0],x=+t[1],I()):[v,x]},G.center=function(t){return arguments.length?(m=t[0]%360*Ls,w=t[1]%360*Ls,I()):[m*Es,w*Es]},G.rotate=function(t){return arguments.length?(S=t[0]%360*Ls,A=t[1]%360*Ls,T=t.length>2?t[2]%360*Ls:0,I()):[S*Es,A*Es,T*Es]},G.angle=function(t){return arguments.length?(P=t%360*Ls,I()):P*Es},G.reflectX=function(t){return arguments.length?(C=t?-1:1,I()):C<0},G.reflectY=function(t){return arguments.length?(M=t?-1:1,I()):M<0},G.precision=function(t){return arguments.length?(f=Lh(l,V=t*t),N()):zs(V)},G.fitExtent=function(t,object){return Th(G,t,object)},G.fitSize=function(t,object){return Ph(G,t,object)},G.fitWidth=function(t,object){return Ch(G,t,object)},G.fitHeight=function(t,object){return Mh(G,t,object)},function(){return e=t.apply(this,arguments),G.invert=e.invert&&R,I()}}function Ih(t){var e=0,n=Ts/3,r=Rh(t),p=r(e,n);return p.parallels=function(t){return arguments.length?r(e=t[0]*Ls,n=t[1]*Ls):[e*Es,n*Es]},p}function Nh(t,e){var n=js(t),r=(n+js(e))/2;if(Os(r)<1e-6)return function(t){var e=Gs(t);function n(t,n){return[t*e,js(n)/e]}return n.invert=function(t,n){return[t/e,Ys(n*e)]},n}(t);var o=1+n*(2*r-n),c=zs(o)/r;function f(t,e){var n=zs(o-2*r*js(e))/r;return[n*js(t*=r),c-n*Gs(t)]}return f.invert=function(t,e){var n=c-e,f=Vs(t,Os(n))*Fs(n);return n*r<0&&(f-=Ts*Fs(t)*Fs(n)),[f/r,Ys((o-(t*t+n*n)*r*r)/(2*r))]},f}var Dh=function(){return Ih(Nh).scale(155.424).center([0,33.6442])},jh=function(){return Dh().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Fh=function(){var t,e,n,r,o,c,f=jh(),l=Dh().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=Dh().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,e){c=[t,e]}};function y(t){var e=t[0],f=t[1];return c=null,n.point(e,f),c||(r.point(e,f),c)||(o.point(e,f),c)}function _(){return t=e=null,y}return y.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?h:f).invert(t)},y.stream=function(n){return t&&e===n?t:(r=[f.stream(e=n),l.stream(n),h.stream(n)],o=r.length,t={point:function(t,e){for(var i=-1;++i<o;)r[i].point(t,e)},sphere:function(){for(var i=-1;++i<o;)r[i].sphere()},lineStart:function(){for(var i=-1;++i<o;)r[i].lineStart()},lineEnd:function(){for(var i=-1;++i<o;)r[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<o;)r[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<o;)r[i].polygonEnd()}});var r,o},y.precision=function(t){return arguments.length?(f.precision(t),l.precision(t),h.precision(t),_()):f.precision()},y.scale=function(t){return arguments.length?(f.scale(t),l.scale(.35*t),h.scale(t),y.translate(f.translate())):f.scale()},y.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),c=+t[0],y=+t[1];return n=f.translate(t).clipExtent([[c-.455*e,y-.238*e],[c+.455*e,y+.238*e]]).stream(d),r=l.translate([c-.307*e,y+.201*e]).clipExtent([[c-.425*e+1e-6,y+.12*e+1e-6],[c-.214*e-1e-6,y+.234*e-1e-6]]).stream(d),o=h.translate([c-.205*e,y+.212*e]).clipExtent([[c-.214*e+1e-6,y+.166*e+1e-6],[c-.115*e-1e-6,y+.234*e-1e-6]]).stream(d),_()},y.fitExtent=function(t,object){return Th(y,t,object)},y.fitSize=function(t,object){return Ph(y,t,object)},y.fitWidth=function(t,object){return Ch(y,t,object)},y.fitHeight=function(t,object){return Mh(y,t,object)},y.scale(1070)};function zh(t){return function(e,n){var r=Gs(e),o=Gs(n),c=t(r*o);return[c*o*js(e),c*js(n)]}}function Xh(t){return function(e,n){var r=zs(e*e+n*n),o=t(r),c=js(o),f=Gs(o);return[Vs(e*c,r*f),Ys(r&&n*c/r)]}}var Bh=zh((function(t){return zs(2/(1+t))}));Bh.invert=Xh((function(t){return 2*Ys(t/2)}));var Yh=function(){return Gh(Bh).scale(124.75).clipAngle(179.999)},Hh=zh((function(t){return(t=Bs(t))&&t/js(t)}));Hh.invert=Xh((function(t){return t}));var Uh=function(){return Gh(Hh).scale(79.4188).clipAngle(179.999)};function Wh(t,e){return[t,Ns(Xs((Ps+e)/2))]}Wh.invert=function(t,e){return[t,2*ks(Is(e))-Ps]};var qh=function(){return Qh(Wh).scale(961/Ms)};function Qh(t){var e,n,r,o=Gh(t),c=o.center,f=o.scale,l=o.translate,h=o.clipExtent,d=null;function y(){var c=Ts*f(),l=o(Af(o.rotate()).invert([0,0]));return h(null==d?[[l[0]-c,l[1]-c],[l[0]+c,l[1]+c]]:t===Wh?[[Math.max(l[0]-c,d),e],[Math.min(l[0]+c,n),r]]:[[d,Math.max(l[1]-c,e)],[n,Math.min(l[1]+c,r)]])}return o.scale=function(t){return arguments.length?(f(t),y()):f()},o.translate=function(t){return arguments.length?(l(t),y()):l()},o.center=function(t){return arguments.length?(c(t),y()):c()},o.clipExtent=function(t){return arguments.length?(null==t?d=e=n=r=null:(d=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),y()):null==d?null:[[d,e],[n,r]]},y()}function $h(t){return Xs((Ps+t)/2)}function Zh(t,e){var n=Gs(t),r=t===e?js(t):Ns(n/Gs(e))/Ns($h(e)/$h(t)),o=n*Ds($h(t),r)/r;if(!r)return Wh;function c(t,e){o>0?e<1e-6-Ps&&(e=1e-6-Ps):e>Ps-1e-6&&(e=Ps-1e-6);var n=o/Ds($h(e),r);return[n*js(r*t),o-n*Gs(r*t)]}return c.invert=function(t,e){var n=o-e,c=Fs(r)*zs(t*t+n*n),f=Vs(t,Os(n))*Fs(n);return n*r<0&&(f-=Ts*Fs(t)*Fs(n)),[f/r,2*ks(Ds(o/c,1/r))-Ps]},c}var Kh=function(){return Ih(Zh).scale(109.5).parallels([30,30])};function Jh(t,e){return[t,e]}Jh.invert=Jh;var ed=function(){return Gh(Jh).scale(152.63)};function nd(t,e){var n=Gs(t),r=t===e?js(t):(n-Gs(e))/(e-t),g=n/r+t;if(Os(r)<1e-6)return Jh;function o(t,e){var n=g-e,o=r*t;return[n*js(o),g-n*Gs(o)]}return o.invert=function(t,e){var n=g-e,o=Vs(t,Os(n))*Fs(n);return n*r<0&&(o-=Ts*Fs(t)*Fs(n)),[o/r,g-Fs(r)*zs(t*t+n*n)]},o}var rd=function(){return Ih(nd).scale(131.154).center([0,13.9389])},id=1.340264,od=-.081106,ad=893e-6,ud=.003796,sd=zs(3)/2;function cd(t,e){var n=Ys(sd*js(e)),r=n*n,o=r*r*r;return[t*Gs(n)/(sd*(id+3*od*r+o*(7*ad+9*ud*r))),n*(id+od*r+o*(ad+ud*r))]}cd.invert=function(t,e){for(var n,r=e,o=r*r,c=o*o*o,i=0;i<12&&(c=(o=(r-=n=(r*(id+od*o+c*(ad+ud*o))-e)/(id+3*od*o+c*(7*ad+9*ud*o)))*r)*o*o,!(Os(n)<1e-12));++i);return[sd*t*(id+3*od*o+c*(7*ad+9*ud*o))/Gs(r),Ys(js(r)/sd)]};var fd=function(){return Gh(cd).scale(177.158)};function ld(t,e){var n=Gs(e),r=Gs(t)*n;return[n*js(t)/r,js(e)/r]}ld.invert=Xh(ks);var hd=function(){return Gh(ld).scale(144.049).clipAngle(60)},pd=function(){var t,e,n,r,o,c,f,l=1,h=0,d=0,y=1,_=1,v=0,x=null,m=1,w=1,S=wh({point:function(t,e){var p=P([t,e]);this.stream.point(p[0],p[1])}}),A=wl;function T(){return m=l*y,w=l*_,c=f=null,P}function P(p){var n=p[0]*m,r=p[1]*w;if(v){var o=r*t-n*e;n=n*t+r*e,r=o}return[n+h,r+d]}return P.invert=function(p){var n=p[0]-h,r=p[1]-d;if(v){var o=r*t+n*e;n=n*t-r*e,r=o}return[n/m,r/w]},P.stream=function(t){return c&&f===t?c:c=S(A(f=t))},P.postclip=function(t){return arguments.length?(A=t,x=n=r=o=null,T()):A},P.clipExtent=function(t){return arguments.length?(A=null==t?(x=n=r=o=null,wl):zf(x=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),T()):null==x?null:[[x,n],[r,o]]},P.scale=function(t){return arguments.length?(l=+t,T()):l},P.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],T()):[h,d]},P.angle=function(n){return arguments.length?(e=js(v=n%360*Ls),t=Gs(v),T()):v*Es},P.reflectX=function(t){return arguments.length?(y=t?-1:1,T()):y<0},P.reflectY=function(t){return arguments.length?(_=t?-1:1,T()):_<0},P.fitExtent=function(t,object){return Th(P,t,object)},P.fitSize=function(t,object){return Ph(P,t,object)},P.fitWidth=function(t,object){return Ch(P,t,object)},P.fitHeight=function(t,object){return Mh(P,t,object)},P};function gd(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}gd.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,c=o*o;r-=n=(r*(1.007226+o*(.015085+c*(.028874*o-.044475-.005916*c)))-e)/(1.007226+o*(.045255+c*(.259866*o-.311325-.005916*11*c)))}while(Os(n)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var yd=function(){return Gh(gd).scale(175.295)};function _d(t,e){return[Gs(e)*js(t),js(e)]}_d.invert=Xh(Ys);var vd=function(){return Gh(_d).scale(249.5).clipAngle(90.000001)};function xd(t,e){var n=Gs(e),r=1+Gs(t)*n;return[n*js(t)/r,js(e)/r]}xd.invert=Xh((function(t){return 2*ks(t)}));var md=function(){return Gh(xd).scale(250).clipAngle(142)};function bd(t,e){return[Ns(Xs((Ps+e)/2)),-t]}bd.invert=function(t,e){return[-e,2*ks(Is(t))-Ps]};var wd=function(){var t=Qh(bd),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function Sd(a,b){return a.parent===b.parent?1:2}function Ad(t,e){return t+e.x}function Td(t,e){return Math.max(t,e.y)}var Pd=function(){var t=Sd,e=1,n=1,r=!1;function o(o){var c,f=0;o.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Ad,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Td,0)}(n)):(e.x=c?f+=t(e,c):0,e.y=0,c=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(o),h=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(o),d=l.x-t(l,h)/2,y=h.x+t(h,l)/2;return o.eachAfter(r?function(t){t.x=(t.x-o.x)*e,t.y=(o.y-t.y)*n}:function(t){t.x=(t.x-d)/(y-d)*e,t.y=(1-(o.y?t.y/o.y:1))*n})}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],o):r?null:[e,n]},o.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],o):r?[e,n]:null},o};function Cd(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function Md(data,t){var e,n,r,i,o,c=new kd(data),f=+data.value&&(c.value=data.value),l=[c];for(null==t&&(t=Ed);e=l.pop();)if(f&&(e.value=+e.data.value),(r=t(e.data))&&(o=r.length))for(e.children=new Array(o),i=o-1;i>=0;--i)l.push(n=e.children[i]=new kd(r[i])),n.parent=e,n.depth=e.depth+1;return c.eachBefore(Od)}function Ed(t){return t.children}function Ld(t){t.data=t.data.data}function Od(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function kd(data){this.data=data,this.depth=this.height=0,this.parent=null}kd.prototype=Md.prototype={constructor:kd,count:function(){return this.eachAfter(Cd)},each:function(t){var e,n,i,r,o=this,c=[o];do{for(e=c.reverse(),c=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)c.push(n[i])}while(c.length);return this},eachAfter:function(t){for(var e,i,n,r=this,o=[r],c=[];r=o.pop();)if(c.push(r),e=r.children)for(i=0,n=e.length;i<n;++i)o.push(e[i]);for(;r=c.pop();)t(r);return this},eachBefore:function(t){for(var e,i,n=this,r=[n];n=r.pop();)if(t(n),e=n.children)for(i=e.length-1;i>=0;--i)r.push(e[i]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(a,b){if(a===b)return a;var t=a.ancestors(),e=b.ancestors(),n=null;a=t.pop(),b=e.pop();for(;a===b;)n=a,a=t.pop(),b=e.pop();return n}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Md(this).eachBefore(Ld)}};var Vd=Array.prototype.slice;var Gd=function(t){for(var p,e,i=0,n=(t=function(t){for(var e,i,n=t.length;n;)i=Math.random()*n--|0,e=t[n],t[n]=t[i],t[i]=e;return t}(Vd.call(t))).length,r=[];i<n;)p=t[i],e&&Nd(e,p)?++i:(e=jd(r=Rd(r,p)),i=0);return e};function Rd(t,p){var i,e;if(Dd(p,t))return[p];for(i=0;i<t.length;++i)if(Id(p,t[i])&&Dd(Fd(t[i],p),t))return[t[i],p];for(i=0;i<t.length-1;++i)for(e=i+1;e<t.length;++e)if(Id(Fd(t[i],t[e]),p)&&Id(Fd(t[i],p),t[e])&&Id(Fd(t[e],p),t[i])&&Dd(zd(t[i],t[e],p),t))return[t[i],t[e],p];throw new Error}function Id(a,b){var t=a.r-b.r,e=b.x-a.x,n=b.y-a.y;return t<0||t*t<e*e+n*n}function Nd(a,b){var t=a.r-b.r+1e-6,e=b.x-a.x,n=b.y-a.y;return t>0&&t*t>e*e+n*n}function Dd(a,t){for(var i=0;i<t.length;++i)if(!Nd(a,t[i]))return!1;return!0}function jd(t){switch(t.length){case 1:return{x:(a=t[0]).x,y:a.y,r:a.r};case 2:return Fd(t[0],t[1]);case 3:return zd(t[0],t[1],t[2])}var a}function Fd(a,b){var t=a.x,e=a.y,n=a.r,r=b.x,o=b.y,c=b.r,f=r-t,l=o-e,h=c-n,d=Math.sqrt(f*f+l*l);return{x:(t+r+f/d*h)/2,y:(e+o+l/d*h)/2,r:(d+n+c)/2}}function zd(a,b,t){var e=a.x,n=a.y,r=a.r,o=b.x,c=b.y,f=b.r,l=t.x,h=t.y,d=t.r,y=e-o,_=e-l,v=n-c,x=n-h,m=f-r,w=d-r,S=e*e+n*n-r*r,A=S-o*o-c*c+f*f,T=S-l*l-h*h+d*d,P=_*v-y*x,C=(v*T-x*A)/(2*P)-e,M=(x*m-v*w)/P,E=(_*A-y*T)/(2*P)-n,L=(y*w-_*m)/P,O=M*M+L*L-1,k=2*(r+C*M+E*L),V=C*C+E*E-r*r,G=-(O?(k+Math.sqrt(k*k-4*O*V))/(2*O):V/k);return{x:e+C+M*G,y:n+E+L*G,r:G}}function Xd(b,a,t){var e,n,r,o,c=b.x-a.x,f=b.y-a.y,l=c*c+f*f;l?(n=a.r+t.r,n*=n,o=b.r+t.r,n>(o*=o)?(e=(l+o-n)/(2*l),r=Math.sqrt(Math.max(0,o/l-e*e)),t.x=b.x-e*c-r*f,t.y=b.y-e*f+r*c):(e=(l+n-o)/(2*l),r=Math.sqrt(Math.max(0,n/l-e*e)),t.x=a.x+e*c-r*f,t.y=a.y+e*f+r*c)):(t.x=a.x+t.r,t.y=a.y)}function Bd(a,b){var t=a.r+b.r-1e-6,e=b.x-a.x,n=b.y-a.y;return t>0&&t*t>e*e+n*n}function Yd(t){var a=t._,b=t.next._,e=a.r+b.r,n=(a.x*b.r+b.x*a.r)/e,r=(a.y*b.r+b.y*a.r)/e;return n*n+r*r}function Hd(circle){this._=circle,this.next=null,this.previous=null}function Ud(t){if(!(n=t.length))return 0;var a,b,e,n,r,o,i,c,f,l,h;if((a=t[0]).x=0,a.y=0,!(n>1))return a.r;if(b=t[1],a.x=-b.r,b.x=a.r,b.y=0,!(n>2))return a.r+b.r;Xd(b,a,e=t[2]),a=new Hd(a),b=new Hd(b),e=new Hd(e),a.next=e.previous=b,b.next=a.previous=e,e.next=b.previous=a;t:for(i=3;i<n;++i){Xd(a._,b._,e=t[i]),e=new Hd(e),c=b.next,f=a.previous,l=b._.r,h=a._.r;do{if(l<=h){if(Bd(c._,e._)){b=c,a.next=b,b.previous=a,--i;continue t}l+=c._.r,c=c.next}else{if(Bd(f._,e._)){(a=f).next=b,b.previous=a,--i;continue t}h+=f._.r,f=f.previous}}while(c!==f.next);for(e.previous=a,e.next=b,a.next=b.previous=b=e,r=Yd(a);(e=e.next)!==b;)(o=Yd(e))<r&&(a=e,r=o);b=a.next}for(a=[b._],e=b;(e=e.next)!==b;)a.push(e._);for(e=Gd(a),i=0;i<n;++i)(a=t[i]).x-=e.x,a.y-=e.y;return e.r}var Wd=function(t){return Ud(t),t};function qd(t){return null==t?null:Qd(t)}function Qd(t){if("function"!=typeof t)throw new Error;return t}function $d(){return 0}var Zd=function(t){return function(){return t}};function Kd(t){return Math.sqrt(t.value)}var Jd=function(){var t=null,e=1,n=1,r=$d;function o(o){return o.x=e/2,o.y=n/2,t?o.eachBefore(tp(t)).eachAfter(ep(r,.5)).eachBefore(np(1)):o.eachBefore(tp(Kd)).eachAfter(ep($d,1)).eachAfter(ep(r,o.r/Math.min(e,n))).eachBefore(np(Math.min(e,n)/(2*o.r))),o}return o.radius=function(e){return arguments.length?(t=qd(e),o):t},o.size=function(t){return arguments.length?(e=+t[0],n=+t[1],o):[e,n]},o.padding=function(t){return arguments.length?(r="function"==typeof t?t:Zd(+t),o):r},o};function tp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ep(t,e){return function(n){if(r=n.children){var r,i,o,c=r.length,f=t(n)*e||0;if(f)for(i=0;i<c;++i)r[i].r+=f;if(o=Ud(r),f)for(i=0;i<c;++i)r[i].r-=f;n.r=o+f}}}function np(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var ip=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},op=function(t,e,n,r,o){for(var c,f=t.children,i=-1,l=f.length,h=t.value&&(r-e)/t.value;++i<l;)(c=f[i]).y0=n,c.y1=o,c.x0=e,c.x1=e+=c.value*h},ap=function(){var t=1,e=1,n=0,r=!1;function o(o){var c=o.height+1;return o.x0=o.y0=n,o.x1=t,o.y1=e/c,o.eachBefore(function(t,e){return function(r){r.children&&op(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var o=r.x0,c=r.y0,f=r.x1-n,l=r.y1-n;f<o&&(o=f=(o+f)/2),l<c&&(c=l=(c+l)/2),r.x0=o,r.y0=c,r.x1=f,r.y1=l}}(e,c)),r&&o.eachBefore(ip),o}return o.round=function(t){return arguments.length?(r=!!t,o):r},o.size=function(n){return arguments.length?(t=+n[0],e=+n[1],o):[t,e]},o.padding=function(t){return arguments.length?(n=+t,o):n},o},up={depth:-1},sp={};function cp(t){return t.id}function fp(t){return t.parentId}var lp=function(){var t=cp,e=fp;function n(data){var n,i,r,o,c,f,l,h=data.length,d=new Array(h),y={};for(i=0;i<h;++i)n=data[i],c=d[i]=new kd(n),null!=(f=t(n,i,data))&&(f+="")&&(y[l="$"+(c.id=f)]=l in y?sp:c);for(i=0;i<h;++i)if(c=d[i],null!=(f=e(data[i],i,data))&&(f+="")){if(!(o=y["$"+f]))throw new Error("missing: "+f);if(o===sp)throw new Error("ambiguous: "+f);o.children?o.children.push(c):o.children=[c],c.parent=o}else{if(r)throw new Error("multiple roots");r=c}if(!r)throw new Error("no root");if(r.parent=up,r.eachBefore((function(t){t.depth=t.parent.depth+1,--h})).eachBefore(Od),r.parent=null,h>0)throw new Error("cycle");return r}return n.id=function(e){return arguments.length?(t=Qd(e),n):t},n.parentId=function(t){return arguments.length?(e=Qd(t),n):e},n};function hp(a,b){return a.parent===b.parent?1:2}function dp(t){var e=t.children;return e?e[0]:t.t}function pp(t){var e=t.children;return e?e[e.length-1]:t.t}function gp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function yp(t,e,n){return t.a.parent===e.parent?t.a:n}function _p(t,i){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}_p.prototype=Object.create(kd.prototype);var vp=function(){var t=hp,e=1,n=1,r=null;function o(o){var h=function(t){for(var e,n,r,i,o,c=new _p(t,0),f=[c];e=f.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)f.push(n=e.children[i]=new _p(r[i],i)),n.parent=e;return(c.parent=new _p(null,0)).children=[c],c}(o);if(h.eachAfter(c),h.parent.m=-h.z,h.eachBefore(f),r)o.eachBefore(l);else{var d=o,y=o,_=o;o.eachBefore((function(t){t.x<d.x&&(d=t),t.x>y.x&&(y=t),t.depth>_.depth&&(_=t)}));var s=d===y?1:t(d,y)/2,v=s-d.x,x=e/(y.x+s+v),m=n/(_.depth||1);o.eachBefore((function(t){t.x=(t.x+v)*x,t.y=t.depth*m}))}return o}function c(e){var n=e.children,r=e.parent.children,o=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)(e=o[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var c=(n[0].z+n[n.length-1].z)/2;o?(e.z=o.z+t(e._,o._),e.m=e.z-c):e.z=c}else o&&(e.z=o.z+t(e._,o._));e.parent.A=function(e,n,r){if(n){for(var o,c=e,f=e,l=n,h=c.parent.children[0],d=c.m,y=f.m,_=l.m,v=h.m;l=pp(l),c=dp(c),l&&c;)h=dp(h),(f=pp(f)).a=e,(o=l.z+_-c.z-d+t(l._,c._))>0&&(gp(yp(l,e,r),e,o),d+=o,y+=o),_+=l.m,d+=c.m,v+=h.m,y+=f.m;l&&!pp(f)&&(f.t=l,f.m+=_-y),c&&!dp(h)&&(h.t=c,h.m+=d-v,r=e)}return r}(e,o,e.parent.A||r[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*n}return o.separation=function(e){return arguments.length?(t=e,o):t},o.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],o):r?null:[e,n]},o.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],o):r?[e,n]:null},o},xp=function(t,e,n,r,o){for(var c,f=t.children,i=-1,l=f.length,h=t.value&&(o-n)/t.value;++i<l;)(c=f[i]).x0=e,c.x1=r,c.y0=n,c.y1=n+=c.value*h},mp=(1+Math.sqrt(5))/2;function bp(t,e,n,r,o,c){for(var f,l,h,d,y,_,v,x,m,w,S,A=[],T=e.children,P=0,C=0,M=T.length,E=e.value;P<M;){h=o-n,d=c-r;do{y=T[C++].value}while(!y&&C<M);for(_=v=y,S=y*y*(w=Math.max(d/h,h/d)/(E*t)),m=Math.max(v/S,S/_);C<M;++C){if(y+=l=T[C].value,l<_&&(_=l),l>v&&(v=l),S=y*y*w,(x=Math.max(v/S,S/_))>m){y-=l;break}m=x}A.push(f={value:y,dice:h<d,children:T.slice(P,C)}),f.dice?op(f,n,r,o,E?r+=d*y/E:c):xp(f,n,r,E?n+=h*y/E:o,c),E-=y,P=C}return A}var wp=function t(e){function n(t,n,r,o,c){bp(e,t,n,r,o,c)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mp),Sp=function(){var t=wp,e=!1,n=1,r=1,o=[0],c=$d,f=$d,l=$d,h=$d,d=$d;function y(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(_),o=[0],e&&t.eachBefore(ip),t}function _(e){var p=o[e.depth],n=e.x0+p,r=e.y0+p,y=e.x1-p,_=e.y1-p;y<n&&(n=y=(n+y)/2),_<r&&(r=_=(r+_)/2),e.x0=n,e.y0=r,e.x1=y,e.y1=_,e.children&&(p=o[e.depth+1]=c(e)/2,n+=d(e)-p,r+=f(e)-p,(y-=l(e)-p)<n&&(n=y=(n+y)/2),(_-=h(e)-p)<r&&(r=_=(r+_)/2),t(e,n,r,y,_))}return y.round=function(t){return arguments.length?(e=!!t,y):e},y.size=function(t){return arguments.length?(n=+t[0],r=+t[1],y):[n,r]},y.tile=function(e){return arguments.length?(t=Qd(e),y):t},y.padding=function(t){return arguments.length?y.paddingInner(t).paddingOuter(t):y.paddingInner()},y.paddingInner=function(t){return arguments.length?(c="function"==typeof t?t:Zd(+t),y):c},y.paddingOuter=function(t){return arguments.length?y.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):y.paddingTop()},y.paddingTop=function(t){return arguments.length?(f="function"==typeof t?t:Zd(+t),y):f},y.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:Zd(+t),y):l},y.paddingBottom=function(t){return arguments.length?(h="function"==typeof t?t:Zd(+t),y):h},y.paddingLeft=function(t){return arguments.length?(d="function"==typeof t?t:Zd(+t),y):d},y},Ap=function(t,e,n,r,o){var i,c,f=t.children,l=f.length,h=new Array(l+1);for(h[0]=c=i=0;i<l;++i)h[i+1]=c+=f[i].value;!function t(i,e,n,r,o,c,l){if(i>=e-1){var d=f[i];return d.x0=r,d.y0=o,d.x1=c,void(d.y1=l)}var y=h[i],_=n/2+y,v=i+1,x=e-1;for(;v<x;){var m=v+x>>>1;h[m]<_?v=m+1:x=m}_-h[v-1]<h[v]-_&&i+1<v&&--v;var w=h[v]-y,S=n-w;if(c-r>l-o){var A=(r*S+c*w)/n;t(i,v,w,r,o,A,l),t(v,e,S,A,o,c,l)}else{var T=(o*S+l*w)/n;t(i,v,w,r,o,c,T),t(v,e,S,r,T,c,l)}}(0,l,t.value,e,n,r,o)},Tp=function(t,e,n,r,o){(1&t.depth?xp:op)(t,e,n,r,o)},Pp=function t(e){function n(t,n,r,o,c){if((f=t._squarify)&&f.ratio===e)for(var f,l,h,i,d,y=-1,_=f.length,v=t.value;++y<_;){for(h=(l=f[y]).children,i=l.value=0,d=h.length;i<d;++i)l.value+=h[i].value;l.dice?op(l,n,r,o,r+=(c-r)*l.value/v):xp(l,n,r,n+=(o-n)*l.value/v,c),v-=l.value}else t._squarify=f=bp(e,t,n,r,o,c),f.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(mp),Cp=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Mp=function(a,b){var i=xn(+a,+b);return function(t){var e=i(t);return e-360*Math.floor(e/360)}},Ep=function(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}},Lp=Math.SQRT2;function Op(t){return((t=Math.exp(t))+1/t)/2}var kp=function(t,e){var i,n,r=t[0],o=t[1],c=t[2],f=e[0],l=e[1],h=e[2],d=f-r,y=l-o,_=d*d+y*y;if(_<1e-12)n=Math.log(h/c)/Lp,i=function(t){return[r+t*d,o+t*y,c*Math.exp(Lp*t*n)]};else{var v=Math.sqrt(_),x=(h*h-c*c+4*_)/(2*c*2*v),m=(h*h-c*c-4*_)/(2*h*2*v),w=Math.log(Math.sqrt(x*x+1)-x),S=Math.log(Math.sqrt(m*m+1)-m);n=(S-w)/Lp,i=function(t){var e,s=t*n,f=Op(w),u=c/(2*v)*(f*(e=Lp*s+w,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[r+u*d,o+u*y,c*f/Op(Lp*s+w)]}}return i.duration=1e3*n,i};function Vp(t){return function(e,n){var r=t((e=ln(e)).h,(n=ln(n)).h),s=bn(e.s,n.s),o=bn(e.l,n.l),c=bn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=s(t),e.l=o(t),e.opacity=c(t),e+""}}}var Gp=Vp(xn),Rp=Vp(bn);function Ip(t,e){var n=bn((t=Eo(t)).l,(e=Eo(e)).l),a=bn(t.a,e.a),b=bn(t.b,e.b),r=bn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=a(e),t.b=b(e),t.opacity=r(e),t+""}}function Np(t){return function(e,n){var r=t((e=No(e)).h,(n=No(n)).h),o=bn(e.c,n.c),c=bn(e.l,n.l),f=bn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=o(t),e.l=c(t),e.opacity=f(t),e+""}}}var Dp=Np(xn),jp=Np(bn);function Fp(t){return function e(n){function r(e,r){var o=t((e=Ho(e)).h,(r=Ho(r)).h),s=bn(e.s,r.s),c=bn(e.l,r.l),f=bn(e.opacity,r.opacity);return function(t){return e.h=o(t),e.s=s(t),e.l=c(Math.pow(t,n)),e.opacity=f(t),e+""}}return n=+n,r.gamma=e,r}(1)}var zp=Fp(xn),Xp=Fp(bn);function Bp(t,e){for(var i=0,n=e.length-1,r=e[0],o=new Array(n<0?0:n);i<n;)o[i]=t(r,r=e[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return o[i](t-i)}}var Yp=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Hp=function(polygon){for(var a,i=-1,t=polygon.length,b=polygon[t-1],area=0;++i<t;)a=b,b=polygon[i],area+=a[1]*b[0]-a[0]*b[1];return area/2},Up=function(polygon){for(var a,t,i=-1,e=polygon.length,n=0,r=0,b=polygon[e-1],o=0;++i<e;)a=b,b=polygon[i],o+=t=a[0]*b[1]-b[0]*a[1],n+=(a[0]+b[0])*t,r+=(a[1]+b[1])*t;return[n/(o*=3),r/o]};function Wp(a,b){return a[0]-b[0]||a[1]-b[1]}function qp(t){for(var a,b,e,n=t.length,r=[0,1],o=2,i=2;i<n;++i){for(;o>1&&(a=t[r[o-2]],b=t[r[o-1]],e=t[i],(b[0]-a[0])*(e[1]-a[1])-(b[1]-a[1])*(e[0]-a[0])<=0);)--o;r[o++]=i}return r.slice(0,o)}var Qp=function(t){if((e=t.length)<3)return null;var i,e,n=new Array(e),r=new Array(e);for(i=0;i<e;++i)n[i]=[+t[i][0],+t[i][1],i];for(n.sort(Wp),i=0;i<e;++i)r[i]=[n[i][0],-n[i][1]];var o=qp(n),c=qp(r),f=c[0]===o[0],l=c[c.length-1]===o[o.length-1],h=[];for(i=o.length-1;i>=0;--i)h.push(t[n[o[i]][2]]);for(i=+f;i<c.length-l;++i)h.push(t[n[c[i]][2]]);return h},$p=function(polygon,t){for(var e,n,r=polygon.length,p=polygon[r-1],o=t[0],c=t[1],f=p[0],l=p[1],h=!1,i=0;i<r;++i)e=(p=polygon[i])[0],(n=p[1])>c!=l>c&&o<(f-e)*(c-n)/(l-n)+e&&(h=!h),f=e,l=n;return h},Zp=function(polygon){for(var t,e,i=-1,n=polygon.length,b=polygon[n-1],r=b[0],o=b[1],c=0;++i<n;)t=r,e=o,t-=r=(b=polygon[i])[0],e-=o=b[1],c+=Math.sqrt(t*t+e*e);return c},Kp=function(){return Math.random()},Jp=function t(source){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return source()*e+t}}return e.source=t,e}(Kp),tg=function t(source){function e(t,e){var n,r;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=n)o=n,n=null;else do{n=2*source()-1,o=2*source()-1,r=n*n+o*o}while(!r||r>1);return t+e*o*Math.sqrt(-2*Math.log(r)/r)}}return e.source=t,e}(Kp),eg=function t(source){function e(){var t=tg.source(source).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Kp),ng=function t(source){function e(t){return function(){for(var e=0,i=0;i<t;++i)e+=source();return e}}return e.source=t,e}(Kp),rg=function t(source){function e(t){var e=ng.source(source)(t);return function(){return e()/t}}return e.source=t,e}(Kp),ig=function t(source){function e(t){return function(){return-Math.log(1-source())/t}}return e.source=t,e}(Kp);function og(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function ag(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var ug=Array.prototype,sg=ug.map,cg=ug.slice,fg={name:"implicit"};function lg(){var t=lo(),e=[],n=[],r=fg;function o(o){var c=o+"",i=t.get(c);if(!i){if(r!==fg)return r;t.set(c,i=e.push(o))}return n[(i-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=lo();for(var r,c,i=-1,f=n.length;++i<f;)t.has(c=(r=n[i])+"")||t.set(c,e.push(r));return o},o.range=function(t){return arguments.length?(n=cg.call(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return lg(e,n).unknown(r)},og.apply(o,arguments),o}function hg(){var t,e,n=lg().unknown(void 0),r=n.domain,o=n.range,c=[0,1],f=!1,l=0,h=0,d=.5;function y(){var n=r().length,y=c[1]<c[0],_=c[y-0],v=c[1-y];t=(v-_)/Math.max(1,n-l+2*h),f&&(t=Math.floor(t)),_+=(v-_-t*(n-l))*d,e=t*(1-l),f&&(_=Math.round(_),e=Math.round(e));var x=E(n).map((function(i){return _+t*i}));return o(y?x.reverse():x)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),y()):r()},n.range=function(t){return arguments.length?(c=[+t[0],+t[1]],y()):c.slice()},n.rangeRound=function(t){return c=[+t[0],+t[1]],f=!0,y()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(f=!!t,y()):f},n.padding=function(t){return arguments.length?(l=Math.min(1,h=+t),y()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),y()):l},n.paddingOuter=function(t){return arguments.length?(h=+t,y()):h},n.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),y()):d},n.copy=function(){return hg(r(),c).round(f).paddingInner(l).paddingOuter(h).align(d)},og.apply(y(),arguments)}function dg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dg(e())},t}function pg(){return dg(hg.apply(null,arguments).paddingInner(1))}var gg=function(t){return+t},yg=[0,1];function _g(t){return t}function vg(a,b){return(b-=a=+a)?function(t){return(t-a)/b}:(t=isNaN(b)?NaN:.5,function(){return t});var t}function xg(t){var e,a=t[0],b=t[t.length-1];return a>b&&(e=a,a=b,b=e),function(t){return Math.max(a,Math.min(b,t))}}function mg(t,e,n){var r=t[0],o=t[1],c=e[0],f=e[1];return o<r?(r=vg(o,r),c=n(f,c)):(r=vg(r,o),c=n(c,f)),function(t){return c(r(t))}}function bg(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),c=new Array(r),i=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<r;)o[i]=vg(t[i],t[i+1]),c[i]=n(e[i],e[i+1]);return function(e){var i=d(t,e,1,r)-1;return c[i](o[i](e))}}function wg(source,t){return t.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function Sg(){var t,e,n,r,output,input,o=yg,c=yg,f=Dn,l=_g;function h(){return r=Math.min(o.length,c.length)>2?bg:mg,output=input=null,d}function d(e){return isNaN(e=+e)?n:(output||(output=r(o.map(t),c,f)))(t(l(e)))}return d.invert=function(n){return l(e((input||(input=r(c,o.map(t),On)))(n)))},d.domain=function(t){return arguments.length?(o=sg.call(t,gg),l===_g||(l=xg(o)),h()):o.slice()},d.range=function(t){return arguments.length?(c=cg.call(t),h()):c.slice()},d.rangeRound=function(t){return c=cg.call(t),f=Ep,h()},d.clamp=function(t){return arguments.length?(l=t?xg(o):_g,d):l!==_g},d.interpolate=function(t){return arguments.length?(f=t,h()):f},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,u){return t=n,e=u,h()}}function Ag(t,e){return Sg()(t,e)}var Tg=function(t,e,n,r){var o,c=R(t,e,n);switch((r=os(null==r?",f":r)).type){case"s":var f=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=xs(c,f))||(r.precision=o),fs(r,f);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=ms(c,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=vs(c))||(r.precision=o-2*("%"===r.type))}return cs(r)};function Pg(t){var e=t.domain;return t.ticks=function(t){var n=e();return V(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Tg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),c=0,f=o.length-1,l=o[c],h=o[f];return h<l&&(r=l,l=h,h=r,r=c,c=f,f=r),(r=G(l,h,n))>0?r=G(l=Math.floor(l/r)*r,h=Math.ceil(h/r)*r,n):r<0&&(r=G(l=Math.ceil(l*r)/r,h=Math.floor(h*r)/r,n)),r>0?(o[c]=Math.floor(l/r)*r,o[f]=Math.ceil(h/r)*r,e(o)):r<0&&(o[c]=Math.ceil(l*r)/r,o[f]=Math.floor(h*r)/r,e(o)),t},t}function Cg(){var t=Ag(_g,_g);return t.copy=function(){return wg(t,Cg())},og.apply(t,arguments),Pg(t)}function Mg(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=sg.call(e,gg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Mg(t).unknown(e)},t=arguments.length?sg.call(t,gg):[0,1],Pg(n)}var Eg=function(t,e){var n,r=0,o=(t=t.slice()).length-1,c=t[r],f=t[o];return f<c&&(n=r,r=o,o=n,n=c,c=f,f=n),t[r]=e.floor(c),t[o]=e.ceil(f),t};function Lg(t){return Math.log(t)}function Og(t){return Math.exp(t)}function kg(t){return-Math.log(-t)}function Vg(t){return-Math.exp(-t)}function Gg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rg(t){return function(e){return-t(-e)}}function Ig(t){var e,n,r=t(Lg,Og),o=r.domain,base=10;function c(){return e=function(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(t){return Math.log(t)/base})}(base),n=function(base){return 10===base?Gg:base===Math.E?Math.exp:function(t){return Math.pow(base,t)}}(base),o()[0]<0?(e=Rg(e),n=Rg(n),t(kg,Vg)):t(Lg,Og),r}return r.base=function(t){return arguments.length?(base=+t,c()):base},r.domain=function(t){return arguments.length?(o(t),c()):o()},r.ticks=function(t){var r,c=o(),u=c[0],f=c[c.length-1];(r=f<u)&&(i=u,u=f,f=i);var p,l,h,i=e(u),d=e(f),y=null==t?10:+t,_=[];if(!(base%1)&&d-i<y){if(i=Math.round(i)-1,d=Math.round(d)+1,u>0){for(;i<d;++i)for(l=1,p=n(i);l<base;++l)if(!((h=p*l)<u)){if(h>f)break;_.push(h)}}else for(;i<d;++i)for(l=base-1,p=n(i);l>=1;--l)if(!((h=p*l)<u)){if(h>f)break;_.push(h)}}else _=V(i,d,Math.min(d-i,y)).map(n);return r?_.reverse():_},r.tickFormat=function(t,o){if(null==o&&(o=10===base?".0e":","),"function"!=typeof o&&(o=cs(o)),t===1/0)return o;null==t&&(t=10);var c=Math.max(1,base*t/r.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*base<base-.5&&(i*=base),i<=c?o(t):""}},r.nice=function(){return o(Eg(o(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Ng(){var t=Ig(Sg()).domain([1,10]);return t.copy=function(){return wg(t,Ng()).base(t.base())},og.apply(t,arguments),t}function Dg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Fg(t){var e=1,n=t(Dg(e),jg(e));return n.constant=function(n){return arguments.length?t(Dg(e=+n),jg(e)):e},Pg(n)}function zg(){var t=Fg(Sg());return t.copy=function(){return wg(t,zg()).constant(t.constant())},og.apply(t,arguments)}function Xg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Bg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Yg(t){return t<0?-t*t:t*t}function Hg(t){var e=t(_g,_g),n=1;function r(){return 1===n?t(_g,_g):.5===n?t(Bg,Yg):t(Xg(n),Xg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Pg(e)}function Ug(){var t=Hg(Sg());return t.copy=function(){return wg(t,Ug()).exponent(t.exponent())},og.apply(t,arguments),t}function Wg(){return Ug.apply(null,arguments).exponent(.5)}function qg(){var t,e=[],n=[],r=[];function c(){var i=0,t=Math.max(1,n.length);for(r=new Array(t-1);++i<t;)r[i-1]=D(e,i/t);return f}function f(e){return isNaN(e=+e)?t:n[d(r,e)]}return f.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},f.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,i=0,r=t.length;i<r;++i)null==(n=t[i])||isNaN(n=+n)||e.push(n);return e.sort(o),c()},f.range=function(t){return arguments.length?(n=cg.call(t),c()):n.slice()},f.unknown=function(e){return arguments.length?(t=e,f):t},f.quantiles=function(){return r.slice()},f.copy=function(){return qg().domain(e).range(n).unknown(t)},og.apply(f,arguments)}function Qg(){var t,e=0,n=1,r=1,o=[.5],c=[0,1];function f(e){return e<=e?c[d(o,e,0,r)]:t}function l(){var i=-1;for(o=new Array(r);++i<r;)o[i]=((i+1)*n-(i-r)*e)/(r+1);return f}return f.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],l()):[e,n]},f.range=function(t){return arguments.length?(r=(c=cg.call(t)).length-1,l()):c.slice()},f.invertExtent=function(t){var i=c.indexOf(t);return i<0?[NaN,NaN]:i<1?[e,o[0]]:i>=r?[o[r-1],n]:[o[i-1],o[i]]},f.unknown=function(e){return arguments.length?(t=e,f):f},f.thresholds=function(){return o.slice()},f.copy=function(){return Qg().domain([e,n]).range(c).unknown(t)},og.apply(Pg(f),arguments)}function $g(){var t,e=[.5],n=[0,1],r=1;function o(o){return o<=o?n[d(e,o,0,r)]:t}return o.domain=function(t){return arguments.length?(e=cg.call(t),r=Math.min(e.length,n.length-1),o):e.slice()},o.range=function(t){return arguments.length?(n=cg.call(t),r=Math.min(e.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return $g().domain(e).range(n).unknown(t)},og.apply(o,arguments)}var Zg=new Date,Kg=new Date;function Jg(t,e,n,r){function o(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return o.floor=function(e){return t(e=new Date(+e)),e},o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,c){var f,l=[];if(n=o.ceil(n),c=null==c?1:Math.floor(c),!(n<r&&c>0))return l;do{l.push(f=new Date(+n)),e(n,c),t(n)}while(f<n&&n<r);return l},o.filter=function(n){return Jg((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(o.count=function(e,r){return Zg.setTime(+e),Kg.setTime(+r),t(Zg),t(Kg),Math.floor(n(Zg,Kg))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}var ty=Jg((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));ty.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jg((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var ey=ty,ny=ty.range,ry=Jg((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),iy=ry,oy=ry.range;function ay(i){return Jg((function(t){t.setDate(t.getDate()-(t.getDay()+7-i)%7),t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var uy=ay(0),sy=ay(1),cy=ay(2),fy=ay(3),ly=ay(4),hy=ay(5),dy=ay(6),py=uy.range,gy=sy.range,yy=cy.range,_y=fy.range,vy=ly.range,xy=hy.range,my=dy.range,by=Jg((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),wy=by,Sy=by.range,Ay=Jg((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Ty=Ay,Py=Ay.range,Cy=Jg((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),My=Cy,Ey=Cy.range,Ly=Jg((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Oy=Ly,ky=Ly.range,Vy=Jg((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Vy.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Jg((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Vy:null};var Gy=Vy,Ry=Vy.range;function Iy(i){return Jg((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-i)%7),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Ny=Iy(0),Dy=Iy(1),jy=Iy(2),Fy=Iy(3),zy=Iy(4),Xy=Iy(5),By=Iy(6),Yy=Ny.range,Hy=Dy.range,Uy=jy.range,Wy=Fy.range,qy=zy.range,Qy=Xy.range,$y=By.range,Zy=Jg((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),Ky=Zy,Jy=Zy.range,t_=Jg((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));t_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Jg((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var e_=t_,n_=t_.range;function r_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o_(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function a_(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,c=t.days,f=t.shortDays,l=t.months,h=t.shortMonths,d=v_(o),y=x_(o),_=v_(c),v=x_(c),x=v_(f),m=x_(f),w=v_(l),S=x_(l),A=v_(h),T=x_(h),P={a:function(t){return f[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:F_,e:F_,f:H_,g:nv,G:iv,H:z_,I:X_,j:B_,L:Y_,m:U_,M:W_,p:function(t){return o[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Cv,s:Mv,S:q_,u:Q_,U:$_,V:K_,w:J_,W:tv,x:null,X:null,y:ev,Y:rv,Z:ov,"%":Pv},C={a:function(t){return f[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:av,e:av,f:lv,g:wv,G:Av,H:uv,I:sv,j:cv,L:fv,m:hv,M:dv,p:function(t){return o[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Cv,s:Mv,S:pv,u:gv,U:yv,V:vv,w:xv,W:mv,x:null,X:null,y:bv,Y:Sv,Z:Tv,"%":Pv},M={a:function(t,e,i){var n=x.exec(e.slice(i));return n?(t.w=m[n[0].toLowerCase()],i+n[0].length):-1},A:function(t,e,i){var n=_.exec(e.slice(i));return n?(t.w=v[n[0].toLowerCase()],i+n[0].length):-1},b:function(t,e,i){var n=A.exec(e.slice(i));return n?(t.m=T[n[0].toLowerCase()],i+n[0].length):-1},B:function(t,e,i){var n=w.exec(e.slice(i));return n?(t.m=S[n[0].toLowerCase()],i+n[0].length):-1},c:function(t,n,i){return O(t,e,n,i)},d:L_,e:L_,f:I_,g:P_,G:T_,H:k_,I:k_,j:O_,L:R_,m:E_,M:V_,p:function(t,e,i){var n=d.exec(e.slice(i));return n?(t.p=y[n[0].toLowerCase()],i+n[0].length):-1},q:M_,Q:D_,s:j_,S:G_,u:b_,U:w_,V:S_,w:m_,W:A_,x:function(t,e,i){return O(t,n,e,i)},X:function(t,e,i){return O(t,r,e,i)},y:P_,Y:T_,Z:C_,"%":N_};function E(t,e){return function(n){var r,o,c,f=[],i=-1,l=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++i<h;)37===t.charCodeAt(i)&&(f.push(t.slice(l,i)),null!=(o=h_[r=t.charAt(++i)])?r=t.charAt(++i):o="e"===r?" ":"0",(c=e[r])&&(r=c(n,o)),f.push(r),l=i+1);return f.push(t.slice(l,i)),f.join("")}}function L(t,e){return function(n){var r,o,c=o_(1900,void 0,1);if(O(c,t,n+="",0)!=n.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(e&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(o=(r=i_(o_(c.y,0,1))).getUTCDay(),r=o>4||0===o?Dy.ceil(r):Dy(r),r=Ky.offset(r,7*(c.V-1)),c.y=r.getUTCFullYear(),c.m=r.getUTCMonth(),c.d=r.getUTCDate()+(c.w+6)%7):(o=(r=r_(o_(c.y,0,1))).getDay(),r=o>4||0===o?sy.ceil(r):sy(r),r=wy.offset(r,7*(c.V-1)),c.y=r.getFullYear(),c.m=r.getMonth(),c.d=r.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),o="Z"in c?i_(o_(c.y,0,1)).getUTCDay():r_(o_(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(o+5)%7:c.w+7*c.U-(o+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,i_(c)):r_(c)}}function O(t,e,n,r){for(var o,c,i=0,f=e.length,l=n.length;i<f;){if(r>=l)return-1;if(37===(o=e.charCodeAt(i++))){if(o=e.charAt(i++),!(c=M[o in h_?e.charAt(i++):o])||(r=c(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return P.x=E(n,P),P.X=E(r,P),P.c=E(e,P),C.x=E(n,C),C.X=E(r,C),C.c=E(e,C),{format:function(t){var e=E(t+="",P);return e.toString=function(){return t},e},parse:function(t){var p=L(t+="",!1);return p.toString=function(){return t},p},utcFormat:function(t){var e=E(t+="",C);return e.toString=function(){return t},e},utcParse:function(t){var p=L(t+="",!0);return p.toString=function(){return t},p}}}var u_,s_,c_,f_,l_,h_={"-":"",_:" ",0:"0"},d_=/^\s*\d+/,p_=/^%/,g_=/[\\^$*+?|[\]().{}]/g;function y_(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",c=o.length;return r+(c<n?new Array(n-c+1).join(e)+o:o)}function __(s){return s.replace(g_,"\\$&")}function v_(t){return new RegExp("^(?:"+t.map(__).join("|")+")","i")}function x_(t){for(var map={},i=-1,e=t.length;++i<e;)map[t[i].toLowerCase()]=i;return map}function m_(t,e,i){var n=d_.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function b_(t,e,i){var n=d_.exec(e.slice(i,i+1));return n?(t.u=+n[0],i+n[0].length):-1}function w_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.U=+n[0],i+n[0].length):-1}function S_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.V=+n[0],i+n[0].length):-1}function A_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.W=+n[0],i+n[0].length):-1}function T_(t,e,i){var n=d_.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function P_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function C_(t,e,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function M_(t,e,i){var n=d_.exec(e.slice(i,i+1));return n?(t.q=3*n[0]-3,i+n[0].length):-1}function E_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function L_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function O_(t,e,i){var n=d_.exec(e.slice(i,i+3));return n?(t.m=0,t.d=+n[0],i+n[0].length):-1}function k_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function V_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function G_(t,e,i){var n=d_.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function R_(t,e,i){var n=d_.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function I_(t,e,i){var n=d_.exec(e.slice(i,i+6));return n?(t.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function N_(t,e,i){var n=p_.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function D_(t,e,i){var n=d_.exec(e.slice(i));return n?(t.Q=+n[0],i+n[0].length):-1}function j_(t,e,i){var n=d_.exec(e.slice(i));return n?(t.s=+n[0],i+n[0].length):-1}function F_(t,p){return y_(t.getDate(),p,2)}function z_(t,p){return y_(t.getHours(),p,2)}function X_(t,p){return y_(t.getHours()%12||12,p,2)}function B_(t,p){return y_(1+wy.count(ey(t),t),p,3)}function Y_(t,p){return y_(t.getMilliseconds(),p,3)}function H_(t,p){return Y_(t,p)+"000"}function U_(t,p){return y_(t.getMonth()+1,p,2)}function W_(t,p){return y_(t.getMinutes(),p,2)}function q_(t,p){return y_(t.getSeconds(),p,2)}function Q_(t){var e=t.getDay();return 0===e?7:e}function $_(t,p){return y_(uy.count(ey(t)-1,t),p,2)}function Z_(t){var e=t.getDay();return e>=4||0===e?ly(t):ly.ceil(t)}function K_(t,p){return t=Z_(t),y_(ly.count(ey(t),t)+(4===ey(t).getDay()),p,2)}function J_(t){return t.getDay()}function tv(t,p){return y_(sy.count(ey(t)-1,t),p,2)}function ev(t,p){return y_(t.getFullYear()%100,p,2)}function nv(t,p){return y_((t=Z_(t)).getFullYear()%100,p,2)}function rv(t,p){return y_(t.getFullYear()%1e4,p,4)}function iv(t,p){var e=t.getDay();return y_((t=e>=4||0===e?ly(t):ly.ceil(t)).getFullYear()%1e4,p,4)}function ov(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+y_(e/60|0,"0",2)+y_(e%60,"0",2)}function av(t,p){return y_(t.getUTCDate(),p,2)}function uv(t,p){return y_(t.getUTCHours(),p,2)}function sv(t,p){return y_(t.getUTCHours()%12||12,p,2)}function cv(t,p){return y_(1+Ky.count(e_(t),t),p,3)}function fv(t,p){return y_(t.getUTCMilliseconds(),p,3)}function lv(t,p){return fv(t,p)+"000"}function hv(t,p){return y_(t.getUTCMonth()+1,p,2)}function dv(t,p){return y_(t.getUTCMinutes(),p,2)}function pv(t,p){return y_(t.getUTCSeconds(),p,2)}function gv(t){var e=t.getUTCDay();return 0===e?7:e}function yv(t,p){return y_(Ny.count(e_(t)-1,t),p,2)}function _v(t){var e=t.getUTCDay();return e>=4||0===e?zy(t):zy.ceil(t)}function vv(t,p){return t=_v(t),y_(zy.count(e_(t),t)+(4===e_(t).getUTCDay()),p,2)}function xv(t){return t.getUTCDay()}function mv(t,p){return y_(Dy.count(e_(t)-1,t),p,2)}function bv(t,p){return y_(t.getUTCFullYear()%100,p,2)}function wv(t,p){return y_((t=_v(t)).getUTCFullYear()%100,p,2)}function Sv(t,p){return y_(t.getUTCFullYear()%1e4,p,4)}function Av(t,p){var e=t.getUTCDay();return y_((t=e>=4||0===e?zy(t):zy.ceil(t)).getUTCFullYear()%1e4,p,4)}function Tv(){return"+0000"}function Pv(){return"%"}function Cv(t){return+t}function Mv(t){return Math.floor(+t/1e3)}function Ev(t){return u_=a_(t),s_=u_.format,c_=u_.parse,f_=u_.utcFormat,l_=u_.utcParse,u_}Ev({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lv(t){return new Date(t)}function Ov(t){return t instanceof Date?+t:+new Date(+t)}function kv(t,e,n,r,o,f,l,h,d){var y=Ag(_g,_g),_=y.invert,v=y.domain,x=d(".%L"),m=d(":%S"),w=d("%I:%M"),S=d("%I %p"),A=d("%a %d"),T=d("%b %d"),P=d("%B"),C=d("%Y"),M=[[l,1,1e3],[l,5,5e3],[l,15,15e3],[l,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[o,1,36e5],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function E(c){return(l(c)<c?x:f(c)<c?m:o(c)<c?w:r(c)<c?S:e(c)<c?n(c)<c?A:T:t(c)<c?P:C)(c)}function L(e,n,r,o){if(null==e&&(e=10),"number"==typeof e){var f=Math.abs(r-n)/e,i=c((function(i){return i[2]})).right(M,f);i===M.length?(o=R(n/31536e6,r/31536e6,e),e=t):i?(o=(i=M[f/M[i-1][2]<M[i][2]/f?i-1:i])[1],e=i[0]):(o=Math.max(R(n,r,e),1),e=h)}return null==o?e:e.every(o)}return y.invert=function(t){return new Date(_(t))},y.domain=function(t){return arguments.length?v(sg.call(t,Ov)):v().map(Lv)},y.ticks=function(t,e){var n,r=v(),o=r[0],c=r[r.length-1],f=c<o;return f&&(n=o,o=c,c=n),n=(n=L(t,o,c,e))?n.range(o,c+1):[],f?n.reverse():n},y.tickFormat=function(t,e){return null==e?E:d(e)},y.nice=function(t,e){var n=v();return(t=L(t,n[0],n[n.length-1],e))?v(Eg(n,t)):y},y.copy=function(){return wg(y,kv(t,e,n,r,o,f,l,h,d))},y}var Vv=function(){return og.apply(kv(ey,iy,uy,wy,Ty,My,Oy,Gy,s_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Gv=Jg((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Rv=Gv,Iv=Gv.range,Nv=Jg((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),Dv=Nv,jv=Nv.range,Fv=Jg((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),zv=Fv,Xv=Fv.range,Bv=function(){return og.apply(kv(e_,Rv,Ny,Ky,Dv,zv,Oy,Gy,f_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function Yv(){var t,e,n,r,o,c=0,f=1,l=_g,h=!1;function d(e){return isNaN(e=+e)?o:l(0===n?.5:(e=(r(e)-t)*n,h?Math.max(0,Math.min(1,e)):e))}return d.domain=function(o){return arguments.length?(t=r(c=+o[0]),e=r(f=+o[1]),n=t===e?0:1/(e-t),d):[c,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return r=o,t=o(c),e=o(f),n=t===e?0:1/(e-t),d}}function Hv(source,t){return t.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function Uv(){var t=Pg(Yv()(_g));return t.copy=function(){return Hv(t,Uv())},ag.apply(t,arguments)}function Wv(){var t=Ig(Yv()).domain([1,10]);return t.copy=function(){return Hv(t,Wv()).base(t.base())},ag.apply(t,arguments)}function qv(){var t=Fg(Yv());return t.copy=function(){return Hv(t,qv()).constant(t.constant())},ag.apply(t,arguments)}function Qv(){var t=Hg(Yv());return t.copy=function(){return Hv(t,Qv()).exponent(t.exponent())},ag.apply(t,arguments)}function $v(){return Qv.apply(null,arguments).exponent(.5)}function Zv(){var t=[],e=_g;function n(n){if(!isNaN(n=+n))return e((d(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,i=0,c=e.length;i<c;++i)null==(r=e[i])||isNaN(r=+r)||t.push(r);return t.sort(o),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Zv(e).domain(t)},ag.apply(n,arguments)}function Kv(){var t,e,n,r,o,c,f,l=0,h=.5,d=1,y=_g,_=!1;function v(t){return isNaN(t=+t)?f:(t=.5+((t=+c(t))-e)*(t<e?r:o),y(_?Math.max(0,Math.min(1,t)):t))}return v.domain=function(f){return arguments.length?(t=c(l=+f[0]),e=c(h=+f[1]),n=c(d=+f[2]),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),v):[l,h,d]},v.clamp=function(t){return arguments.length?(_=!!t,v):_},v.interpolator=function(t){return arguments.length?(y=t,v):y},v.unknown=function(t){return arguments.length?(f=t,v):f},function(f){return c=f,t=f(l),e=f(h),n=f(d),r=t===e?0:.5/(e-t),o=e===n?0:.5/(n-e),v}}function Jv(){var t=Pg(Kv()(_g));return t.copy=function(){return Hv(t,Jv())},ag.apply(t,arguments)}function tx(){var t=Ig(Kv()).domain([.1,1,10]);return t.copy=function(){return Hv(t,tx()).base(t.base())},ag.apply(t,arguments)}function ex(){var t=Fg(Kv());return t.copy=function(){return Hv(t,ex()).constant(t.constant())},ag.apply(t,arguments)}function nx(){var t=Hg(Kv());return t.copy=function(){return Hv(t,nx()).exponent(t.exponent())},ag.apply(t,arguments)}function rx(){return nx.apply(null,arguments).exponent(.5)}var ix=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},ox=ix("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ax=ix("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ux=ix("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),sx=ix("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),cx=ix("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),fx=ix("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),lx=ix("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),hx=ix("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),dx=ix("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),px=ix("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),gx=function(t){return An(t[t.length-1])},yx=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ix),_x=gx(yx),vx=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ix),xx=gx(vx),mx=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ix),bx=gx(mx),wx=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ix),Sx=gx(wx),Ax=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ix),Tx=gx(Ax),Px=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ix),Cx=gx(Px),Mx=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ix),Ex=gx(Mx),Lx=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ix),Ox=gx(Lx),kx=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ix),Vx=gx(kx),Gx=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ix),Rx=gx(Gx),Ix=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ix),Nx=gx(Ix),Dx=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ix),jx=gx(Dx),Fx=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ix),zx=gx(Fx),Xx=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ix),Bx=gx(Xx),Yx=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ix),Hx=gx(Yx),Ux=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ix),Wx=gx(Ux),qx=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ix),Qx=gx(qx),$x=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ix),Zx=gx($x),Kx=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ix),Jx=gx(Kx),tm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ix),nm=gx(tm),rm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ix),im=gx(rm),om=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ix),am=gx(om),um=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ix),sm=gx(um),cm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ix),fm=gx(cm),lm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ix),hm=gx(lm),dm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ix),pm=gx(dm),gm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ix),ym=gx(gm),_m=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},vm=Xp(Ho(300,.5,0),Ho(-240,.5,1)),xm=Xp(Ho(-100,.75,.35),Ho(80,1.5,.8)),mm=Xp(Ho(260,.75,.35),Ho(80,1.5,.8)),bm=Ho(),wm=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return bm.h=360*t-100,bm.s=1.5-1.5*e,bm.l=.8-.9*e,bm+""},Sm=rn(),Am=Math.PI/3,Tm=2*Math.PI/3,Pm=function(t){var e;return t=(.5-t)*Math.PI,Sm.r=255*(e=Math.sin(t))*e,Sm.g=255*(e=Math.sin(t+Am))*e,Sm.b=255*(e=Math.sin(t+Tm))*e,Sm+""},Cm=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function Mm(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Em=Mm(ix("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Lm=Mm(ix("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Om=Mm(ix("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),km=Mm(ix("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Vm=function(t){return ke(he(t).call(document.documentElement))},Gm=0;function Rm(){return new Im}function Im(){this._="@"+(++Gm).toString(36)}Im.prototype=Rm.prototype={constructor:Im,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Nm=function(t){return"string"==typeof t?new Ee([document.querySelectorAll(t)],[document.documentElement]):new Ee([null==t?[]:t],Me)},Dm=function(t,e){null==e&&(e=jn().touches);for(var i=0,n=e?e.length:0,r=new Array(n);i<n;++i)r[i]=Fn(t,e[i]);return r},jm=function(t){return function(){return t}},Fm=Math.abs,zm=Math.atan2,Xm=Math.cos,Bm=Math.max,Ym=Math.min,Hm=Math.sin,Um=Math.sqrt,Wm=Math.PI,qm=Wm/2,Qm=2*Wm;function $m(t){return t>1?0:t<-1?Wm:Math.acos(t)}function Zm(t){return t>=1?qm:t<=-1?-qm:Math.asin(t)}function Km(t){return t.innerRadius}function Jm(t){return t.outerRadius}function tb(t){return t.startAngle}function eb(t){return t.endAngle}function nb(t){return t&&t.padAngle}function rb(t,e,n,r,o,c,f,l){var h=n-t,d=r-e,y=f-o,_=l-c,v=_*h-y*d;if(!(v*v<1e-12))return[t+(v=(y*(e-c)-_*(t-o))/v)*h,e+v*d]}function ib(t,e,n,r,o,c,f){var l=t-n,h=e-r,d=(f?c:-c)/Um(l*l+h*h),y=d*h,_=-d*l,v=t+y,x=e+_,m=n+y,w=r+_,S=(v+m)/2,A=(x+w)/2,T=m-v,P=w-x,C=T*T+P*P,M=o-c,E=v*w-m*x,L=(P<0?-1:1)*Um(Bm(0,M*M*C-E*E)),O=(E*P-T*L)/C,k=(-E*T-P*L)/C,V=(E*P+T*L)/C,G=(-E*T+P*L)/C,R=O-S,I=k-A,N=V-S,D=G-A;return R*R+I*I>N*N+D*D&&(O=V,k=G),{cx:O,cy:k,x01:-y,y01:-_,x11:O*(o/M-1),y11:k*(o/M-1)}}var ob=function(){var t=Km,e=Jm,n=jm(0),r=null,o=tb,c=eb,f=nb,l=null;function h(){var h,d,y=+t.apply(this,arguments),_=+e.apply(this,arguments),v=o.apply(this,arguments)-qm,x=c.apply(this,arguments)-qm,m=Fm(x-v),w=x>v;if(l||(l=h=no()),_<y&&(d=_,_=y,y=d),_>1e-12)if(m>Qm-1e-12)l.moveTo(_*Xm(v),_*Hm(v)),l.arc(0,0,_,v,x,!w),y>1e-12&&(l.moveTo(y*Xm(x),y*Hm(x)),l.arc(0,0,y,x,v,w));else{var S,A,T=v,P=x,C=v,M=x,E=m,L=m,O=f.apply(this,arguments)/2,rp=O>1e-12&&(r?+r.apply(this,arguments):Um(y*y+_*_)),k=Ym(Fm(_-y)/2,+n.apply(this,arguments)),V=k,G=k;if(rp>1e-12){var R=Zm(rp/y*Hm(O)),I=Zm(rp/_*Hm(O));(E-=2*R)>1e-12?(C+=R*=w?1:-1,M-=R):(E=0,C=M=(v+x)/2),(L-=2*I)>1e-12?(T+=I*=w?1:-1,P-=I):(L=0,T=P=(v+x)/2)}var N=_*Xm(T),D=_*Hm(T),j=y*Xm(M),F=y*Hm(M);if(k>1e-12){var z,X=_*Xm(P),B=_*Hm(P),Y=y*Xm(C),H=y*Hm(C);if(m<Wm&&(z=rb(N,D,Y,H,X,B,j,F))){var U=N-z[0],W=D-z[1],Q=X-z[0],$=B-z[1],Z=1/Hm($m((U*Q+W*$)/(Um(U*U+W*W)*Um(Q*Q+$*$)))/2),K=Um(z[0]*z[0]+z[1]*z[1]);V=Ym(k,(y-K)/(Z-1)),G=Ym(k,(_-K)/(Z+1))}}L>1e-12?G>1e-12?(S=ib(Y,H,N,D,_,G,w),A=ib(X,B,j,F,_,G,w),l.moveTo(S.cx+S.x01,S.cy+S.y01),G<k?l.arc(S.cx,S.cy,G,zm(S.y01,S.x01),zm(A.y01,A.x01),!w):(l.arc(S.cx,S.cy,G,zm(S.y01,S.x01),zm(S.y11,S.x11),!w),l.arc(0,0,_,zm(S.cy+S.y11,S.cx+S.x11),zm(A.cy+A.y11,A.cx+A.x11),!w),l.arc(A.cx,A.cy,G,zm(A.y11,A.x11),zm(A.y01,A.x01),!w))):(l.moveTo(N,D),l.arc(0,0,_,T,P,!w)):l.moveTo(N,D),y>1e-12&&E>1e-12?V>1e-12?(S=ib(j,F,X,B,y,-V,w),A=ib(N,D,Y,H,y,-V,w),l.lineTo(S.cx+S.x01,S.cy+S.y01),V<k?l.arc(S.cx,S.cy,V,zm(S.y01,S.x01),zm(A.y01,A.x01),!w):(l.arc(S.cx,S.cy,V,zm(S.y01,S.x01),zm(S.y11,S.x11),!w),l.arc(0,0,y,zm(S.cy+S.y11,S.cx+S.x11),zm(A.cy+A.y11,A.cx+A.x11),w),l.arc(A.cx,A.cy,V,zm(A.y11,A.x11),zm(A.y01,A.x01),!w))):l.arc(0,0,y,M,C,w):l.lineTo(j,F)}else l.moveTo(0,0);if(l.closePath(),h)return l=null,h+""||null}return h.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,a=(+o.apply(this,arguments)+ +c.apply(this,arguments))/2-Wm/2;return[Xm(a)*n,Hm(a)*n]},h.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:jm(+e),h):t},h.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:jm(+t),h):e},h.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:jm(+t),h):n},h.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:jm(+t),h):r},h.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:jm(+t),h):o},h.endAngle=function(t){return arguments.length?(c="function"==typeof t?t:jm(+t),h):c},h.padAngle=function(t){return arguments.length?(f="function"==typeof t?t:jm(+t),h):f},h.context=function(t){return arguments.length?(l=null==t?null:t,h):l},h};function ab(t){this._context=t}ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ub=function(t){return new ab(t)};function sb(p){return p[0]}function cb(p){return p[1]}var fb=function(){var t=sb,e=cb,n=jm(!0),r=null,o=ub,output=null;function line(data){var i,c,f,l=data.length,h=!1;for(null==r&&(output=o(f=no())),i=0;i<=l;++i)!(i<l&&n(c=data[i],i,data))===h&&((h=!h)?output.lineStart():output.lineEnd()),h&&output.point(+t(c,i,data),+e(c,i,data));if(f)return output=null,f+""||null}return line.x=function(e){return arguments.length?(t="function"==typeof e?e:jm(+e),line):t},line.y=function(t){return arguments.length?(e="function"==typeof t?t:jm(+t),line):e},line.defined=function(t){return arguments.length?(n="function"==typeof t?t:jm(!!t),line):n},line.curve=function(t){return arguments.length?(o=t,null!=r&&(output=o(r)),line):o},line.context=function(t){return arguments.length?(null==t?r=output=null:output=o(r=t),line):r},line},lb=function(){var t=sb,e=null,n=jm(0),r=cb,o=jm(!0),c=null,f=ub,output=null;function area(data){var i,l,h,d,y,_=data.length,v=!1,x=new Array(_),m=new Array(_);for(null==c&&(output=f(y=no())),i=0;i<=_;++i){if(!(i<_&&o(d=data[i],i,data))===v)if(v=!v)l=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),h=i-1;h>=l;--h)output.point(x[h],m[h]);output.lineEnd(),output.areaEnd()}v&&(x[i]=+t(d,i,data),m[i]=+n(d,i,data),output.point(e?+e(d,i,data):x[i],r?+r(d,i,data):m[i]))}if(y)return output=null,y+""||null}function l(){return fb().defined(o).curve(f).context(c)}return area.x=function(n){return arguments.length?(t="function"==typeof n?n:jm(+n),e=null,area):t},area.x0=function(e){return arguments.length?(t="function"==typeof e?e:jm(+e),area):t},area.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:jm(+t),area):e},area.y=function(t){return arguments.length?(n="function"==typeof t?t:jm(+t),r=null,area):n},area.y0=function(t){return arguments.length?(n="function"==typeof t?t:jm(+t),area):n},area.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:jm(+t),area):r},area.lineX0=area.lineY0=function(){return l().x(t).y(n)},area.lineY1=function(){return l().x(t).y(r)},area.lineX1=function(){return l().x(e).y(n)},area.defined=function(t){return arguments.length?(o="function"==typeof t?t:jm(!!t),area):o},area.curve=function(t){return arguments.length?(f=t,null!=c&&(output=f(c)),area):f},area.context=function(t){return arguments.length?(null==t?c=output=null:output=f(c=t),area):c},area},hb=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},db=function(t){return t},pb=function(){var t=db,e=hb,n=null,r=jm(0),o=jm(Qm),c=jm(0);function f(data){var i,f,l,h,d,y=data.length,_=0,v=new Array(y),x=new Array(y),m=+r.apply(this,arguments),w=Math.min(Qm,Math.max(-Qm,o.apply(this,arguments)-m)),p=Math.min(Math.abs(w)/y,c.apply(this,arguments)),S=p*(w<0?-1:1);for(i=0;i<y;++i)(d=x[v[i]=i]=+t(data[i],i,data))>0&&(_+=d);for(null!=e?v.sort((function(i,t){return e(x[i],x[t])})):null!=n&&v.sort((function(i,t){return n(data[i],data[t])})),i=0,l=_?(w-y*S)/_:0;i<y;++i,m=h)f=v[i],h=m+((d=x[f])>0?d*l:0)+S,x[f]={data:data[f],index:i,value:d,startAngle:m,endAngle:h,padAngle:p};return x}return f.value=function(e){return arguments.length?(t="function"==typeof e?e:jm(+e),f):t},f.sortValues=function(t){return arguments.length?(e=t,n=null,f):e},f.sort=function(t){return arguments.length?(n=t,e=null,f):n},f.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:jm(+t),f):r},f.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:jm(+t),f):o},f.padAngle=function(t){return arguments.length?(c="function"==typeof t?t:jm(+t),f):c},f},gb=_b(ub);function yb(t){this._curve=t}function _b(t){function e(e){return new yb(t(e))}return e._curve=t,e}function vb(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(_b(t)):e()._curve},t}yb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,t){this._curve.point(t*Math.sin(a),t*-Math.cos(a))}};var xb=function(){return vb(fb().curve(gb))},mb=function(){var a=lb().curve(gb),t=a.curve,e=a.lineX0,n=a.lineX1,r=a.lineY0,o=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return vb(e())},delete a.lineX0,a.lineEndAngle=function(){return vb(n())},delete a.lineX1,a.lineInnerRadius=function(){return vb(r())},delete a.lineY0,a.lineOuterRadius=function(){return vb(o())},delete a.lineY1,a.curve=function(e){return arguments.length?t(_b(e)):t()._curve},a},bb=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},wb=Array.prototype.slice;function Sb(t){return t.source}function Ab(t){return t.target}function Tb(t){var source=Sb,e=Ab,n=sb,r=cb,o=null;function link(){var c,f=wb.call(arguments),s=source.apply(this,f),l=e.apply(this,f);if(o||(o=c=no()),t(o,+n.apply(this,(f[0]=s,f)),+r.apply(this,f),+n.apply(this,(f[0]=l,f)),+r.apply(this,f)),c)return o=null,c+""||null}return link.source=function(t){return arguments.length?(source=t,link):source},link.target=function(t){return arguments.length?(e=t,link):e},link.x=function(t){return arguments.length?(n="function"==typeof t?t:jm(+t),link):n},link.y=function(t){return arguments.length?(r="function"==typeof t?t:jm(+t),link):r},link.context=function(t){return arguments.length?(o=null==t?null:t,link):o},link}function Pb(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,o,r,o)}function Cb(t,e,n,r,o){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+o)/2,r,n,r,o)}function Mb(t,e,n,r,o){var c=bb(e,n),f=bb(e,n=(n+o)/2),l=bb(r,n),h=bb(r,o);t.moveTo(c[0],c[1]),t.bezierCurveTo(f[0],f[1],l[0],l[1],h[0],h[1])}function Eb(){return Tb(Pb)}function Lb(){return Tb(Cb)}function Ob(){var t=Tb(Mb);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var kb={draw:function(t,e){var n=Math.sqrt(e/Wm);t.moveTo(n,0),t.arc(0,0,n,0,Qm)}},Vb={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Gb=Math.sqrt(1/3),Rb=2*Gb,Ib={draw:function(t,e){var n=Math.sqrt(e/Rb),r=n*Gb;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nb=Math.sin(Wm/10)/Math.sin(7*Wm/10),Db=Math.sin(Qm/10)*Nb,jb=-Math.cos(Qm/10)*Nb,Fb={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Db*n,o=jb*n;t.moveTo(0,-n),t.lineTo(r,o);for(var i=1;i<5;++i){var a=Qm*i/5,c=Math.cos(a),s=Math.sin(a);t.lineTo(s*n,-c*n),t.lineTo(c*r-s*o,s*r+c*o)}t.closePath()}},zb={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Xb=Math.sqrt(3),Bb={draw:function(t,e){var n=-Math.sqrt(e/(3*Xb));t.moveTo(0,2*n),t.lineTo(-Xb*n,-n),t.lineTo(Xb*n,-n),t.closePath()}},Yb=Math.sqrt(3)/2,Hb=1/Math.sqrt(12),Ub=3*(Hb/2+1),Wb={draw:function(t,e){var n=Math.sqrt(e/Ub),r=n/2,o=n*Hb,c=r,f=n*Hb+n,l=-c,h=f;t.moveTo(r,o),t.lineTo(c,f),t.lineTo(l,h),t.lineTo(-.5*r-Yb*o,Yb*r+-.5*o),t.lineTo(-.5*c-Yb*f,Yb*c+-.5*f),t.lineTo(-.5*l-Yb*h,Yb*l+-.5*h),t.lineTo(-.5*r+Yb*o,-.5*o-Yb*r),t.lineTo(-.5*c+Yb*f,-.5*f-Yb*c),t.lineTo(-.5*l+Yb*h,-.5*h-Yb*l),t.closePath()}},qb=[kb,Vb,Ib,zb,Fb,Bb,Wb],Qb=function(){var t=jm(kb),e=jm(64),n=null;function symbol(){var r;if(n||(n=r=no()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return symbol.type=function(e){return arguments.length?(t="function"==typeof e?e:jm(e),symbol):t},symbol.size=function(t){return arguments.length?(e="function"==typeof t?t:jm(+t),symbol):e},symbol.context=function(t){return arguments.length?(n=null==t?null:t,symbol):n},symbol},$b=function(){};function Zb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Kb(t){this._context=t}Kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Jb=function(t){return new Kb(t)};function tw(t){this._context=t}tw.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Zb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ew=function(t){return new tw(t)};function nw(t){this._context=t}nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zb(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var rw=function(t){return new nw(t)};function iw(t,e){this._basis=new Kb(t),this._beta=e}iw.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,o=t[0],c=e[0],f=t[n]-o,l=e[n]-c,i=-1;++i<=n;)r=i/n,this._basis.point(this._beta*t[i]+(1-this._beta)*(o+r*f),this._beta*e[i]+(1-this._beta)*(c+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var ow=function t(e){function n(t){return 1===e?new Kb(t):new iw(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function aw(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function uw(t,e){this._context=t,this._k=(1-e)/6}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aw(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:aw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sw=function t(e){function n(t){return new uw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function cw(t,e){this._context=t,this._k=(1-e)/6}cw.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:aw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var fw=function t(e){function n(t){return new cw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lw(t,e){this._context=t,this._k=(1-e)/6}lw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aw(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hw=function t(e){function n(t){return new lw(t,e)}return n.tension=function(e){return t(+e)},n}(0);function dw(t,e,n){var r=t._x1,o=t._y1,c=t._x2,f=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,o=(o*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var b=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);c=(c*b+t._x1*t._l23_2a-e*t._l12_2a)/h,f=(f*b+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,o,c,f,t._x2,t._y2)}function pw(t,e){this._context=t,this._alpha=e}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:dw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gw=function t(e){function n(t){return e?new pw(t,e):new uw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function yw(t,e){this._context=t,this._alpha=e}yw.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _w=function t(e){function n(t){return e?new yw(t,e):new cw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function vw(t,e){this._context=t,this._alpha=e}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dw(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xw=function t(e){function n(t){return e?new vw(t,e):new lw(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function mw(t){this._context=t}mw.prototype={areaStart:$b,areaEnd:$b,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var bw=function(t){return new mw(t)};function ww(t){return t<0?-1:1}function Sw(t,e,n){var r=t._x1-t._x0,h1=e-t._x1,o=(t._y1-t._y0)/(r||h1<0&&-0),c=(n-t._y1)/(h1||r<0&&-0),p=(o*h1+c*r)/(r+h1);return(ww(o)+ww(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(p))||0}function Aw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tw(t,e,n){var r=t._x0,o=t._y0,c=t._x1,f=t._y1,l=(c-r)/3;t._context.bezierCurveTo(r+l,o+l*e,c-l,f-l*n,c,f)}function Pw(t){this._context=t}function Cw(t){this._context=new Mw(t)}function Mw(t){this._context=t}function Ew(t){return new Pw(t)}function Lw(t){return new Cw(t)}function Ow(t){this._context=t}function kw(t){var i,e,n=t.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=t[0]+2*t[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*t[i]+2*t[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*t[n-1]+t[n],i=1;i<n;++i)e=a[i]/b[i-1],b[i]-=e,r[i]-=e*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(t[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*t[i+1]-a[i+1];return[a,b]}Pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tw(this,this._t0,Aw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tw(this,Aw(this,n=Sw(this,t,e)),n);break;default:Tw(this,this._t0,n=Sw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Cw.prototype=Object.create(Pw.prototype)).point=function(t,e){Pw.prototype.point.call(this,e,t)},Mw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,c){this._context.bezierCurveTo(e,t,r,n,c,o)}},Ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=kw(t),o=kw(e),c=0,f=1;f<n;++c,++f)this._context.bezierCurveTo(r[0][c],o[0][c],r[1][c],o[1][c],t[f],e[f]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Vw=function(t){return new Ow(t)};function Gw(t,e){this._context=t,this._t=e}Gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Rw=function(t){return new Gw(t,.5)};function Iw(t){return new Gw(t,0)}function Nw(t){return new Gw(t,1)}var Dw=function(t,e){if((o=t.length)>1)for(var n,r,o,i=1,c=t[e[0]],f=c.length;i<o;++i)for(r=c,c=t[e[i]],n=0;n<f;++n)c[n][1]+=c[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},jw=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Fw(t,e){return t[e]}var zw=function(){var t=jm([]),e=jw,n=Dw,r=Fw;function o(data){var i,o,c=t.apply(this,arguments),f=data.length,l=c.length,h=new Array(l);for(i=0;i<l;++i){for(var d,y=c[i],_=h[i]=new Array(f),v=0;v<f;++v)_[v]=d=[0,+r(data[v],y,v,data)],d.data=data[v];_.key=y}for(i=0,o=e(h);i<l;++i)h[o[i]].index=i;return n(h,o),h}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:jm(wb.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:jm(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?jw:"function"==typeof t?t:jm(wb.call(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?Dw:t,o):n},o},Xw=function(t,e){if((n=t.length)>0){for(var i,n,r,o=0,c=t[0].length;o<c;++o){for(r=i=0;i<n;++i)r+=t[i][o][1]||0;if(r)for(i=0;i<n;++i)t[i][o][1]/=r}Dw(t,e)}},Bw=function(t,e){if((f=t.length)>0)for(var i,n,r,o,c,f,l=0,h=t[e[0]].length;l<h;++l)for(o=c=0,i=0;i<f;++i)(r=(n=t[e[i]][l])[1]-n[0])>0?(n[0]=o,n[1]=o+=r):r<0?(n[1]=c,n[0]=c+=r):(n[0]=0,n[1]=r)},Yw=function(t,e){if((n=t.length)>0){for(var n,r=0,o=t[e[0]],c=o.length;r<c;++r){for(var i=0,f=0;i<n;++i)f+=t[i][r][1]||0;o[r][1]+=o[r][0]=-f/2}Dw(t,e)}},Hw=function(t,e){if((o=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,o,c=0,f=1;f<r;++f){for(var i=0,l=0,h=0;i<o;++i){for(var d=t[e[i]],y=d[f][1]||0,_=(y-(d[f-1][1]||0))/2,v=0;v<i;++v){var x=t[e[v]];_+=(x[f][1]||0)-(x[f-1][1]||0)}l+=y,h+=_*y}n[f-1][1]+=n[f-1][0]=c,l&&(c-=h/l)}n[f-1][1]+=n[f-1][0]=c,Dw(t,e)}},Uw=function(t){var e=t.map(Ww);return jw(t).sort((function(a,b){return e[a]-e[b]}))};function Ww(t){for(var e,i=-1,n=0,r=t.length,o=-1/0;++i<r;)(e=+t[i][1])>o&&(o=e,n=i);return n}var qw=function(t){var e=t.map(Qw);return jw(t).sort((function(a,b){return e[a]-e[b]}))};function Qw(t){for(var e,s=0,i=-1,n=t.length;++i<n;)(e=+t[i][1])&&(s+=e);return s}var $w=function(t){return qw(t).reverse()},Zw=function(t){var i,e,n=t.length,r=t.map(Qw),o=Uw(t),c=0,f=0,l=[],h=[];for(i=0;i<n;++i)e=o[i],c<f?(c+=r[e],l.push(e)):(f+=r[e],h.push(e));return h.reverse().concat(l)},Kw=function(t){return jw(t).reverse()};var Jw=Date.prototype.toISOString?function(t){return t.toISOString()}:f_("%Y-%m-%dT%H:%M:%S.%LZ");var tS=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:l_("%Y-%m-%dT%H:%M:%S.%LZ"),eS=function(t,e,time){var n=new Jn,r=e;return null==e?(n.restart(t,e,time),n):(e=+e,time=null==time?Zn():+time,n.restart((function o(c){c+=r,n.restart(o,r+=e,time),t(c)}),e,time),n)},nS=function(t){return function(){return t}};function rS(t){return t[0]}function iS(t){return t[1]}function oS(){this._=null}function aS(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function uS(t,e){var p=e,q=e.R,n=p.U;n?n.L===p?n.L=q:n.R=q:t._=q,q.U=n,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function sS(t,e){var p=e,q=e.L,n=p.U;n?n.L===p?n.L=q:n.R=q:t._=q,q.U=n,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function cS(t){for(;t.L;)t=t.L;return t}oS.prototype={constructor:oS,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=cS(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(uS(this,n),n=(t=n).U),n.C=!1,r.C=!0,sS(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(sS(this,n),n=(t=n).U),n.C=!1,r.C=!0,uS(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,c=t.L,f=t.R;if(n=c?f?cS(f):c:f,o?o.L===t?o.L=n:o.R=n:this._=n,c&&f?(r=n.C,n.C=t.C,n.L=c,c.U=n,n!==f?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=f,f.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,uS(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,sS(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,uS(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,sS(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,uS(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,sS(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var fS=oS;function lS(t,e,n,r){var o=[null,null],c=RS.push(o)-1;return o.left=t,o.right=e,n&&dS(o,t,e,n),r&&dS(o,e,t,r),VS[t.index].halfedges.push(c),VS[e.index].halfedges.push(c),o}function hS(t,e,n){var r=[e,n];return r.left=t,r}function dS(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function pS(t,e,n,r,o){var c,a=t[0],b=t[1],f=a[0],l=a[1],h=0,d=1,y=b[0]-f,_=b[1]-l;if(c=e-f,y||!(c>0)){if(c/=y,y<0){if(c<h)return;c<d&&(d=c)}else if(y>0){if(c>d)return;c>h&&(h=c)}if(c=r-f,y||!(c<0)){if(c/=y,y<0){if(c>d)return;c>h&&(h=c)}else if(y>0){if(c<h)return;c<d&&(d=c)}if(c=n-l,_||!(c>0)){if(c/=_,_<0){if(c<h)return;c<d&&(d=c)}else if(_>0){if(c>d)return;c>h&&(h=c)}if(c=o-l,_||!(c<0)){if(c/=_,_<0){if(c>d)return;c>h&&(h=c)}else if(_>0){if(c<h)return;c<d&&(d=c)}return!(h>0||d<1)||(h>0&&(t[0]=[f+h*y,l+h*_]),d<1&&(t[1]=[f+d*y,l+d*_]),!0)}}}}}function gS(t,e,n,r,o){var c=t[1];if(c)return!0;var f,l,h=t[0],d=t.left,y=t.right,_=d[0],v=d[1],x=y[0],m=y[1],w=(_+x)/2,S=(v+m)/2;if(m===v){if(w<e||w>=r)return;if(_>x){if(h){if(h[1]>=o)return}else h=[w,n];c=[w,o]}else{if(h){if(h[1]<n)return}else h=[w,o];c=[w,n]}}else if(l=S-(f=(_-x)/(m-v))*w,f<-1||f>1)if(_>x){if(h){if(h[1]>=o)return}else h=[(n-l)/f,n];c=[(o-l)/f,o]}else{if(h){if(h[1]<n)return}else h=[(o-l)/f,o];c=[(n-l)/f,n]}else if(v<m){if(h){if(h[0]>=r)return}else h=[e,f*e+l];c=[r,f*r+l]}else{if(h){if(h[0]<e)return}else h=[r,f*r+l];c=[e,f*e+l]}return t[0]=h,t[1]=c,!0}function yS(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function _S(t,e){return e[+(e.left!==t.site)]}function vS(t,e){return e[+(e.left===t.site)]}var xS,mS=[];function bS(){aS(this),this.x=this.y=this.arc=this.site=this.cy=null}function wS(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,c=n.site;if(r!==c){var f=o[0],l=o[1],h=r[0]-f,d=r[1]-l,y=c[0]-f,_=c[1]-l,v=2*(h*_-d*y);if(!(v>=-NS)){var x=h*h+d*d,m=y*y+_*_,w=(_*x-d*m)/v,S=(h*m-y*x)/v,circle=mS.pop()||new bS;circle.arc=t,circle.site=o,circle.x=w+f,circle.y=(circle.cy=S+l)+Math.sqrt(w*w+S*S),t.circle=circle;for(var A=null,T=GS._;T;)if(circle.y<T.y||circle.y===T.y&&circle.x<=T.x){if(!T.L){A=T.P;break}T=T.L}else{if(!T.R){A=T;break}T=T.R}GS.insert(A,circle),A||(xS=circle)}}}}function SS(t){var circle=t.circle;circle&&(circle.P||(xS=circle.N),GS.remove(circle),mS.push(circle),aS(circle),t.circle=null)}var AS=[];function TS(){aS(this),this.edge=this.site=this.circle=null}function PS(t){var e=AS.pop()||new TS;return e.site=t,e}function CS(t){SS(t),kS.remove(t),AS.push(t),aS(t)}function MS(t){var circle=t.circle,e=circle.x,n=circle.cy,r=[e,n],o=t.P,c=t.N,f=[t];CS(t);for(var l=o;l.circle&&Math.abs(e-l.circle.x)<IS&&Math.abs(n-l.circle.cy)<IS;)o=l.P,f.unshift(l),CS(l),l=o;f.unshift(l),SS(l);for(var h=c;h.circle&&Math.abs(e-h.circle.x)<IS&&Math.abs(n-h.circle.cy)<IS;)c=h.N,f.push(h),CS(h),h=c;f.push(h),SS(h);var d,y=f.length;for(d=1;d<y;++d)h=f[d],l=f[d-1],dS(h.edge,l.site,h.site,r);l=f[0],(h=f[y-1]).edge=lS(l.site,h.site,null,r),wS(l),wS(h)}function ES(t){for(var e,n,r,o,c=t[0],f=t[1],l=kS._;l;)if((r=LS(l,f)-c)>IS)l=l.L;else{if(!((o=c-OS(l,f))>IS)){r>-IS?(e=l.P,n=l):o>-IS?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}!function(t){VS[t.index]={site:t,halfedges:[]}}(t);var h=PS(t);if(kS.insert(e,h),e||n){if(e===n)return SS(e),n=PS(e.site),kS.insert(h,n),h.edge=n.edge=lS(e.site,h.site),wS(e),void wS(n);if(n){SS(e),SS(n);var d=e.site,y=d[0],_=d[1],v=t[0]-y,x=t[1]-_,m=n.site,w=m[0]-y,S=m[1]-_,A=2*(v*S-x*w),T=v*v+x*x,P=w*w+S*S,C=[(S*T-x*P)/A+y,(v*P-w*T)/A+_];dS(n.edge,d,m,C),h.edge=lS(d,t,null,C),n.edge=lS(t,m,null,C),wS(e),wS(n)}else h.edge=lS(e.site,h.site)}}function LS(t,e){var n=t.site,r=n[0],o=n[1],c=o-e;if(!c)return r;var f=t.P;if(!f)return-1/0;var l=(n=f.site)[0],h=n[1],d=h-e;if(!d)return l;var y=l-r,_=1/c-1/d,b=y/d;return _?(-b+Math.sqrt(b*b-2*_*(y*y/(-2*d)-h+d/2+o-c/2)))/_+r:(r+l)/2}function OS(t,e){var n=t.N;if(n)return LS(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var kS,VS,GS,RS,IS=1e-6,NS=1e-12;function DS(a,b){return b[1]-a[1]||b[0]-a[0]}function jS(t,e){var n,r,circle,o=t.sort(DS).pop();for(RS=[],VS=new Array(t.length),kS=new fS,GS=new fS;;)if(circle=xS,o&&(!circle||o[1]<circle.y||o[1]===circle.y&&o[0]<circle.x))o[0]===n&&o[1]===r||(ES(o),n=o[0],r=o[1]),o=t.pop();else{if(!circle)break;MS(circle.arc)}if(function(){for(var t,e,n,r,i=0,o=VS.length;i<o;++i)if((t=VS[i])&&(r=(e=t.halfedges).length)){var c=new Array(r),f=new Array(r);for(n=0;n<r;++n)c[n]=n,f[n]=yS(t,RS[e[n]]);for(c.sort((function(i,t){return f[t]-f[i]})),n=0;n<r;++n)f[n]=e[c[n]];for(n=0;n<r;++n)e[n]=f[n]}}(),e){var c=+e[0][0],f=+e[0][1],l=+e[1][0],h=+e[1][1];!function(t,e,n,r){for(var o,i=RS.length;i--;)gS(o=RS[i],t,e,n,r)&&pS(o,t,e,n,r)&&(Math.abs(o[0][0]-o[1][0])>IS||Math.abs(o[0][1]-o[1][1])>IS)||delete RS[i]}(c,f,l,h),function(t,e,n,r){var o,c,f,l,h,d,y,_,v,x,m,w,S=VS.length,A=!0;for(o=0;o<S;++o)if(c=VS[o]){for(f=c.site,l=(h=c.halfedges).length;l--;)RS[h[l]]||h.splice(l,1);for(l=0,d=h.length;l<d;)m=(x=vS(c,RS[h[l]]))[0],w=x[1],_=(y=_S(c,RS[h[++l%d]]))[0],v=y[1],(Math.abs(m-_)>IS||Math.abs(w-v)>IS)&&(h.splice(l,0,RS.push(hS(f,x,Math.abs(m-t)<IS&&r-w>IS?[t,Math.abs(_-t)<IS?v:r]:Math.abs(w-r)<IS&&n-m>IS?[Math.abs(v-r)<IS?_:n,r]:Math.abs(m-n)<IS&&w-e>IS?[n,Math.abs(_-n)<IS?v:e]:Math.abs(w-e)<IS&&m-t>IS?[Math.abs(v-e)<IS?_:t,e]:null))-1),++d);d&&(A=!1)}if(A){var T,P,C,M=1/0;for(o=0,A=null;o<S;++o)(c=VS[o])&&(C=(T=(f=c.site)[0]-t)*T+(P=f[1]-e)*P)<M&&(M=C,A=c);if(A){var E=[t,e],L=[t,r],O=[n,r],k=[n,e];A.halfedges.push(RS.push(hS(f=A.site,E,L))-1,RS.push(hS(f,L,O))-1,RS.push(hS(f,O,k))-1,RS.push(hS(f,k,E))-1)}}for(o=0;o<S;++o)(c=VS[o])&&(c.halfedges.length||delete VS[o])}(c,f,l,h)}this.edges=RS,this.cells=VS,kS=GS=RS=VS=null}jS.prototype={constructor:jS,polygons:function(){var t=this.edges;return this.cells.map((function(e){var polygon=e.halfedges.map((function(i){return _S(e,t[i])}));return polygon.data=e.site.data,polygon}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,c,a,b,f,l=n.site,h=-1,d=e[r[o-1]],y=d.left===l?d.right:d.left;++h<o;)c=y,y=(d=e[r[h]]).left===l?d.right:d.left,c&&y&&i<c.index&&i<y.index&&(b=c,f=y,((a=l)[0]-f[0])*(b[1]-a[1])-(a[0]-b[0])*(f[1]-a[1])<0)&&t.push([l.data,c.data,y.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,o,c=this,f=c._found||0,l=c.cells.length;!(o=c.cells[f]);)if(++f>=l)return null;var h=t-o.site[0],d=e-o.site[1],y=h*h+d*d;do{o=c.cells[r=f],f=null,o.halfedges.forEach((function(n){var r=c.edges[n],l=r.left;if(l!==o.site&&l||(l=r.right)){var h=t-l[0],d=e-l[1],_=h*h+d*d;_<y&&(y=_,f=l.index)}}))}while(null!==f);return c._found=r,null==n||y<=n*n?o.site:null}};var FS=function(){var t=rS,e=iS,n=null;function r(data){return new jS(data.map((function(n,i){var s=[Math.round(t(n,i,data)/IS)*IS,Math.round(e(n,i,data)/IS)*IS];return s.index=i,s.data=n,s})),n)}return r.polygons=function(data){return r(data).polygons()},r.links=function(data){return r(data).links()},r.triangles=function(data){return r(data).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:nS(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:nS(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},zS=function(t){return function(){return t}};function XS(t,e,n){this.target=t,this.type=e,this.transform=n}function BS(t,e,n){this.k=t,this.x=e,this.y=n}BS.prototype={constructor:BS,scale:function(t){return 1===t?this:new BS(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new BS(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YS=new BS(1,0,0);function HS(t){for(;!t.__zoom;)if(!(t=t.parentNode))return YS;return t.__zoom}function US(){ve.stopImmediatePropagation()}HS.prototype=BS.prototype;var WS=function(){ve.preventDefault(),ve.stopImmediatePropagation()};function qS(){return!ve.ctrlKey&&!ve.button}function QS(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function $S(){return this.__zoom||YS}function ZS(){return-ve.deltaY*(1===ve.deltaMode?.05:ve.deltaMode?1:.002)}function KS(){return navigator.maxTouchPoints||"ontouchstart"in this}function JS(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],c=t.invertY(e[0][1])-n[0][1],f=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),f>c?(c+f)/2:Math.min(0,c)||Math.max(0,f))}var tA=function(){var t,e,filter=qS,n=QS,r=JS,o=ZS,c=KS,f=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],h=250,d=kp,y=mt("start","zoom","end"),_=0;function v(t){t.property("__zoom",$S).on("wheel.zoom",P).on("mousedown.zoom",C).on("dblclick.zoom",M).filter(c).on("touchstart.zoom",E).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(t,e){return(e=Math.max(f[0],Math.min(f[1],e)))===t.k?t:new BS(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new BS(t.k,r,o)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function S(t,e,r){t.on("start.zoom",(function(){A(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){A(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,g=A(t,o),c=n.apply(t,o),p=null==r?w(c):"function"==typeof r?r.apply(t,o):r,f=Math.max(c[1][0]-c[0][0],c[1][1]-c[0][1]),a=t.__zoom,b="function"==typeof e?e.apply(t,o):e,i=d(a.invert(p).concat(f/a.k),b.invert(p).concat(f/b.k));return function(t){if(1===t)t=b;else{var e=i(t),n=f/e[2];t=new BS(n,p[0]-e[0]*n,p[1]-e[1]*n)}g.zoom(null,t)}}))}function A(t,e,n){return!n&&t.__zooming||new T(t,e)}function T(t,e){this.that=t,this.args=e,this.active=0,this.extent=n.apply(t,e),this.taps=0}function P(){if(filter.apply(this,arguments)){var g=A(this,arguments),t=this.__zoom,e=Math.max(f[0],Math.min(f[1],t.k*Math.pow(2,o.apply(this,arguments)))),p=Xn(this);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===e)return;g.mouse=[p,t.invert(p)],vr(this),g.start()}WS(),g.wheel=setTimeout(n,150),g.zoom("mouse",r(m(x(t,e),g.mouse[0],g.mouse[1]),g.extent,l))}function n(){g.wheel=null,g.end()}}function C(){if(!e&&filter.apply(this,arguments)){var g=A(this,arguments,!0),t=ke(ve.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",f,!0),p=Xn(this),n=ve.clientX,o=ve.clientY;Re(ve.view),US(),g.mouse=[p,this.__zoom.invert(p)],vr(this),g.start()}function c(){if(WS(),!g.moved){var t=ve.clientX-n,e=ve.clientY-o;g.moved=t*t+e*e>_}g.zoom("mouse",r(m(g.that.__zoom,g.mouse[0]=Xn(g.that),g.mouse[1]),g.extent,l))}function f(){t.on("mousemove.zoom mouseup.zoom",null),Ie(ve.view,g.moved),WS(),g.end()}}function M(){if(filter.apply(this,arguments)){var t=this.__zoom,e=Xn(this),o=t.invert(e),c=t.k*(ve.shiftKey?.5:2),f=r(m(x(t,c),e,o),n.apply(this,arguments),l);WS(),h>0?ke(this).transition().duration(h).call(S,f,e):ke(this).call(v.transform,f)}}function E(){if(filter.apply(this,arguments)){var e,i,n,p,r=ve.touches,o=r.length,g=A(this,arguments,ve.changedTouches.length===o);for(US(),i=0;i<o;++i)n=r[i],p=[p=zn(this,r,n.identifier),this.__zoom.invert(p),n.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,e=!0,g.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(g.taps<2&&(t=setTimeout((function(){t=null}),500)),vr(this),g.start())}}function L(){if(this.__zooming){var i,e,p,n,g=A(this,arguments),o=ve.changedTouches,c=o.length;for(WS(),t&&(t=clearTimeout(t)),g.taps=0,i=0;i<c;++i)e=o[i],p=zn(this,o,e.identifier),g.touch0&&g.touch0[2]===e.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===e.identifier&&(g.touch1[0]=p);if(e=g.that.__zoom,g.touch1){var f=g.touch0[0],h=g.touch0[1],d=g.touch1[0],y=g.touch1[1],_=(_=d[0]-f[0])*_+(_=d[1]-f[1])*_,dl=(dl=y[0]-h[0])*dl+(dl=y[1]-h[1])*dl;e=x(e,Math.sqrt(_/dl)),p=[(f[0]+d[0])/2,(f[1]+d[1])/2],n=[(h[0]+y[0])/2,(h[1]+y[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],n=g.touch0[1]}g.zoom("touch",r(m(e,p,n),g.extent,l))}}function O(){if(this.__zooming){var i,t,g=A(this,arguments),n=ve.changedTouches,r=n.length;for(US(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),i=0;i<r;++i)t=n[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps){var p=ke(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return v.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",$S),t!==r?S(t,e,n):r.interrupt().each((function(){A(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,p){v.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),p)},v.scaleTo=function(t,e,p){v.transform(t,(function(){var t=n.apply(this,arguments),o=this.__zoom,c=null==p?w(t):"function"==typeof p?p.apply(this,arguments):p,f=o.invert(c),h="function"==typeof e?e.apply(this,arguments):e;return r(m(x(o,h),c,f),t,l)}),p)},v.translateBy=function(t,e,o){v.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof o?o.apply(this,arguments):o),n.apply(this,arguments),l)}))},v.translateTo=function(t,e,o,p){v.transform(t,(function(){var t=n.apply(this,arguments),c=this.__zoom,f=null==p?w(t):"function"==typeof p?p.apply(this,arguments):p;return r(YS.translate(f[0],f[1]).scale(c.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof o?-o.apply(this,arguments):-o),t,l)}),p)},T.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Ae(new XS(v,t,this.that.__zoom),y.apply,y,[t,this.that,this.args])}},v.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:zS(+t),v):o},v.filter=function(t){return arguments.length?(filter="function"==typeof t?t:zS(!!t),v):filter},v.touchable=function(t){return arguments.length?(c="function"==typeof t?t:zS(!!t),v):c},v.extent=function(t){return arguments.length?(n="function"==typeof t?t:zS([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):n},v.scaleExtent=function(t){return arguments.length?(f[0]=+t[0],f[1]=+t[1],v):[f[0],f[1]]},v.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(t){return arguments.length?(r=t,v):r},v.duration=function(t){return arguments.length?(h=+t,v):h},v.interpolate=function(t){return arguments.length?(d=t,v):d},v.on=function(){var t=y.on.apply(y,arguments);return t===y?v:t},v.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,v):Math.sqrt(_)},v}},function(t,e,n){"use strict";n.r(e),n.d(e,"Component",(function(){return o.default})),n.d(e,"Vue",(function(){return r.default})),n.d(e,"Mixins",(function(){return o.mixins})),n.d(e,"Emit",(function(){return l})),n.d(e,"Inject",(function(){return d})),n.d(e,"InjectReactive",(function(){return m})),n.d(e,"Model",(function(){return A})),n.d(e,"ModelSync",(function(){return T})),n.d(e,"Prop",(function(){return P})),n.d(e,"PropSync",(function(){return C})),n.d(e,"Provide",(function(){return M})),n.d(e,"ProvideReactive",(function(){return E})),n.d(e,"Ref",(function(){return L})),n.d(e,"VModel",(function(){return O})),n.d(e,"Watch",(function(){return k}));var r=n(5),o=n(243),c=function(){for(var s=0,i=0,t=arguments.length;i<t;i++)s+=arguments[i].length;var e=Array(s),n=0;for(i=0;i<t;i++)for(var a=arguments[i],r=0,o=a.length;r<o;r++,n++)e[n]=a[r];return e},f=/\B([A-Z])/g;function l(t){return function(e,n,r){var o=n.replace(f,"-$1").toLowerCase(),l=r.value;r.value=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var f=function(r){var f=t||o;void 0===r?0===n.length?e.$emit(f):1===n.length?e.$emit(f,n[0]):e.$emit.apply(e,c([f],n)):(n.unshift(r),e.$emit.apply(e,c([f],n)))},d=l.apply(this,n);return h(d)?d.then(f):f(d),d}}}function h(t){return t instanceof Promise||t&&"function"==typeof t.then}function d(t){return Object(o.createDecorator)((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function y(t){return"function"!=typeof t||!t.managed&&!t.managedReactive}function _(t){var e=function(){var n=this,r="function"==typeof t?t.call(this):t;for(var i in(r=Object.create(r||null))[v]=Object.create(this[v]||{}),e.managed)r[e.managed[i]]=this[i];var o=function(i){r[e.managedReactive[i]]=c[i],Object.defineProperty(r[v],e.managedReactive[i],{enumerable:!0,configurable:!0,get:function(){return n[i]}})},c=this;for(var i in e.managedReactive)o(i);return r};return e.managed={},e.managedReactive={},e}var v="__reactiveInject__";function x(t){Array.isArray(t.inject)||(t.inject=t.inject||{},t.inject[v]={from:v,default:{}})}function m(t){return Object(o.createDecorator)((function(e,n){if(void 0===e.inject&&(e.inject={}),!Array.isArray(e.inject)){var r=t?t.from||t:n,o=!!t&&t.default||void 0;e.computed||(e.computed={}),e.computed[n]=function(){var t=this[v];return t?t[r]:o},e.inject[v]=v}}))}var w="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function S(t,e,n){if(w&&!Array.isArray(t)&&"function"!=typeof t&&!t.hasOwnProperty("type")&&void 0===t.type){var r=Reflect.getMetadata("design:type",e,n);r!==Object&&(t.type=r)}}function A(t,e){return void 0===e&&(e={}),function(n,r){S(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[r]=e,n.model={prop:r,event:t||r}}))(n,r)}}function T(t,e,n){return void 0===n&&(n={}),function(r,c){S(n,r,c),Object(o.createDecorator)((function(r,o){(r.props||(r.props={}))[t]=n,r.model={prop:t,event:e||o},(r.computed||(r.computed={}))[o]={get:function(){return this[t]},set:function(t){this.$emit(e,t)}}}))(r,c)}}function P(t){return void 0===t&&(t={}),function(e,n){S(t,e,n),Object(o.createDecorator)((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function C(t,e){return void 0===e&&(e={}),function(n,r){S(e,n,r),Object(o.createDecorator)((function(n,r){(n.props||(n.props={}))[t]=e,(n.computed||(n.computed={}))[r]={get:function(){return this[t]},set:function(e){this.$emit("update:"+t,e)}}}))(n,r)}}function M(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;x(e),y(r)&&(r=e.provide=_(r)),r.managed[n]=t||n}))}function E(t){return Object(o.createDecorator)((function(e,n){var r=e.provide;x(e),y(r)&&(r=e.provide=_(r)),r.managedReactive[n]=t||n}))}function L(t){return Object(o.createDecorator)((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}function O(t){void 0===t&&(t={});return Object(o.createDecorator)((function(e,n){(e.props||(e.props={})).value=t,(e.computed||(e.computed={}))[n]={get:function(){return this.value},set:function(t){this.$emit("input",t)}}}))}function k(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,r=t.immediate,c=void 0!==r&&r;return Object(o.createDecorator)((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var r=t.watch;"object"!=typeof r[path]||Array.isArray(r[path])?void 0===r[path]&&(r[path]=[]):r[path]=[r[path]],r[path].push({handler:e,deep:n,immediate:c})}))}},,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"State",(function(){return c})),n.d(e,"Getter",(function(){return f})),n.d(e,"Action",(function(){return l})),n.d(e,"Mutation",(function(){return h})),n.d(e,"namespace",(function(){return d}));var r=n(243),o=n(336),c=y("computed",o.d),f=y("computed",o.b),l=y("methods",o.a),h=y("methods",o.c);function d(t,e){function n(e){return function(a,b){if("string"==typeof b){var n=b,r=a;return e(n,{namespace:t})(r,n)}var o=a,c=function(a,b){var t={};return[a,b].forEach((function(e){Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}(b||{},{namespace:t});return e(o,c)}}return e?(console.warn("[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead."),n(e)):{State:n(c),Getter:n(f),Mutation:n(h),Action:n(l)}}function y(t,e){function n(map,n){return Object(r.createDecorator)((function(r,o){r[t]||(r[t]={});var c,f=((c={})[o]=map,c);r[t][o]=void 0!==n?e(n,f)[o]:e(f)[o]}))}return function(a,b){if("string"==typeof b){var t=b,e=a;return n(t,void 0)(e,t)}return n(a,function(t){var e=t&&t.namespace;if("string"!=typeof e)return;if("/"!==e[e.length-1])return e+"/";return e}(b))}}}])]);
//# sourceMappingURL=fcec21f.js.map